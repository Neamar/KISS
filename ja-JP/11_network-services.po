#
# AUTHOR <EMAIL@ADDRESS>, YEAR.
# Ryuunosuke Ayanokouzi <i38w7i3@yahoo.co.jp>, 2015.
#
msgid ""
msgstr ""
"Project-Id-Version: 0\n"
"POT-Creation-Date: 2015-07-08 09:41+0000\n"
"PO-Revision-Date: 2015-07-08 19:42+0900\n"
"Last-Translator: AYANOKOUZI, Ryuunosuke <i38w7i3@yahoo.co.jp>\n"
"Language-Team: Japanese\n"
"Language: ja\n"
"MIME-Version: 1.0\n"
"Content-Type: application/x-publican; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: keyword
#, no-c-format
msgid "Postfix"
msgstr "Postfix"

#. Tag: keyword
#, no-c-format
msgid "Apache"
msgstr "Apache"

#. Tag: keyword
#, no-c-format
msgid "NFS"
msgstr "NFS"

#. Tag: keyword
#, no-c-format
msgid "Samba"
msgstr "Samba"

#. Tag: keyword
#, no-c-format
msgid "Squid"
msgstr "Squid"

#. Tag: keyword
#, no-c-format
msgid "OpenLDAP"
msgstr "OpenLDAP"

#. Tag: title
#, no-c-format
msgid "Network Services: Postfix, Apache, NFS, Samba, Squid, LDAP"
msgstr "ネットワークサービス: Postfix、Apache、NFS、Samba、Squid、LDAP"

#. Tag: para
#, no-c-format
msgid "Network services are the programs that users interact with directly in their daily work. They're the tip of the information system iceberg, and this chapter focuses on them; the hidden parts they rely on are the infrastructure we already described."
msgstr "ネットワークサービスはユーザが毎日の仕事で直接使用するプログラムです。ネットワークサービスは情報システムの氷山の一角で、この章ではネットワークサービスに注目します; 水面下に隠された部分は、既に説明したインフラに依存しています。"

#. Tag: title
#, no-c-format
msgid "Mail Server"
msgstr "メールサーバ"

#. Tag: para
#, no-c-format
msgid "The Falcot Corp administrators selected Postfix for the electronic mail server, due to its reliability and its ease of configuration. Indeed, its design enforces that each task is implemented in a process with the minimum set of required permissions, which is a great mitigation measure against security problems."
msgstr "Falcot Corp の管理者は、信頼性と設定の容易さから、電子メールサーバに Postfix を選びました。実際、Postfix の設計により、それぞれのタスクは必要な最低限のパーミッションを持つ単独のプロセスとして実装される事が、強制されます。この制限によりセキュリティ問題を大きく軽減させる事が可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>server</secondary>"
msgstr "<primary>電子メール</primary><secondary>サーバ</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>mail server</primary>"
msgstr "<primary>メールサーバ</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Postfix</primary>"
msgstr "<primary>Postfix</primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>ALTERNATIVE</emphasis> The Exim4 server"
msgstr "<emphasis>ALTERNATIVE</emphasis> Exim4 サーバ"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Exim</primary>"
msgstr "<primary>Exim</primary>"

#. Tag: para
#, no-c-format
msgid "Debian uses Exim4 as the default email server (which is why the initial installation includes Exim4). The configuration is provided by a separate package, <emphasis role=\"pkg\">exim4-config</emphasis>, and automatically customized based on the answers to a set of Debconf questions very similar to the questions asked by the <emphasis role=\"pkg\">postfix</emphasis> package."
msgstr "Debian はデフォルト電子メールサーバとして Exim4 を使います (そのため Exim4 は最初にインストールされるパッケージに含まれます)。Exim4 の設定は別のパッケージ <emphasis role=\"pkg\">exim4-config</emphasis> で提供され、Debconf を使った一連の質問に答えることで自動的にカスタマイズされます。この質問は <emphasis role=\"pkg\">postfix</emphasis> パッケージの行う質問とよく似ています。"

#. Tag: para
#, no-c-format
msgid "The configuration can be either in one single file (<filename>/etc/exim4/exim4.conf.template</filename>) or split across a number of configuration snippets stored under <filename>/etc/exim4/conf.d/</filename>. In both cases, the files are used by <command>update-exim4.conf</command> as templates to generate <filename>/var/lib/exim4/config.autogenerated</filename>. The latter is the file used by Exim4. Thanks to this mechanism, values obtained through Exim's debconf configuration — which are stored in <filename>/etc/exim4/update-exim4.conf.conf</filename> — can be injected in Exim's configuration file, even when the administrator or another package has altered the default Exim configuration."
msgstr "設定は単独ファイル (<filename>/etc/exim4/exim4.conf.template</filename>) を使うか、<filename>/etc/exim4/conf.d/</filename> の下に保存される数多くの設定の断片を通じて行います。どちらの場合も、<command>update-exim4.conf</command> が設定ファイルを使って <filename>/var/lib/exim4/config.autogenerated</filename> を生成します。実際 Exim4 が使うファイルが <filename>/var/lib/exim4/config.autogenerated</filename> です。このメカニズムのお陰で、Exim の debconf 設定を通じて得られた値 - <filename>/etc/exim4/update-exim4.conf.conf</filename> に保存されている値 - は管理者や他のパッケージがデフォルトの Exim 設定を変更した場合でも Exim の設定ファイルに反映されます。"

#. Tag: para
#, no-c-format
msgid "The Exim4 configuration file syntax has its peculiarities and its learning curve; however, once these peculiarities are understood, Exim4 is a very complete and powerful email server, as evidenced by the tens of pages of documentation. <ulink type=\"block\" url=\"http://www.exim.org/docs.html\" />"
msgstr "Exim4 設定ファイルの構文は特殊で、構文の学習曲線も特殊です; しかしながら、その特殊性を理解すれば、Exim4 は数十ページにおよぶ文書からも明らかな通りとても完全で強力な電子メールサーバです。<ulink type=\"block\" url=\"http://www.exim.org/docs.html\" />"

#. Tag: title
#, no-c-format
msgid "Installing Postfix"
msgstr "Postfix のインストール"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">postfix</emphasis> package includes the main SMTP daemon. Other packages (such as <emphasis role=\"pkg\">postfix-ldap</emphasis> and <emphasis role=\"pkg\">postfix-pgsql</emphasis>) add extra functionality to Postfix, including access to mapping databases. You should only install them if you know that you need them."
msgstr "<emphasis role=\"pkg\">postfix</emphasis> パッケージには主要な SMTP デーモンが含まれます。別のパッケージ (例えば <emphasis role=\"pkg\">postfix-ldap</emphasis> と <emphasis role=\"pkg\">postfix-pgsql</emphasis> など) は追加機能を Postfix に追加します。これらのパッケージはマッピングデータベースへのアクセスを可能にします。これらのパッケージは、それが必要と判っている場合を除いて、インストールするべきではありません。"

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> SMTP"
msgstr "<emphasis>BACK TO BASICS</emphasis> SMTP"

#. Tag: indexterm
#, no-c-format
msgid "<primary>SMTP</primary>"
msgstr "<primary>SMTP</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Simple Mail Transfer Protocol</primary>"
msgstr "<primary>Simple Mail Transfer Protocol</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>SMTP</secondary>"
msgstr "<primary>サーバ</primary><secondary>SMTP</secondary>"

#. Tag: para
#, no-c-format
msgid "SMTP (<emphasis>Simple Mail Transfer Protocol</emphasis>) is the protocol used by mail servers to exchange and route emails."
msgstr "メールサーバは SMTP (<emphasis>Simple Mail Transfer Protocol</emphasis>) を使ってメールを交換したり配送したりします。"

#. Tag: para
#, no-c-format
msgid "Several Debconf questions are asked during the installation of the package. The answers allow generating a first version of the <filename>/etc/postfix/main.cf</filename> configuration file."
msgstr "Debconf はパッケージのインストール中に幾つかの質問を行います。これに答えることで、<filename>/etc/postfix/main.cf</filename> 設定ファイルの最初のバージョンが作成されます。"

#. Tag: para
#, no-c-format
msgid "The first question deals with the type of setup. Only two of the proposed answers are relevant in case of an Internet-connected server, “Internet site” and “Internet with smarthost”. The former is appropriate for a server that receives incoming email and sends outgoing email directly to its recipients, and is therefore well-adapted to the Falcot Corp case. The latter is appropriate for a server receiving incoming email normally, but that sends outgoing email through an intermediate SMTP server — the “smarthost” — rather than directly to the recipient's server. This is mostly useful for individuals with a dynamic IP address, since many email servers reject messages coming straight from such an IP address. In this case, the smarthost will usually be the ISP's SMTP server, which is always configured to accept email coming from the ISP's customers and forward it appropriately. This setup (with a smarthost) is also relevant for servers that are not permanently connected to the internet, since it avoids having to manage a queue of undeliverable messages that need to be retried later."
msgstr "最初の質問はセットアップのタイプに関するものです。インターネットに接続されたサーバに関連するのは提案された選択肢の内の 2 種類だけです。「Internet site」と「Internet with smarthost」です。「Internet site」は、入って来る電子メールを受け取り、外に出る電子メールを直接受信者に送信するサーバに適します。つまり Falcot Corp の場合に上手く適合します。「Internet with smarthost」は、外に出る電子メールを直接受信者のサーバに送信するのではなく、中間 SMTP サーバ -「smarthost」- を介して送信するサーバに適します。この選択肢は主に動的 IP アドレスを持つマシンに便利です。なぜなら、多くの電子メールサーバは動的 IP アドレスを持つホストから配送されたメッセージを拒否するからです。この場合、スマートホストに通常 ISP の SMTP サーバを設定します。この SMTP サーバはは常に ISP の顧客からの電子メールを受け入れ、それを適切に転送するように設定されています。この (スマートホストを使う) 選択肢はさらに、永久にインターネットに接続され続けないサーバにも適しています。なぜなら、後から再試行する必要のある未配送メッセージのキューを管理しなくても良くなるからです。"

#. Tag: title
#, no-c-format
msgid "<emphasis>VOCABULARY</emphasis> ISP"
msgstr "<emphasis>VOCABULARY</emphasis> ISP"

#. Tag: indexterm
#, no-c-format
msgid "<primary>ISP, Internet Service Provider</primary>"
msgstr "<primary>ISP、インターネットサービスプロバイダ</primary>"

#. Tag: para
#, no-c-format
msgid "ISP is the acronym for “Internet Service Provider”. It covers an entity, often a commercial company, that provides Internet connections and the associated basic services (email, news and so on)."
msgstr "ISP とは「Internet Service Provider」の頭字語です。ISP は通常営利企業で、インターネット接続と関連する基本的サービス (電子メール、ニュースなど) を提供します。"

#. Tag: para
#, no-c-format
msgid "The second question deals with the full name of the machine, used to generate email addresses from a local user name; the full name of the machine ends up as the part after the at-sign (“@”). In the case of Falcot, the answer should be <literal>mail.falcot.com</literal>. This is the only question asked by default, but the configuration it leads to is not complete enough for the needs of Falcot, which is why the administrators run <command>dpkg-reconfigure postfix</command> so as to be able to customize more parameters."
msgstr "2 番目の質問はマシンのフルネームに関するもので、これはローカルユーザの電子メールアドレスを生成するために使われます; マシンのフルネームとはアットマーク (「@」) のすぐ後ろに付けられるものです。Falcot の場合、この質問には <literal>mail.falcot.com</literal> と答えるべきです。デフォルトで聞かれる質問は以上ですが、Falcot にとってこの状態の Postfix はまだ十分に設定されていません。このため、管理者は <command>dpkg-reconfigure postfix</command> を実行してさらに多くのパラメータをカスタマイズします。"

#. Tag: para
#, no-c-format
msgid "One of the extra questions asks for all the domain names related to this machine. The default list includes its full name as well as a few synonyms for <literal>localhost</literal>, but the main <literal>falcot.com</literal> domain needs to be added by hand. More generally, this question should usually be answered with all the domain names for which this machine should serve as an MX server; in other words, all the domain names for which the DNS says that this machine will accept email. This information ends up in the <literal>mydestination</literal> variable of the main Postfix configuration file — <filename>/etc/postfix/main.cf</filename>."
msgstr "追加で行われる質問の 1 つに、このマシンに関連するすべてのドメイン名に関するものがあります。デフォルトで挙げられるドメイン名のリストには、マシンのフルネームと幾つかの <literal>localhost</literal> の同義語が含まれていますが、主要なドメイン名である <literal>falcot.com</literal> を手作業で追加する必要があります。より一般的に言えば、この質問の回答には、通常 MX サーバを担当するマシンに割り当てたすべてのドメイン名を含めるべきです; 言い換えれば、DNS から電子メールを受け入れると回答されるすべてのドメイン名を含めるべきです。この情報の最後に主要な Postfix 設定ファイル - <filename>/etc/postfix/main.cf</filename> - の <literal>mydestination</literal> 変数を設定します。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>MX</secondary>"
msgstr "<primary>サーバ</primary><secondary>MX</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>MX</primary><secondary>server</secondary>"
msgstr "<primary>MX</primary><secondary>サーバ</secondary>"

#. Tag: title
#, no-c-format
msgid "Role of the DNS <emphasis>MX</emphasis> record while sending a mail"
msgstr "メール送信中の DNS <emphasis>MX</emphasis> レコードの役割"

#. Tag: title
#, no-c-format
msgid "<emphasis>EXTRA</emphasis> Querying the MX records"
msgstr "<emphasis>EXTRA</emphasis> MX レコードの問い合わせ"

#. Tag: para
#, no-c-format
msgid "When the DNS does not have an MX record for a domain, the email server will try sending the messages to the host itself, by using the matching A record (or AAAA in IPv6)."
msgstr "宛先アドレスの DNS 応答に MX レコードが含まれない場合、電子メールサーバはの宛先アドレスの A レコード (IPv6 の場合 AAAA レコード) に送信する事を試みます。"

#. Tag: para
#, no-c-format
msgid "In some cases, the installation can also ask what networks should be allowed to send email via the machine. In its default configuration, Postfix only accepts emails coming from the machine itself; the local network will usually be added. The Falcot Corp administrators added <literal>192.168.0.0/16</literal> to the default answer. If the question is not asked, the relevant variable in the configuration file is <literal>mynetworks</literal>, as seen in the example below."
msgstr "インストール中に、このサーバが電子メールの送信要求を受け入れるネットワークを尋ねられる場合があります。デフォルトの設定で、Postfix はマシン自身からの電子メールの送信要求だけを受け入れます; 通常はローカルネットワークからの送信要求も受け入れるように設定します。Falcot Corp 管理者はデフォルトの回答に <literal>192.168.0.0/16</literal> を追加しました。この質問が尋ねられなければ、以下の例に示す通り、設定ファイル中の関連する変数 <literal>mynetworks</literal> にローカルネットワークを追加します。"

#. Tag: para
#, no-c-format
msgid "Local email can also be delivered through <command>procmail</command>. This tool allows users to sort their incoming email according to rules stored in their <filename>~/.procmailrc</filename> file."
msgstr "ローカル電子メールを <command>procmail</command> を使って配送する事も可能です。<command>procmail</command> を使うことで、ユーザは <filename>~/.procmailrc</filename> ファイルに書かれたルールに従って入って来る電子メールを仕分けする事が可能になります。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>procmail</command></primary>"
msgstr "<primary><command>procmail</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering</secondary>"
msgstr "<primary>電子メール</primary><secondary>フィルタ</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>filtering email</primary>"
msgstr "<primary>電子メールフィルタ</primary>"

#. Tag: para
#, no-c-format
msgid "After this first step, the administrators got the following configuration file; it will be used as a starting point for adding some extra functionality in the next sections."
msgstr "最初のステップの後、以下の設定ファイルが得られます; 次の節では、幾つかの追加的な機能を追加するための足掛かりとしてこれを使います。"

#. Tag: title
#, no-c-format
msgid "Initial <filename>/etc/postfix/main.cf</filename> file"
msgstr "最初の <filename>/etc/postfix/main.cf</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# See /usr/share/postfix/main.cf.dist for a commented, more complete version\n"
"\n"
"\n"
"# Debian specific:  Specifying a file name will cause the first\n"
"# line of that file to be used as the name.  The Debian default\n"
"# is /etc/mailname.\n"
"#myorigin = /etc/mailname\n"
"\n"
"smtpd_banner = $myhostname ESMTP $mail_name (Debian/GNU)\n"
"biff = no\n"
"\n"
"# appending .domain is the MUA's job.\n"
"append_dot_mydomain = no\n"
"\n"
"# Uncomment the next line to generate \"delayed mail\" warnings\n"
"#delay_warning_time = 4h\n"
"\n"
"readme_directory = no\n"
"\n"
"# TLS parameters\n"
"smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n"
"smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\n"
"smtpd_use_tls=yes\n"
"smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache\n"
"smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache\n"
"\n"
"# See /usr/share/doc/postfix/TLS_README.gz in the postfix-doc package for\n"
"# information on enabling SSL in the smtp client.\n"
"\n"
"myhostname = mail.falcot.com\n"
"alias_maps = hash:/etc/aliases\n"
"alias_database = hash:/etc/aliases\n"
"myorigin = /etc/mailname\n"
"mydestination = mail.falcot.com, falcot.com, localhost.localdomain, localhost\n"
"relayhost = \n"
"mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.0.0/16\n"
"mailbox_command = procmail -a \"$EXTENSION\"\n"
"mailbox_size_limit = 0\n"
"recipient_delimiter = +\n"
"inet_interfaces = all\n"
"inet_protocols = all"
msgstr ""
"\n"
"# See /usr/share/postfix/main.cf.dist for a commented, more complete version\n"
"\n"
"\n"
"# Debian specific:  Specifying a file name will cause the first\n"
"# line of that file to be used as the name.  The Debian default\n"
"# is /etc/mailname.\n"
"#myorigin = /etc/mailname\n"
"\n"
"smtpd_banner = $myhostname ESMTP $mail_name (Debian/GNU)\n"
"biff = no\n"
"\n"
"# appending .domain is the MUA's job.\n"
"append_dot_mydomain = no\n"
"\n"
"# Uncomment the next line to generate \"delayed mail\" warnings\n"
"#delay_warning_time = 4h\n"
"\n"
"readme_directory = no\n"
"\n"
"# TLS parameters\n"
"smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n"
"smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\n"
"smtpd_use_tls=yes\n"
"smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache\n"
"smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache\n"
"\n"
"# See /usr/share/doc/postfix/TLS_README.gz in the postfix-doc package for\n"
"# information on enabling SSL in the smtp client.\n"
"\n"
"myhostname = mail.falcot.com\n"
"alias_maps = hash:/etc/aliases\n"
"alias_database = hash:/etc/aliases\n"
"myorigin = /etc/mailname\n"
"mydestination = mail.falcot.com, falcot.com, localhost.localdomain, localhost\n"
"relayhost = \n"
"mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.0.0/16\n"
"mailbox_command = procmail -a \"$EXTENSION\"\n"
"mailbox_size_limit = 0\n"
"recipient_delimiter = +\n"
"inet_interfaces = all\n"
"inet_protocols = all"

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> <emphasis>Snake oil</emphasis> SSL certificates"
msgstr "<emphasis>SECURITY</emphasis> <emphasis>Snake oil</emphasis> SSL 証明書"

#. Tag: para
#, no-c-format
msgid "The <emphasis>snake oil</emphasis> certificates, like the <emphasis>snake oil</emphasis> “medicine” sold by unscrupulous quacks in old times, have absolutely no value, since they are generated similarly on all Debian systems, with the same “private” part. They should only be used for testing purposes, and normal service must use real certificates; these can be generated with the procedure described in <xref linkend=\"sect.easy-rsa\" />."
msgstr "<emphasis>snake oil</emphasis> 証明書、昔に悪徳医者によって販売された<emphasis>いんちき</emphasis>「薬」のようなもの、には全く価値がありません。なぜなら、すべての Debian システムで同じ「秘密」部分を使って同じようなものが生成されるからです。<emphasis>snake oil</emphasis> 証明書はテスト目的でのみ使われ、通常のサービスでは真の証明書を使うべきです; 証明書の作成手順は<xref linkend=\"sect.easy-rsa\" />で説明されています。"

#. Tag: title
#, no-c-format
msgid "Configuring Virtual Domains"
msgstr "仮想ドメインの設定"

#. Tag: indexterm
#, no-c-format
msgid "<primary>domain</primary><secondary>virtual</secondary>"
msgstr "<primary>ドメイン</primary><secondary>仮想</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual domain</primary>"
msgstr "<primary>仮想ドメイン</primary>"

#. Tag: para
#, no-c-format
msgid "The mail server can receive emails addressed to other domains besides the main domain; these are then known as virtual domains. In most cases where this happens, the emails are not ultimately destined to local users. Postfix provides two interesting features for handling virtual domains."
msgstr "メールサーバは主要ドメインに加えて他のドメイン宛の電子メールを受け取る事が可能です。これらは仮想ドメインとして知られています。これを使う場合のほとんどは、電子メールが永久的にローカルユーザに配送されない場合です。Postfix は仮想ドメインを取り扱う 2 種類の興味深い機能を提供します。"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Virtual domains and canonical domains"
msgstr "<emphasis>CAUTION</emphasis> 仮想ドメインとカノニカルドメイン"

#. Tag: para
#, no-c-format
msgid "None of the virtual domains must be referenced in the <literal>mydestination</literal> variable; this variable only contains the names of the “canonical” domains directly associated to the machine and its local users."
msgstr "いかなる仮想ドメインも <literal>mydestination</literal> 変数の中で参照していはいけません; <literal>mydestination</literal> 変数では、マシンとローカルユーザに直接的に関連付けられた「カノニカル」ドメインの名前だけが含まれます。"

#. Tag: title
#, no-c-format
msgid "Virtual Alias Domains"
msgstr "仮想エイリアスドメイン"

#. Tag: indexterm
#, no-c-format
msgid "<primary>alias</primary><secondary>virtual alias domain</secondary>"
msgstr "<primary>別名</primary><secondary>仮想エイリアスドメイン</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual domain</primary><secondary>virtual alias domain</secondary>"
msgstr "<primary>仮想ドメイン</primary><secondary>仮想エイリアスドメイン</secondary>"

#. Tag: para
#, no-c-format
msgid "A virtual alias domain only contains aliases, i.e. addresses that only forward emails to other addresses."
msgstr "仮想エイリアスドメインには、エイリアスだけが含まれます。例えば、電子メールを他のアドレスに転送するだけのアドレスがこれに当たります。"

#. Tag: para
#, no-c-format
msgid "Such a domain is enabled by adding its name to the <literal>virtual_alias_domains</literal> variable, and referencing an address mapping file in the <literal>virtual_alias_maps</literal> variable."
msgstr "ドメインを有効化するには、<literal>virtual_alias_domains</literal> 変数にその名前を追加し、<literal>virtual_alias_maps</literal> 変数でアドレスマッピングファイルを参照します。"

#. Tag: title
#, no-c-format
msgid "Directives to add in the <filename>/etc/postfix/main.cf</filename> file"
msgstr "<filename>/etc/postfix/main.cf</filename> ファイルに追加する指示文"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"virtual_alias_domains = falcotsbrand.com\n"
"virtual_alias_maps = hash:/etc/postfix/virtual"
msgstr ""
"\n"
"virtual_alias_domains = falcotsbrand.com\n"
"virtual_alias_maps = hash:/etc/postfix/virtual"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/virtual</filename> file describes mapping with a rather straightforward syntax: each line contains two fields separated by whitespace; the first field is the alias name, the second field is a list of email addresses where it redirects. The special <literal>@domain.com</literal> syntax covers all remaining aliases in a domain."
msgstr "<filename>/etc/postfix/virtual</filename> ファイルは、かなり直接的な構文で、対応付けを記述します: 各行には空白で分割された 2 つのフィールドが含まれます; 最初のフィールドは別名、2 番目のフィールドはリダイレクトする電子メールアドレスのリストです。<literal>@domain.com</literal> 特殊構文を使うことで、そのドメインに含まれるすべての残りの別名をカバーする事も可能です。"

#. Tag: title
#, no-c-format
msgid "Example <filename>/etc/postfix/virtual</filename> file"
msgstr "<filename>/etc/postfix/virtual</filename> ファイルの例"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"webmaster@falcotsbrand.com  jean@falcot.com\n"
"contact@falcotsbrand.com    laure@falcot.com, sophie@falcot.com\n"
"# The alias below is generic and covers all addresses within \n"
"# the falcotsbrand.com domain not otherwise covered by this file.\n"
"# These addresses forward email to the same user name in the\n"
"# falcot.com domain.\n"
"@falcotsbrand.com           @falcot.com"
msgstr ""
"\n"
"webmaster@falcotsbrand.com  jean@falcot.com\n"
"contact@falcotsbrand.com    laure@falcot.com, sophie@falcot.com\n"
"# The alias below is generic and covers all addresses within \n"
"# the falcotsbrand.com domain not otherwise covered by this file.\n"
"# These addresses forward email to the same user name in the\n"
"# falcot.com domain.\n"
"@falcotsbrand.com           @falcot.com"

#. Tag: title
#, no-c-format
msgid "Virtual Mailbox Domains"
msgstr "仮想メールボックスドメイン"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Combined virtual domain?"
msgstr "<emphasis>CAUTION</emphasis> 統合された仮想ドメイン?"

#. Tag: para
#, no-c-format
msgid "Postfix does not allow using the same domain in both <literal>virtual_alias_domains</literal> and <literal>virtual_mailbox_domains</literal>. However, every domain of <literal>virtual_mailbox_domains</literal> is implicitly included in <literal>virtual_alias_domains</literal>, which makes it possible to mix aliases and mailboxes within a virtual domain."
msgstr "Postfix は <literal>virtual_alias_domains</literal> と <literal>virtual_mailbox_domains</literal> で同じドメインを使う事を許しません。しかしながら、<literal>virtual_mailbox_domains</literal> の各ドメインは明らかに <literal>virtual_alias_domains</literal> に含まれます。そのお陰で、仮想ドメインの中でエイリアスとメールボックスを混在させる事が可能になります。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>mailbox, virtual domain</primary>"
msgstr "<primary>メールボックス、仮想ドメイン</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual domain</primary><secondary>virtual mailbox domain</secondary>"
msgstr "<primary>仮想ドメイン</primary><secondary>仮想メールボックスドメイン</secondary>"

#. Tag: para
#, no-c-format
msgid "Messages addressed to a virtual mailbox domain are stored in mailboxes not assigned to a local system user."
msgstr "仮想メールボックスドメイン宛のメッセージはローカルシステムユーザに割り当てられていないメールボックスに保存されます。"

#. Tag: para
#, no-c-format
msgid "Enabling a virtual mailbox domain requires naming this domain in the <literal>virtual_mailbox_domains</literal> variable, and referencing a mailbox mapping file in <literal>virtual_mailbox_maps</literal>. The <literal>virtual_mailbox_base</literal> parameter contains the directory under which the mailboxes will be stored."
msgstr "仮想メールボックスドメインを有効化するには、そのドメインを <literal>virtual_mailbox_domains</literal> 変数の中に含め、<literal>virtual_mailbox_maps</literal> で指定したメールボックスマッピングファイルで参照します。<literal>virtual_mailbox_base</literal> パラメータには、メールボックスが保存されるディレクトリが含まれます。"

#. Tag: para
#, no-c-format
msgid "The <literal>virtual_uid_maps</literal> parameter (respectively <literal>virtual_gid_maps</literal>) references the file containing the mapping between the email address and the system user (respectively group) that “owns” the corresponding mailbox. To get all mailboxes owned by the same owner/group, the <literal>static:5000</literal> syntax assigns a fixed UID/GID (of value 5000 here)."
msgstr "<literal>virtual_uid_maps</literal> (および <literal>virtual_gid_maps</literal>) パラメータは電子メールアドレスとそれに対応するメールボックスを「所有する」システムユーザ (およびグループ) の対応関係を含むファイルを参照します。すべてのメールボックスを同じ所有者とグループによって所有されるようにするには <literal>static:5000</literal> 構文はを使って固定された UID/GID (ここでは 5000)を割り当てるようにします。"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"virtual_mailbox_domains = falcot.org\n"
"virtual_mailbox_maps = hash:/etc/postfix/vmailbox\n"
"virtual_mailbox_base = /var/mail/vhosts"
msgstr ""
"\n"
"virtual_mailbox_domains = falcot.org\n"
"virtual_mailbox_maps = hash:/etc/postfix/vmailbox\n"
"virtual_mailbox_base = /var/mail/vhosts"

#. Tag: para
#, no-c-format
msgid "Again, the syntax of the <filename>/etc/postfix/vmailbox</filename> file is quite straightforward: two fields separated with whitespace. The first field is an email address within one of the virtual domains, and the second field is the location of the associated mailbox (relative to the directory specified in <emphasis>virtual_mailbox_base</emphasis>). If the mailbox name ends with a slash (<literal>/</literal>), the emails will be stored in the <emphasis>maildir</emphasis> format; otherwise, the traditional <emphasis>mbox</emphasis> format will be used. The <emphasis>maildir</emphasis> format uses a whole directory to store a mailbox, each individual message being stored in a separate file. In the <emphasis>mbox</emphasis> format, on the other hand, the whole mailbox is stored in one file, and each line starting with “<literal>From </literal>” (<literal>From</literal> followed by a space) signals the start of a new message."
msgstr "繰り返しになりますが、<filename>/etc/postfix/vmailbox</filename> ファイルの構文はかなり直接的です: 空白で分けられた 2 種類のフィールドです。最初のフィールドは仮想ドメインの 1 つに属する電子メールアドレスで、2 番目のフィールドは関連するメールボックスの場所です (<emphasis>virtual_mailbox_base</emphasis> 以下のディレクトリパス)。メールボックスの名前がスラッシュ (<literal>/</literal>) で終わっていた場合、電子メールは <emphasis>maildir</emphasis> フォーマットで保存されます; そうでなければ伝統的な  <emphasis>mbox</emphasis> フォーマットで保存されます。<emphasis>maildir</emphasis> フォーマットはメールボックスを保存するためにディレクトリ全体を使い、それぞれのメッセージは 1 つのファイルとして保存されます。これに対して、<emphasis>mbox</emphasis> フォーマットでは、メールボックス全体が 1 つのファイルに保存されます。「<literal>From </literal>」(<literal>From</literal> の後に 1 つの空白) で始まる行が新しいメッセージの始まる目印です。"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/postfix/vmailbox</filename> file"
msgstr "<filename>/etc/postfix/vmailbox</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Jean's email is stored as maildir, with\n"
"# one file per email in a dedicated directory\n"
"jean@falcot.org falcot.org/jean/\n"
"# Sophie's email is stored in a traditional \"mbox\" file,\n"
"# with all mails concatenated into one single file\n"
"sophie@falcot.org falcot.org/sophie"
msgstr ""
"\n"
"# Jean's email is stored as maildir, with\n"
"# one file per email in a dedicated directory\n"
"jean@falcot.org falcot.org/jean/\n"
"# Sophie's email is stored in a traditional \"mbox\" file,\n"
"# with all mails concatenated into one single file\n"
"sophie@falcot.org falcot.org/sophie"

#. Tag: title
#, no-c-format
msgid "Restrictions for Receiving and Sending"
msgstr "受信と送信の制限"

#. Tag: para
#, no-c-format
msgid "The growing number of unsolicited bulk emails (<emphasis>spam</emphasis>) requires being increasingly strict when deciding which emails a server should accept. This section presents some of the strategies included in Postfix."
msgstr "迷惑メール (<emphasis>スパム</emphasis>) の数が増加したことにより、サーバが受け入れる電子メールの判断基準をますます厳しくする事が要求されるようになっています。この節では Postfix に含まれる幾つかの戦略を紹介します。"

#. Tag: title
#, no-c-format
msgid "<emphasis>CULTURE</emphasis> The spam problem"
msgstr "<emphasis>CULTURE</emphasis> スパム問題"

#. Tag: indexterm
#, no-c-format
msgid "<primary>spam</primary>"
msgstr "<primary>スパム</primary>"

#. Tag: para
#, no-c-format
msgid "“Spam” is a generic term used to designate all the unsolicited commercial emails (also known as UCEs) that flood our electronic mailboxes; the unscrupulous individuals sending them are known as spammers. They care little about the nuisance they cause, since sending an email costs very little, and only a very small percentage of recipients need to be attracted by the offers for the spamming operation to make more money than it costs. The process is mostly automated, and any email address made public (for instance, on a web forum, or on the archives of a mailing list, or on a blog, and so on) will be discovered by the spammers' robots, and subjected to a never-ending stream of unsolicited messages."
msgstr "「スパム」は一般的な用語で、電子メールボックスを溢れさせるすべての迷惑メール (UCE としても知られる) を指す場合に使われます; スパムを送信する悪人はスパマーとして知られています。スパマーは自分のやっている迷惑行為にほとんど関心がありません。なぜなら、電子メールを送信する費用はとても小さく、受信者の内とても少ない割合がスパム行為の提供物により惹きつけられ、そのコストより多くのお金を生むからです。スパム行為はほとんど自動化されています。公開している電子メールアドレス (例えば、ウェブフォーラム、メーリングリストのアーカイブ、ブログ、など) はスパマーのロボットによって発見され、迷惑メッセージを絶えず送りつけられます。"

#. Tag: para
#, no-c-format
msgid "All system administrators try to face this nuisance with spam filters, but of course spammers keep adjusting to try to work around these filters. Some even rent networks of machines compromised by a worm from various crime syndicates. Recent statistics estimate that up to 95% of all emails circulating on the Internet are spam!"
msgstr "すべてのシステム管理者はスパムフィルタを使ってこの迷惑行為に立ち向かう事を試みます。しかし、もちろんスパマーはスパムフィルタを対処するように調整を続けます。一部のスパマーは様々な犯罪組織によりワームに感染させられたマシンのネットワークを借りるかもしれません。最近の統計によればインターネット上を流れるすべての電子メールの 95% 超がスパムであると推定されています!"

#. Tag: title
#, no-c-format
msgid "IP-Based Access Restrictions"
msgstr "IP に基づくアクセス制限"

#. Tag: para
#, no-c-format
msgid "The <literal>smtpd_client_restrictions</literal> directive controls which machines are allowed to communicate with the email server."
msgstr "<literal>smtpd_client_restrictions</literal> 指示文を使うことで、電子メールサーバと通信する事を許すマシンを制御する事が可能です。"

#. Tag: title
#, no-c-format
msgid "Restrictions Based on Client Address"
msgstr "クライアントアドレスに基づく制限"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_client_restrictions = permit_mynetworks,\n"
"    warn_if_reject reject_unknown_client,\n"
"    check_client_access hash:/etc/postfix/access_clientip,\n"
"    reject_rbl_client sbl-xbl.spamhaus.org,\n"
"    reject_rbl_client list.dsbl.org"
msgstr ""
"\n"
"smtpd_client_restrictions = permit_mynetworks,\n"
"    warn_if_reject reject_unknown_client,\n"
"    check_client_access hash:/etc/postfix/access_clientip,\n"
"    reject_rbl_client sbl-xbl.spamhaus.org,\n"
"    reject_rbl_client list.dsbl.org"

#. Tag: para
#, no-c-format
msgid "When a variable contains a list of rules, as in the example above, these rules are evaluated in order, from the first to the last. Each rule can accept the message, reject it, or leave the decision to a following rule. As a consequence, order matters, and simply switching two rules can lead to a widely different behavior."
msgstr "上に挙げた例のように、変数に復数のルールのリストを設定する場合、これらのルールは最初から最後まで順番に評価されます。それぞれのルールはメッセージを受け入れ、拒否し、次のルールに決定を任せる事が可能です。その結果、順番が重要になります。単純に 2 つのルールを入れ替えることで、挙動が全く違うものになる場合があります。"

#. Tag: para
#, no-c-format
msgid "The <literal>permit_mynetworks</literal> directive, used as the first rule, accepts all emails coming from a machine in the local network (as defined by the <emphasis>mynetworks</emphasis> configuration variable)."
msgstr "最初のルールとして使われている <literal>permit_mynetworks</literal> 指示文により、ローカルネットワーク (<emphasis>mynetworks</emphasis> 設定変数によって定義された) 内のマシンからのすべての電子メールを受け入れるようになります。"

#. Tag: para
#, no-c-format
msgid "The second directive would normally reject emails coming from machines without a completely valid DNS configuration. Such a valid configuration means that the IP address can be resolved to a name, and that this name, in turn, resolves to the IP address. This restriction is often too strict, since many email servers do not have a reverse DNS for their IP address. This explains why the Falcot administrators prepended the <literal>warn_if_reject</literal> modifier to the <literal>reject_unknown_client</literal> directive: this modifier turns the rejection into a simple warning recorded in the logs. The administrators can then keep an eye on the number of messages that would be rejected if the rule were actually enforced, and make an informed decision later if they wish to enable such enforcement."
msgstr "2 番目の指示文により、完全に適切な DNS 設定の無いマシンからの電子メールを通常拒否するようになります。ここで適切な設定とは、IP アドレスが名前に解決でき、その名前が IP アドレスに解決できる事を意味しています。この基準は厳しすぎる場合が多いでしょう。なぜなら、多くの電子メールサーバは IP アドレスに対応する逆引き DNS を持っていないからです。このため、Falcot 管理者は <literal>warn_if_reject</literal> 修飾子を <literal>reject_unknown_client</literal> 指示文の前に起きました。<literal>warn_if_reject</literal> 修飾子を付けることで、拒否するのではなく警告をログに記録するようになります。管理者は、このルールが実際強制された場合に拒否されるかもしれないメッセージの数に目を光らせ、後から十分な情報に基づいてこのルールを強制するか否かを決断する事が可能です。"

#. Tag: title
#, no-c-format
msgid "<emphasis>TIP</emphasis> <emphasis>access</emphasis> tables"
msgstr "<emphasis>TIP</emphasis> <emphasis>access</emphasis> テーブル"

#. Tag: para
#, no-c-format
msgid "The restriction criteria include administrator-modifiable tables listing combinations of senders, IP addresses, and allowed or forbidden hostnames. These tables can be created from an uncompressed copy of the <filename>/usr/share/doc/postfix-doc/examples/access.gz</filename> file. This model is self-documented in its comments, which means each table describes its own syntax."
msgstr "管理者は送信者、IP アドレス、許可および拒否ホスト名を組み合わせたテーブルを作成し、制限基準としてこれを使う事が可能です。これらのテーブルは <filename>/usr/share/doc/postfix-doc/examples/access.gz</filename> ファイルを展開したコピーを使って作成する事も可能です。このひな形には、説明がコメントとして書かれており、それぞれのテーブルがその構文を説明しています。"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/access_clientip</filename> table lists IP addresses and networks; <filename>/etc/postfix/access_helo</filename> lists domain names; <filename>/etc/postfix/access_sender</filename> contains sender email addresses. All these files need to be turned into hash-tables (a format optimized for fast access) after each change, with the <command>postmap /etc/postfix/<replaceable>file</replaceable></command> command."
msgstr "<filename>/etc/postfix/access_clientip</filename> テーブルは IP アドレスとネットワークをリストしています; <filename>/etc/postfix/access_helo</filename> はドメイン名をリストしています; <filename>/etc/postfix/access_sender</filename> は送信者の電子メールアドレスを含みます。これらのファイルを変更した場合、その後に必ず <command>postmap /etc/postfix/<replaceable>file</replaceable></command> コマンドを使ってファイルをハッシュテーブル (高速アクセスに最適化されたフォーマット) に変換する必要があります。"

#. Tag: para
#, no-c-format
msgid "The third directive allows the administrator to set up a black list and a white list of email servers, stored in the <filename>/etc/postfix/access_clientip</filename> file. Servers in the white list are considered as trusted, and the emails coming from there therefore do not go through the following filtering rules."
msgstr "3 番目の指示文を使うことで、管理者は <filename>/etc/postfix/access_clientip</filename> ファイルに保存された電子メールサーバのブラックリストとホワイトリストを設定する事が可能になります。ホワイトリストに含まれるサーバは信頼され、このサーバから来る電子メールは以降のフィルタリングルールを適用されません。"

#. Tag: para
#, no-c-format
msgid "The last two rules reject any message coming from a server listed in one of the indicated black lists. RBL is an acronym for <emphasis>Remote Black List</emphasis>; there are several such lists, but they all list badly configured servers that spammers use to relay their emails, as well as unexpected mail relays such as machines infected with worms or viruses."
msgstr "最後の 2 つのルールにより、ブラックリストに含まれるサーバからのメッセージを拒否するようになります。RBL は <emphasis>Remote Black List</emphasis> の頭字語です; ブラックリストは復数存在しますが、どれも、スパマーが電子メールを中継するために使う下手に設定されたサーバ、ワームやウィルスに感染したマシンのような本来の意図と異なりメール中継させられているサーバ、がリストされています。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>RBL</primary>"
msgstr "<primary>RBL</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Remote Black List</primary>"
msgstr "<primary>Remote Black List</primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>TIP</emphasis> White list and RBLs"
msgstr "<emphasis>TIP</emphasis> ホワイトリストと RBL"

#. Tag: para
#, no-c-format
msgid "Black lists sometimes include a legitimate server that has been suffering an incident. In these situations, all emails coming from one of these servers would be rejected unless the server is listed in a whitelist defined by <filename>/etc/postfix/access_clientip</filename>."
msgstr "ブラックリストには、過去に異常が発生した正当なサーバも含まれます。この場合、そのようなサーバからのすべての電子メールは拒否されます。これを受け入れるには <filename>/etc/postfix/access_clientip</filename> によって定義されたホワイトリストの中にそのサーバをリストするしかありません。"

#. Tag: para
#, no-c-format
msgid "Prudence therefore recommends including in the white list all the trusted servers from which many emails are usually received."
msgstr "このため、よく考えた上で、通常電子メールを受け取るような信頼できるサーバはすべてホワイトリストの中に含める事を推奨します。"

#. Tag: title
#, no-c-format
msgid "Checking the Validity of the <literal>EHLO</literal> or <literal>HELO</literal> Commands"
msgstr "<literal>EHLO</literal> または <literal>HELO</literal> コマンドの妥当性確認"

#. Tag: para
#, no-c-format
msgid "Each SMTP exchange starts with a <literal>HELO</literal> (or <literal>EHLO</literal>) command, followed by the name of the sending email server; checking the validity of this name can be interesting."
msgstr "SMTP でメールを送信するには、サーバに <literal>HELO</literal> (または <literal>EHLO</literal>) の後に送信元の名前をつけたコマンドを送ります。送信元の名前の妥当性を確認することは興味深いです。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>HELO</literal></primary>"
msgstr "<primary><literal>HELO</literal></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>EHLO</literal></primary>"
msgstr "<primary><literal>EHLO</literal></primary>"

#. Tag: title
#, no-c-format
msgid "Restrictions on the name announced in <literal>EHLO</literal>"
msgstr "<literal>EHLO</literal> の引数に与えられる名前の制限"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_helo_restrictions = permit_mynetworks,\n"
"    reject_invalid_hostname,\n"
"    check_helo_access hash:/etc/postfix/access_helo,\n"
"    reject_non_fqdn_hostname,\n"
"    warn_if_reject reject_unknown_hostname"
msgstr ""
"\n"
"smtpd_helo_restrictions = permit_mynetworks,\n"
"    reject_invalid_hostname,\n"
"    check_helo_access hash:/etc/postfix/access_helo,\n"
"    reject_non_fqdn_hostname,\n"
"    warn_if_reject reject_unknown_hostname"

#. Tag: para
#, no-c-format
msgid "The first <literal>permit_mynetworks</literal> directive allows all machines on the local network to introduce themselves freely. This is important, because some email programs do not respect this part of the SMTP protocol adequately enough, and they can introduce themselves with nonsensical names."
msgstr "最初の <literal>permit_mynetworks</literal> 指示文を使うことで、ローカルネットワーク上のすべてのマシンならば、HELO コマンドの引数にどのような名前を使っても良いことになります。これは重要です。なぜなら、一部の電子メールプログラムは SMTP プロトコルのこの部分を十分適切に尊重せず、HELO の引数に無意味な名前を使います。"

#. Tag: para
#, no-c-format
msgid "The <literal>reject_invalid_hostname</literal> rule rejects emails when the <literal>EHLO</literal> announce lists a syntactically incorrect hostname. The <literal>reject_non_fqdn_hostname</literal> rule rejects messages when the announced hostname is not a fully-qualified domain name (including a domain name as well as a host name). The <literal>reject_unknown_hostname</literal> rule rejects messages if the announced name does not exist in the DNS. Since this last rule unfortunately leads to too many rejections, the administrators turned its effect to a simple warning with the <literal>warn_if_reject</literal> modifier as a first step; they may decide to remove this modifier at a later stage, after auditing the results of this rule."
msgstr "<literal>reject_invalid_hostname</literal> ルールを使うことで、<literal>EHLO</literal> で申告されたホスト名が構文的に不正な電子メールを拒否するようになります。<literal>reject_non_fqdn_hostname</literal> ルールを使うことで、申告されたホスト名が完全修飾ドメイン名 (ホスト名まで含むドメイン名) でないメッセージを拒否するようになります。<literal>reject_unknown_hostname</literal> ルールを使うことで、申告された名前が DNS に存在しないメッセージを拒否するようになります。最後のルールを適用すると、数多くの電子メールが拒否されることになるため、管理者は <literal>warn_if_reject</literal> 修飾子を付けて警告するだけにしています。管理者は <literal>reject_unknown_hostname</literal> ルールの結果を調査した後に、最後の段階で <literal>warn_if_reject</literal> 修飾子を削除するか判断します。"

#. Tag: para
#, no-c-format
msgid "Using <literal>permit_mynetworks</literal> as the first rule has an interesting side effect: the following rules only apply to hosts outside the local network. This allows blacklisting all hosts that announce themselves as part of the <literal>falcot.com</literal>, for instance by adding a <literal>falcot.com REJECT You're not in our network!</literal> line to the <filename>/etc/postfix/access_helo</filename> file."
msgstr "最初のルールに <literal>permit_mynetworks</literal> を使うと、面白い副作用があります: それ以降のルールがローカルネットワークの外のホストにのみ適用されるようになります。これを使うことで、自分を <literal>falcot.com</literal> の一部と申告するすべてのホストをブラックリスト化できます。これを行うには、例えば <literal>falcot.com REJECT You're not in our network!</literal> 行を <filename>/etc/postfix/access_helo</filename> ファイルに追加します。"

#. Tag: title
#, no-c-format
msgid "Accepting or Refusing Based on the Announced Sender"
msgstr "申告された送信者に基づく受け入れおよび拒否"

#. Tag: para
#, no-c-format
msgid "Every message has a sender, announced by the <literal>MAIL FROM</literal> command of the SMTP protocol; again, this information can be validated in several different ways."
msgstr "各メッセージには送信者があり、これは SMTP プロトコルの <literal>MAIL FROM</literal> コマンドで申告されます; 繰り返しになりますが、様々な異なる方法でこの情報の有効性を判断します。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>MAIL FROM</literal></primary>"
msgstr "<primary><literal>MAIL FROM</literal></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering on the sender</secondary>"
msgstr "<primary>email</primary><secondary>送信者に基づくフィルタリング</secondary>"

#. Tag: title
#, no-c-format
msgid "Sender checks"
msgstr "送信者確認"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_sender_restrictions = \n"
"    check_sender_access hash:/etc/postfix/access_sender,\n"
"    reject_unknown_sender_domain, reject_unlisted_sender,\n"
"    reject_non_fqdn_sender"
msgstr ""
"\n"
"smtpd_sender_restrictions = \n"
"    check_sender_access hash:/etc/postfix/access_sender,\n"
"    reject_unknown_sender_domain, reject_unlisted_sender,\n"
"    reject_non_fqdn_sender"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/access_sender</filename> table maps some special treatment to some senders. This usually means listing some senders into a white list or a black list."
msgstr "<filename>/etc/postfix/access_sender</filename> テーブルを使うことで、一部の送信者を特別扱いする事が可能です。このテーブルは一部の送信者をホワイトリストやブラックリストに入れる事を意味します。"

#. Tag: para
#, no-c-format
msgid "The <literal>reject_unknown_sender_domain</literal> rule requires a valid sender domain, since it is needed for a valid address. The <literal>reject_unlisted_sender</literal> rule rejects local senders if the address does not exist; this prevents emails from being sent from an invalid address in the <literal>falcot.com</literal> domain, and messages emanating from <literal>joe.bloggs@falcot.com</literal> are only accepted if such an address really exists."
msgstr "<literal>reject_unknown_sender_domain</literal> ルールを使うことで、送信者アドレスに適切なドメインが含まれる事を強制する事が可能です。なぜなら、適切なアドレスならば必ず適切なドメインを含むからです。<literal>reject_unlisted_sender</literal> ルールを使うことで、アドレスが存在しないローカル送信者を拒否します; <literal>reject_unlisted_sender</literal> ルールを使うことで、<literal>falcot.com</literal> ドメイン内の不正なアドレスから電子メールが送信されること避ける事が可能で、<literal>joe.bloggs@falcot.com</literal> というアドレスが本当に存在するならば、そのアドレスから放出されるメッセージは受け入れられるようになります。"

#. Tag: para
#, no-c-format
msgid "Finally, the <literal>reject_non_fqdn_sender</literal> rule rejects emails purporting to come from addresses without a fully-qualified domain name. In practice, this means rejecting emails coming from <literal>user@machine</literal>: the address must be announced as either <literal>user@machine.example.com</literal> or <literal>user@example.com</literal>."
msgstr "最後に、<literal>reject_non_fqdn_sender</literal> ルールを使うことで、完全修飾ドメイン名を持たないアドレスから送信されたと称する電子メールを拒否します。具体的には、<literal>user@machine</literal> からの電子メールを拒否します: このアドレスは必ず <literal>user@machine.example.com</literal> または <literal>user@example.com</literal> の形で申告されなければいけません。"

#. Tag: title
#, no-c-format
msgid "Accepting or Refusing Based on the Recipient"
msgstr "受信アドレスに基づく受け入れまたは拒否"

#. Tag: para
#, no-c-format
msgid "Each email has at least one recipient, announced with the <literal>RCPT TO</literal> command in the SMTP protocol. These addresses also warrant validation, even if that may be less relevant than the checks made on the sender address."
msgstr "各電子メールには少なくとも 1 つの受信アドレスが必要です。SMTP プロトコルではこれを <literal>RCPT TO</literal> コマンドで申告します。送信アドレスに対して行った確認よりも関係性は低いとはいえ、受信アドレスの正当性を確認することは当然です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>RCPT TO</primary>"
msgstr "<primary>RCPT TO</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering on the recipient</secondary>"
msgstr "<primary>電子メール</primary><secondary>受信アドレスに基づくフィルタリング</secondary>"

#. Tag: title
#, no-c-format
msgid "Recipient checks"
msgstr "受信アドレスの確認"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks, \n"
"    reject_unauth_destination, reject_unlisted_recipient, \n"
"    reject_non_fqdn_recipient"
msgstr ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks, \n"
"    reject_unauth_destination, reject_unlisted_recipient, \n"
"    reject_non_fqdn_recipient"

#. Tag: para
#, no-c-format
msgid "<literal>reject_unauth_destination</literal> is the basic rule that requires outside messages to be addressed to us; messages sent to an address not served by this server are rejected. Without this rule, a server becomes an open relay that allows spammers to sent unsolicited emails; this rule is therefore mandatory, and it will be best included near the beginning of the list, so that no other rules may authorize the message before its destination has been checked."
msgstr "<literal>reject_unauth_destination</literal> は基本的なルールで、受け入れ要求のあったメッセージが自分達宛である事を確認します; このサーバに無いアドレス宛のメッセージを拒否するようになります。このルールが無い場合、サーバはスパマーが迷惑メールの送信に使う第三者中継サーバになります; このため <literal>reject_unauth_destination</literal> ルールは必須で、リストの最初に近い位置に置くのが最良です。そうすれば、メッセージの宛先をチェックする前に、他のルールがそのメッセージの受け入れを許可する事を避けられます。"

#. Tag: para
#, no-c-format
msgid "The <literal>reject_unlisted_recipient</literal> rule rejects messages sent to non-existing local users, which makes sense. Finally, the <literal>reject_non_fqdn_recipient</literal> rule rejects non-fully-qualified addresses; this makes it impossible to send an email to <literal>jean</literal> or <literal>jean@machine</literal>, and requires using the full address instead, such as <literal>jean@machine.falcot.com</literal> or <literal>jean@falcot.com</literal>."
msgstr "<literal>reject_unlisted_recipient</literal> ルールを使うことで、存在しないローカルユーザ宛のメッセージを拒否するようになります。これは道理にかなったルールです。最後に、<literal>reject_non_fqdn_recipient</literal> ルールを使うことで、完全修飾ドメイン名でないアドレスを拒否されるようになります; <literal>reject_non_fqdn_recipient</literal> ルールを使った場合、<literal>jean</literal> や <literal>jean@machine</literal> 宛の電子メールは送信できず、その代わりに <literal>jean@machine.falcot.com</literal> や <literal>jean@falcot.com</literal> などの完全なアドレスを使う事が要求されます。"

#. Tag: title
#, no-c-format
msgid "Restrictions Associated with the <literal>DATA</literal> Command"
msgstr "<literal>DATA</literal> コマンドに関連付けられた制限"

#. Tag: para
#, no-c-format
msgid "The <literal>DATA</literal> command of SMTP is emitted before the contents of the message. It doesn't provide any information per se, apart from announcing what comes next. It can still be subjected to checks."
msgstr "SMTP の <literal>DATA</literal> コマンドはメッセージ内容の前に送信されます。次に来るものはさておき、厳密な意味では <literal>DATA</literal> コマンドはいかなる情報も提供しません。とは言っても、確認することは可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>DATA</literal></primary>"
msgstr "<primary><literal>DATA</literal></primary>"

#. Tag: title
#, no-c-format
msgid "<literal>DATA</literal> checks"
msgstr "<literal>DATA</literal> の確認"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_data_restrictions = reject_unauth_pipelining"
msgstr ""
"\n"
"smtpd_data_restrictions = reject_unauth_pipelining"

#. Tag: para
#, no-c-format
msgid "The <literal>reject_unauth_pipelining</literal> directives causes the message to be rejected if the sending party sends a command before the reply to the previous command has been sent. This guards against a common optimization used by spammer robots, since they usually don't care a fig about replies and only focus on sending as many emails as possible in as short a time as possible."
msgstr "<literal>reject_unauth_pipelining</literal> 指示文を使うことで、1 つ前に送信されたコマンドに応答する前に、送信者が次のコマンドを送ったメッセージを拒否するようになります。この防御は、スパマーロボットの使う一般的な最適化に対向するものです。なぜなら、スパマーはサーバからの応答の結果を気にせず、可能な限り短い時間て可能な限り大量の電子メールを送信することだけに注目しているからです。"

#. Tag: title
#, no-c-format
msgid "Applying Restrictions"
msgstr "制限の適用"

#. Tag: para
#, no-c-format
msgid "Although the above commands validate information at various stages of the SMTP exchange, Postfix only sends the actual rejection as a reply to the <literal>RCPT TO</literal> command."
msgstr "上のコマンドを使うことで、SMTP 交換の様々な段階で情報が検査されるにも関わらず、Postfix が実際の拒否を送信するのは、<literal>RCPT TO</literal> コマンドに対する応答の段階です。"

#. Tag: para
#, no-c-format
msgid "This means that even if the message is rejected due to an invalid <literal>EHLO</literal> command, Postfix knows the sender and the recipient when announcing the rejection. It can then log a more explicit message than it could if the transaction had been interrupted from the start. In addition, a number of SMTP clients do not expect failures on the early SMTP commands, and these clients will be less disturbed by this late rejection."
msgstr "これは、不正な <literal>EHLO</literal> コマンドが原因でメッセージを拒否する場合でも、Postfix はメッセージの送信者と受信者を知った後に、拒否応答を送信する前事を意味しています。こうすることで、すぐにトランザクションを拒否する場合よりも、より明確なログを残す事が可能です。加えて、多くの SMTP クライアントはトランザクションの最初の方の SMTP コマンドの失敗を予期していませんから、<literal>RCPT TO</literal> の後に拒否応答を返したとしても問題になることは少ないです。"

#. Tag: para
#, no-c-format
msgid "A final advantage to this choice is that the rules can accumulate information during the various stages of the SMTP exchange; this allows defining more fine-grained permissions, such as rejecting a non-local connection if it announces itself with a local sender."
msgstr "こうすることによる利点の最後は、SMTP 交換の様々なステージの間にやり取りした情報を貯める事が可能であるという点が挙げられます; これにより、パーミッションきめ細かく調整する事が可能です。例えば、ローカル送信者と申告した非ローカル接続を拒否するなどです。"

#. Tag: title
#, no-c-format
msgid "Filtering Based on the Message Contents"
msgstr "メッセージ内容に基づくフィルタリング"

#. Tag: para
#, no-c-format
msgid "The validation and restriction system would not be complete without a way to apply checks to the message contents. Postfix differentiates the checks applying on the email headers from those applying to the email body."
msgstr "メッセージ内容を確認する事により、妥当性確認と制限システムが完成します。Postfix は電子メール本文や電子メールヘッダの内容に対して確認を適用し、その妥当性を識別する事が可能です。"

#. Tag: title
#, no-c-format
msgid "Enabling content-based filters"
msgstr "内容に基づくフィルタの有効化"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"header_checks = regexp:/etc/postfix/header_checks\n"
"body_checks = regexp:/etc/postfix/body_checks"
msgstr ""
"\n"
"header_checks = regexp:/etc/postfix/header_checks\n"
"body_checks = regexp:/etc/postfix/body_checks"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering on contents</secondary>"
msgstr "<primary>電子メール</primary><secondary>内容に基づくフィルタリング</secondary>"

#. Tag: para
#, no-c-format
msgid "Both files contain a list of regular expressions (commonly known as <emphasis>regexps</emphasis> or <emphasis>regexes</emphasis>) and associated actions to be triggered when the email headers (or body) match the expression."
msgstr "どちらのファイルにも、正規表現 (<emphasis>regexps</emphasis> または <emphasis>regexes</emphasis> としても知られる) のリストおよび、電子メールヘッダ (または本文) がその正規表現にマッチする場合に実行する動作の対応リストが含まれます。"

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> Regexp tables"
msgstr "<emphasis>QUICK LOOK</emphasis> 正規表現テーブル"

#. Tag: para
#, no-c-format
msgid "The <filename>/usr/share/doc/postfix-doc/examples/header_checks.gz</filename> file contains many explanatory comments and can be used as a starting point for creating the <filename>/etc/postfix/header_checks</filename> and <filename>/etc/postfix/body_checks</filename> files."
msgstr "<filename>/usr/share/doc/postfix-doc/examples/header_checks.gz</filename> ファイルには多くの説明的なコメントが含まれます。またこのファイルを <filename>/etc/postfix/header_checks</filename> と <filename>/etc/postfix/body_checks</filename> ファイルの足掛かりとして使う事も可能です。"

#. Tag: title
#, no-c-format
msgid "Example <filename>/etc/postfix/header_checks</filename> file"
msgstr "<filename>/etc/postfix/header_checks</filename> ファイルの例"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"/^X-Mailer: GOTO Sarbacane/ REJECT I fight spam (GOTO Sarbacane)\n"
"/^Subject: *Your email contains VIRUSES/ DISCARD virus notification"
msgstr ""
"\n"
"/^X-Mailer: GOTO Sarbacane/ REJECT I fight spam (GOTO Sarbacane)\n"
"/^Subject: *Your email contains VIRUSES/ DISCARD virus notification"

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> Regular expression"
msgstr "<emphasis>BACK TO BASICS</emphasis> 正規表現"

#. Tag: para
#, no-c-format
msgid "The <emphasis>regular expression</emphasis> term (shortened to <emphasis>regexp</emphasis> or <emphasis>regex</emphasis>) references a generic notation for expressing a description of the contents and/or structure of a string of characters. Certain special characters allow defining alternatives (for instance, <literal>foo|bar</literal> matches either “foo” or “bar”), sets of allowed characters (for instance, <literal>[0-9]</literal> means any digit, and <literal>.</literal> — a dot — means any character), quantifications (<literal>s?</literal> matches either <literal>s</literal> or the empty string, in other words 0 or 1 occurrence of <literal>s</literal>; <literal>s+</literal> matches one or more consecutive <literal>s</literal> characters; and so on). Parentheses allow grouping search results."
msgstr "<emphasis>正規表現</emphasis> (<emphasis>regexp</emphasis> または <emphasis>regex</emphasis> のように略される) とは内容の説明や文字列の構造を表現する一般的な記法です。特別な文字を使って、選択肢 (例えば、<literal>foo|bar</literal> は「foo」または「bar」にマッチします)、許容する文字 (例えば、<literal>[0-9]</literal> は任意の数字を意味し、<literal>.</literal> - ドット - は任意の文字を意味します)、数量 (<literal>s?</literal> は <literal>s</literal> または空文字列にマッチします、言い換えれば <literal>s</literal> が 0 または 1 回出現したらマッチします; <literal>s+</literal> は 1 つかそれ以上の連続する <literal>s</literal> 文字列にマッチします; など)、を表現します。丸括弧を使うことで検索結果のグループ化が可能です。"

#. Tag: para
#, no-c-format
msgid "The precise syntax of these expressions varies across the tools using them, but the basic features are similar. <ulink type=\"block\" url=\"http://en.wikipedia.org/wiki/Regular_expression\" />"
msgstr "正規表現の正確な構文は正規表現を取り扱うツールに依存しますが、基本的な機能は似ています。<ulink type=\"block\" url=\"http://en.wikipedia.org/wiki/Regular_expression\" />"

#. Tag: para
#, no-c-format
msgid "The first one checks the header mentioning the email software; if <literal>GOTO Sarbacane</literal> (a bulk email software) is found, the message is rejected. The second expression controls the message subject; if it mentions a virus notification, we can decide not to reject the message but to discard it immediately instead."
msgstr "最初の正規表現は電子メールソフトウェアに関するヘッダを確認します; <literal>GOTO Sarbacane</literal> (大量の電子メールを送信するソフトウェア) が見つかったら、メッセージを拒否します。2 番目の正規表現はメッセージの件名を操作します; メッセージの件名にウィルス通知が含まれる場合、そのメッセージを拒否しない代わりにすぐに捨てます。"

#. Tag: para
#, no-c-format
msgid "Using these filters is a double-edged sword, because it is easy to make the rules too generic and to lose legitimate emails as a consequence. In these cases, not only the messages will be lost, but their senders will get unwanted (and annoying) error messages."
msgstr "これらのフィルタを使うことは諸刃の剣です。なぜなら、一般的過ぎるルールを設定すれば、結果的に適切なメールを失うことになるからです。そのような場合、メッセージが失われるだけでなく、送信者は望まない (そして煩い) エラーメッセージを受け取ることになるでしょう。"

#. Tag: title
#, no-c-format
msgid "Setting Up <foreignphrase>greylisting</foreignphrase>"
msgstr "<foreignphrase>greylisting</foreignphrase> の設定"

#. Tag: indexterm
#, no-c-format
msgid "<primary>greylisting</primary>"
msgstr "<primary>greylisting</primary>"

#. Tag: para
#, no-c-format
msgid "“Greylisting” is a filtering technique according to which a message is initially rejected with a temporary error code, and only accepted on a further try after some delay. This filtering is particularly efficient against spam sent by the many machines infected by worms and viruses, since these software rarely act as full SMTP agents (by checking the error code and retrying failed messages later), especially since many of the harvested addresses are really invalid and retrying would only mean losing time."
msgstr "「Greylisting」はフィルタリング技術です。この技術を使うことで、最初にメッセージを一時的なエラーコードと共に拒否し、少しの遅延の後に何回か試行すれば許可するというような挙動が可能です。このフィルタリングは特にワームとウィルスに侵された数多くのマシンが送信するスパムに対して効果的です。なぜなら、ワームやウィルスは完全な SMTP エージェントとして振る舞うことはほとんど無い (エラーコードを確認して失敗したメッセージを後から再試行することはほとんど無い) ですし、特に収集されたアドレスのほとんどは実際のところ無効という事を考慮すると、再試行は時間の無駄にしかならないからです。"

#. Tag: para
#, no-c-format
msgid "Postfix doesn't provide greylisting natively, but there is a feature by which the decision to accept or reject a given message can be delegated to an external program. The <emphasis role=\"pkg\">postgrey</emphasis> package contains just such a program, designed to interface with this access policy delegation service."
msgstr "Postfix それ自身は greylisting 機能を提供しませんが、あるメッセージを受け入れるか拒否するかの決定を外部プログラムに委任する機能を提供します。<emphasis role=\"pkg\">postgrey</emphasis> パッケージには greylisting 機能を提供するプログラムが含まれ、アクセスポリシー委任サービスへのインターフェースとして設計されています。"

#. Tag: para
#, no-c-format
msgid "Once <emphasis role=\"pkg\">postgrey</emphasis> is installed, it runs as a daemon and listens on port 10023. Postfix can then be configured to use it, by adding the <literal>check_policy_service</literal> parameter as an extra restriction:"
msgstr "<emphasis role=\"pkg\">postgrey</emphasis> がインストールされると、postgrey はデーモンとして実行され、ポート 10023 番をリッスンします。この後 Postfix を設定します。<literal>check_policy_service</literal> パラメータを追加的制限として追加することで、postgrey を使うようになります:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    [...]\n"
"    check_policy_service inet:127.0.0.1:10023"
msgstr ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    [...]\n"
"    check_policy_service inet:127.0.0.1:10023"

#. Tag: para
#, no-c-format
msgid "Each time Postfix reaches this rule in the ruleset, it will connect to the <command>postgrey</command> daemon and send it information concerning the relevant message. On its side, Postgrey considers the IP address/sender/recipient triplet and checks in its database whether that same triplet has been seen recently. If so, Postgrey replies that the message should be accepted; if not, the reply indicates that the message should be temporarily rejected, and the triplet gets recorded in the database."
msgstr "Postfix はルールセットの中にあるこのルールに到達したら、<command>postgrey</command> デーモンに接続し、対応するメッセージに関する情報をデーモンに送信します。Postgrey は IP アドレス/送信者/受信者の三つ揃いを考慮し、同じ三つ揃いが最近データベースに登録されたか否かをデータベースで確認します。最近登録されていた場合、Postgrey はメッセージを受け入れるべきであると応答します; 最近登録されていなかった場合、Postgrey はメッセージを一時的に拒否するべきであると応答し、三つ揃いをデータベースに登録します。"

#. Tag: para
#, no-c-format
msgid "The main disadvantage of greylisting is that legitimate messages get delayed, which is not always acceptable. It also increases the burden on servers that send many legitimate emails."
msgstr "greylisting の主な不都合は、正当なメッセージの配送が遅れる点です。これは常に受け入れられる欠点とは限りません。また、送信するメールのほとんどが正当な場合、greylisting はサーバの負荷を増加させます。"

#. Tag: title
#, no-c-format
msgid "<emphasis>IN PRACTICE</emphasis> Shortcomings of greylisting"
msgstr "<emphasis>IN PRACTICE</emphasis> greylisting の欠点"

#. Tag: para
#, no-c-format
msgid "Theoretically, greylisting should only delay the first mail from a given sender to a given recipient, and the typical delay is in the order of minutes. Reality, however, can differ slightly. Some large ISPs use clusters of SMTP servers, and when a message is initially rejected, the server that retries the transmission may not be the same as the initial one. When that happens, the second server gets a temporary error message due to greylisting too, and so on; it may take several hours until transmission is attempted by a server that has already been involved, since SMTP servers usually increase the delay between retries at each failure."
msgstr "理論上、greylisting による遅延は、ある送信者からある受信者に送信される最初のメールだけを対象にし、典型的な遅延時間はほぼ数分程度です。しかしながら、実際は少し違います。一部の大きな ISP は SMTP サーバの集団を使います。このようなサーバの 1 つから送信要求されたメッセージは 1 回目の送信要求を拒否されますが、次に再度送信要求を出すサーバは 1 回目のサーバと違う可能性があります。これが起きた場合、2 回目のサーバは greylisting のお陰で一時的なエラーメッセージを応答します; 次の送信要求が、既に greylisting データベースに登録されているサーバに対して行われるまでには数時間かかる可能性があります。なぜなら、通常 SMTP サーバは再試行が失敗した場合に遅延時間を増やすからです。"

#. Tag: para
#, no-c-format
msgid "As a consequence, the incoming IP address may vary in time even for a single sender. But it goes further: even the sender address can change. For instance, many mailing-list servers encode extra information in the sender address so as to be able to handle error messages (known as <emphasis>bounces</emphasis>). Each new message sent to a mailing-list may then need to go through greylisting, which means it has to be stored (temporarily) on the sender's server. For very large mailing-lists (with tens of thousands of subscribers), this can soon become a problem."
msgstr "その結果、同じ送信者からであっても、送信要求を行う IP アドレスは毎回変わるかもしれません。更に踏み込むと: 送信者アドレスも変わる可能性があります。例えば、多くのメーリングリストサーバは送信者アドレス内の追加的な情報を符号化することで、エラーメッセージ (<emphasis>bounces</emphasis> として知られる) を取り扱う事が可能です。メーリングリスト宛に送信される新しいメッセージは greylisting を通過する事が必要かもしれません。これは新しいメッセージが送信者のサーバに (一時的に) 保存される事を意味します。とても巨大な (数万人が登録する) メーリングリストの場合、これは問題になる事があります。"

#. Tag: para
#, no-c-format
msgid "To mitigate these drawbacks, Postgrey manages a whitelist of such sites, and messages emanating from them are immediately accepted without going through greylisting. This list can easily be adapted to local needs, since it's stored in the <filename>/etc/postgrey/whitelist_clients</filename> file."
msgstr "これらの欠点を軽減するために、Postgrey はそのようなサイトとメッセージのホワイトリストを管理します。そのような送信者から送信されたメッセージは greylisting を通過することなしにすぐに許可されます。簡単にこのリストをその場の要求に適用可能です。なぜなら、ホワイトリストは <filename>/etc/postgrey/whitelist_clients</filename> ファイルに保存されているからです。"

#. Tag: title
#, no-c-format
msgid "<emphasis>GOING FURTHER</emphasis> Selective greylisting with <emphasis role=\"pkg\">milter-greylist</emphasis>"
msgstr "<emphasis>GOING FURTHER</emphasis> <emphasis role=\"pkg\">milter-greylist</emphasis> を使った選択的 greylisting"

#. Tag: para
#, no-c-format
msgid "The drawbacks of greylisting can be mitigated by only using greylisting on the subset of clients that are already considered as probable sources of spam (because they are listed in a DNS black-list). This is not possible with <emphasis role=\"pkg\">postgrey</emphasis> but <emphasis role=\"pkg\">milter-greylist</emphasis> can be used in such a way."
msgstr "このような greylisting の欠点を低減するには、既にスパムの発生源と考えられている (DNS ブラックリストに載せられている) サブネットのクライアントだけを対象に greylisting を使います。<emphasis role=\"pkg\">postgrey</emphasis> ではこの機能を使う事ができませんが、<emphasis role=\"pkg\">milter-greylist</emphasis> でこの機能を使います。"

#. Tag: para
#, no-c-format
msgid "In that scenario, since DNS black-lists never triggers a definitive rejection, it becomes reasonable to use aggressive black-lists, including those listing all dynamic IP addresses from ISP clients (such as <literal>pbl.spamhaus.org</literal> or <literal>dul.dnsbl.sorbs.net</literal>)."
msgstr "この場合、DNS ブラックリストに載っていたからと言って必ず拒否されるわけではないので、より広範囲に及ぶブラックリストを使う事が妥当です。そのようなブラックリストには、ISP クライアントからのすべての動的 IP アドレスも含まれます (<literal>pbl.spamhaus.org</literal> や <literal>dul.dnsbl.sorbs.net</literal> などの)。"

#. Tag: para
#, no-c-format
msgid "Since milter-greylist uses Sendmail's milter interface, the postfix side of its configuration is limited to “<literal>smtpd_milters = unix:/var/milter-greylist/milter-greylist.sock</literal>”. The <citerefentry><refentrytitle>greylist.conf</refentrytitle><manvolnum>5</manvolnum></citerefentry> manual page documents <filename>/etc/milter-greylist/greylist.conf</filename> and the numerous ways to configure milter-greylist."
msgstr "milter-greylist は Sendmail の milter インターフェースを使うため、postfix 側からは「<literal>smtpd_milters = unix:/var/milter-greylist/milter-greylist.sock</literal>」と設定する以上の事ができません。<citerefentry><refentrytitle>greylist.conf</refentrytitle><manvolnum>5</manvolnum></citerefentry> マニュアルページには、<filename>/etc/milter-greylist/greylist.conf</filename> と milter-greylist を設定する様々な方法が書かれています。"

#. Tag: title
#, no-c-format
msgid "Customizing Filters Based On the Recipient"
msgstr "受信アドレスに基づくフィルタのカスタマイズ"

#. Tag: para
#, no-c-format
msgid "The last two sections reviewed many of the possible restrictions. They all have their use in limiting the amount of received spam, but they also all have their drawbacks. It is therefore more and more common to customize the set of filters depending on the recipient. At Falcot Corp, greylisting is interesting for most users, but it hinders the work of some users who need low latency in their emails (such as the technical support service). Similarly, the commercial service sometimes has problems receiving emails from some Asian providers who may be listed in black-lists; this service asked for a non-filtered address so as to be able to correspond."
msgstr "上の 2 つの節で、様々な制限方法を見直しました。これらの制限方法はスパムの受信量を減らすためのものですが、欠点もあります。このため、受信者毎にフィルタのセットをカスタマイズする事が普通のやり方になりつつあります。Falcot Corp では、greylisting は多くのユーザにとって興味深いものでしたが、電子メールを素早く受け取りたい一部のユーザ (例えば技術サポートサービスなどの) にとっては仕事の妨げになります。同様に、商業サービスにとっては、ブラックリストに載っているかもしれない一部のアジアプロバイダから送信された電子メールを受信できない点は問題となります; 商業サービスにとっては、これらの送信者と連絡が取れるようにフィルタリングしないほうが都合が良いです。"

#. Tag: para
#, no-c-format
msgid "Postfix provides such a customization of filters with a “restriction class” concept. The classes are declared in the <literal>smtpd_restriction_classes</literal> parameter, and defined the same way as <literal>smtpd_recipient_restrictions</literal>. The <literal>check_recipient_access</literal> directive then defines a table mapping a given recipient to the appropriate set of restrictions."
msgstr "Postfix は「制限クラス」の概念を使ってフィルタをカスタマイズします。制限クラスは <literal>smtpd_restriction_classes</literal> パラメータの中で宣言され、<literal>smtpd_recipient_restrictions</literal> と同じやり方で使用されます。<literal>check_recipient_access</literal> 指示文は与えられた受信者と制限の適切なセットを対応付けるテーブルを定義します。"

#. Tag: title
#, no-c-format
msgid "Defining restriction classes in <filename>main.cf</filename>"
msgstr "<filename>main.cf</filename> 内の制限クラスの定義"

#. Tag: programlisting
#, no-c-format
msgid ""
"smtpd_restriction_classes = greylisting, aggressive, permissive\n"
"\n"
"greylisting = check_policy_service inet:127.0.0.1:10023\n"
"aggressive = reject_rbl_client sbl-xbl.spamhaus.org,\n"
"        check_policy_service inet:127.0.0.1:10023\n"
"permissive = permit\n"
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"        reject_unauth_destination,\n"
"        check_recipient_access hash:/etc/postfix/recipient_access"
msgstr ""
"smtpd_restriction_classes = greylisting, aggressive, permissive\n"
"\n"
"greylisting = check_policy_service inet:127.0.0.1:10023\n"
"aggressive = reject_rbl_client sbl-xbl.spamhaus.org,\n"
"        check_policy_service inet:127.0.0.1:10023\n"
"permissive = permit\n"
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"        reject_unauth_destination,\n"
"        check_recipient_access hash:/etc/postfix/recipient_access"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/postfix/recipient_access</filename> file"
msgstr "<filename>/etc/postfix/recipient_access</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Unfiltered addresses\n"
"postmaster@falcot.com  permissive\n"
"support@falcot.com     permissive\n"
"sales-asia@falcot.com  permissive\n"
"\n"
"# Aggressive filtering for some privileged users\n"
"joe@falcot.com         aggressive\n"
"\n"
"# Special rule for the mailing-list manager\n"
"sympa@falcot.com       reject_unverified_sender\n"
"\n"
"# Greylisting by default\n"
"falcot.com             greylisting"
msgstr ""
"\n"
"# Unfiltered addresses\n"
"postmaster@falcot.com  permissive\n"
"support@falcot.com     permissive\n"
"sales-asia@falcot.com  permissive\n"
"\n"
"# Aggressive filtering for some privileged users\n"
"joe@falcot.com         aggressive\n"
"\n"
"# Special rule for the mailing-list manager\n"
"sympa@falcot.com       reject_unverified_sender\n"
"\n"
"# Greylisting by default\n"
"falcot.com             greylisting"

#. Tag: title
#, no-c-format
msgid "Integrating an Antivirus"
msgstr "アンチウイルスの統合"

#. Tag: indexterm
#, no-c-format
msgid "<primary>antivirus</primary>"
msgstr "<primary>antivirus</primary>"

#. Tag: para
#, no-c-format
msgid "The many viruses circulating as attachments to emails make it important to set up an antivirus at the entry point of the company network, since despite an awareness campaign, some users will still open attachments from obviously shady messages."
msgstr "数多くのウィルスが電子メールの添付ファイルとして配布されているため、会社のネットワークの入口にアンチウイルスをセットアップする事が重要です。なぜなら、啓蒙活動にも関わらず、一部のユーザは明らかに疑わしいメッセージの添付ファイルを開けるからです。"

#. Tag: para
#, no-c-format
msgid "The Falcot administrators selected <command>clamav</command> for their free antivirus. The main package is <emphasis role=\"pkg\">clamav</emphasis>, but they also installed a few extra packages such as <emphasis role=\"pkg\">arj</emphasis>, <emphasis role=\"pkg\">unzoo</emphasis>, <emphasis role=\"pkg\">unrar</emphasis> and <emphasis role=\"pkg\">lha</emphasis>, since they are required for the antivirus to analyze attachments archived in one of these formats."
msgstr "Falcot 管理者はフリーのアンチウイルスとして <command>clamav</command> を選びました。主要なパッケージは <emphasis role=\"pkg\">clamav</emphasis> ですが、<emphasis role=\"pkg\">arj</emphasis>、<emphasis role=\"pkg\">unzoo</emphasis>、<emphasis role=\"pkg\">unrar</emphasis>、<emphasis role=\"pkg\">lha</emphasis> などの幾つかの追加的パッケージもインストールしました。なぜなら、これらの追加的パッケージは、アンチウイルスがそれらのフォーマットで圧縮された添付ファイルを解析する際に必要だからです。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>clamav</command></primary>"
msgstr "<primary><command>clamav</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>clamav-milter</command></primary>"
msgstr "<primary><command>clamav-milter</command></primary>"

#. Tag: para
#, no-c-format
msgid "The task of interfacing between antivirus and the email server goes to <command>clamav-milter</command>. A <emphasis>milter</emphasis> (short for <emphasis>mail filter</emphasis>) is a filtering program specially designed to interface with email servers. A milter uses a standard application programming interface (API) that provides much better performance than filters external to the email servers. Milters were initially introduced by <emphasis>Sendmail</emphasis>, but <emphasis>Postfix</emphasis> soon followed suit."
msgstr "<command>clamav-milter</command> はアンチウイルスと電子メールサーバの間を接続する作業を担当します。<emphasis>milter</emphasis> (<emphasis>mail filter</emphasis> の略) とは、電子メールサーバに対するインターフェースとして特別に設計されたフィルタプログラムです。milter は標準的なアプリケーションプログラミングインターフェース (API) を使います。API を使うことで、電子メールサーバ外のフィルタの性能が向上します。Milter は 最初 <emphasis>Sendmail</emphasis> に導入されましたが、<emphasis>Postfix</emphasis> がすぐに後に続きました。"

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> A milter for Spamassassin"
msgstr "<emphasis>QUICK LOOK</emphasis> Spamassassin 用の milter"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">spamass-milter</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">spamass-milter</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">spamass-milter</emphasis> package provides a milter based on <emphasis>SpamAssassin</emphasis>, the famous unsolicited email detector. It can be used to flag messages as probable spams (by adding an extra header) and/or to reject the messages altogether if their “spamminess” score goes beyond a given threshold."
msgstr "<emphasis role=\"pkg\">spamass-milter</emphasis> パッケージは <emphasis>SpamAssassin</emphasis>、有名な迷惑メール検知ソフトウェア、に基づく milter を提供します。これは、(ヘッダを追加することで) スパムと思われるメッセージを注意するために使う事が可能です。さらにスパム度のスコアが与えられたしきい値を超えたらメッセージを拒否する事も可能です。"

#. Tag: para
#, no-c-format
msgid "Once the <emphasis role=\"pkg\">clamav-milter</emphasis> package is installed, the milter should be reconfigured to run on a TCP port rather than on the default named socket. This can be achieved with <command>dpkg-reconfigure clamav-milter</command>. When prompted for the “Communication interface with Sendmail”, answer “<literal>inet:10002@127.0.0.1</literal>”."
msgstr "<emphasis role=\"pkg\">clamav-milter</emphasis> パッケージをインストールしたら、milter をデフォルトのポートではない適当な TCP ポートで実行するように再設定するべきです。これを行うには、<command>dpkg-reconfigure clamav-milter</command> を実行します。そして「Communication interface with Sendmail」が表示されたら「<literal>inet:10002@127.0.0.1</literal>」と答えます。"

#. Tag: title
#, no-c-format
msgid "<emphasis>NOTE</emphasis> Real TCP port vs named socket"
msgstr "<emphasis>NOTE</emphasis> 真の TCP ポート vs 名前付きソケット"

#. Tag: para
#, no-c-format
msgid "The reason why we use a real TCP port rather than the named socket is that the postfix daemons often run chrooted and do not have access to the directory hosting the named socket. You could also decide to keep using a named socket and pick a location within the chroot (<filename>/var/spool/postfix/</filename>)."
msgstr "名前付きソケットではなく実在する TCP ポートを使う理由は、postfix デーモンは chroot された状態で実行され、名前付きソケットの存在するディレクトリにアクセスできないからです。名前付きソケットを使い、これを chroot 中 (<filename>/var/spool/postfix/</filename>) に入れておく事も可能です。"

#. Tag: para
#, no-c-format
msgid "The standard ClamAV configuration fits most situations, but some important parameters can still be customized with <command>dpkg-reconfigure clamav-base</command>."
msgstr "ClamAV の標準的な設定はほとんどの状況に適合しますが、<command>dpkg-reconfigure clamav-base</command> を使えば幾つかの重要なパラメータをカスタマイズする事も可能です。"

#. Tag: para
#, no-c-format
msgid "The last step involves telling Postfix to use the recently-configured filter. This is a simple matter of adding the following directive to <filename>/etc/postfix/main.cf</filename>:"
msgstr "最後の段階で、最近設定したフィルタを使うように Postfix を設定します。これは簡単です。<filename>/etc/postfix/main.cf</filename> に以下の指示文を追加します:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Virus check with clamav-milter\n"
"smtpd_milters = inet:[127.0.0.1]:10002"
msgstr ""
"\n"
"# Virus check with clamav-milter\n"
"smtpd_milters = inet:[127.0.0.1]:10002"

#. Tag: para
#, no-c-format
msgid "If the antivirus causes problems, this line can be commented out, and <command>/etc/init.d/postfix reload</command> should be run so that this change is taken into account."
msgstr "アンチウイルスによって問題が起こる場合、この行をコメントアウトして、<command>/etc/init.d/postfix reload</command> を実行します。これでこの変更が反映されます。"

#. Tag: title
#, no-c-format
msgid "<emphasis>IN PRACTICE</emphasis> Testing the antivirus"
msgstr "<emphasis>IN PRACTICE</emphasis> アンチウイルスのテスト"

#. Tag: para
#, no-c-format
msgid "Once the antivirus is set up, its correct behavior should be tested. The simplest way to do that is to send a test email with an attachment containing the <filename>eicar.com</filename> (or <filename>eicar.com.zip</filename>) file, which can be downloaded online: <ulink type=\"block\" url=\"http://www.eicar.org/anti_virus_test_file.htm\" />"
msgstr "アンチウイルスをセットアップしたら、正常な挙動をテストするべきです。最も簡単にテストすには、<filename>eicar.com</filename> (または <filename>eicar.com.zip</filename>) を添付したテストメールを送信します。このファイルはオンラインからダウンロード可能です: <ulink type=\"block\" url=\"http://www.eicar.org/anti_virus_test_file.htm\" />"

#. Tag: para
#, no-c-format
msgid "This file is not a true virus, but a test file that all antivirus software on the market diagnose as a virus to allow checking installations."
msgstr "このファイルは、本物のウィルスではなくテストファイルです。市場に出ているすべてのアンチウイルスソフトウェアはこのファイルをウィルスと判定しますから、これを使うことでインストールの正しさを確認できます。"

#. Tag: para
#, no-c-format
msgid "All messages handled by Postfix now go through the antivirus filter."
msgstr "これで Postfix の介して送信されるすべてのメッセージはアンチウイルスフィルタを通過するようになります。"

#. Tag: title
#, no-c-format
msgid "Authenticated SMTP"
msgstr "SMTP 認証"

#. Tag: para
#, no-c-format
msgid "Being able to send emails requires an SMTP server to be reachable; it also requires said SMTP server to send emails through it. For roaming users, that may need regularly changing the configuration of the SMTP client, since Falcot's SMTP server rejects messages coming from IP addresses apparently not belonging to the company. Two solutions exist: either the roaming user installs an SMTP server on their computer, or they still use the company server with some means of authenticating as an employee. The former solution is not recommended since the computer won't be permanently connected, and it won't be able to retry sending messages in case of problems; we will focus on the latter solution."
msgstr "電子メールを送信するには、SMTP サーバにアクセスする必要があります; つまり、電子メールを送信するには上で設定した SMTP サーバが必要です。ローミングユーザの場合、SMTP クライアントの設定を定期的に変更する必要があるかもしれません。なぜなら、Falcot の SMTP サーバは明らかに会社に所属しない IP アドレスから受け取ったメッセージを拒否するからです。2 つの解決策が存在します: ローミングユーザが自分のコンピュータに SMTP サーバをインストールするか、雇用者としての認証を済ませた後に会社のサーバを使うかのどちらか一方です。自分の SMTP サーバをインストールするという解決策は推奨されません。なぜなら、コンピュータは永久的に接続されているわけではないからです。さらに、問題の起きた際にメッセージを再送信する事ができないからです。我々は認証を行うという解決策に注目します。"

#. Tag: para
#, no-c-format
msgid "SMTP authentication in Postfix relies on SASL (<emphasis>Simple Authentication and Security Layer</emphasis>). It requires installing the <emphasis role=\"pkg\">libsasl2-modules</emphasis> and <emphasis role=\"pkg\">sasl2-bin</emphasis> packages, then registering a password in the SASL database for each user that needs authenticating on the SMTP server. This is done with the <command>saslpasswd2</command> command, which takes several parameters. The <literal>-u</literal> option defines the authentication domain, which must match the <literal>smtpd_sasl_local_domain</literal> parameter in the Postfix configuration. The <literal>-c</literal> option allows creating a user, and <literal>-f</literal> allows specifying the file to use if the SASL database needs to be stored at a different location than the default (<filename>/etc/sasldb2</filename>)."
msgstr "Postfix の SMTP 認証は SASL (<emphasis>Simple Authentication and Security Layer</emphasis>) を使っています。SASL を使うには、<emphasis role=\"pkg\">libsasl2-modules</emphasis> と <emphasis role=\"pkg\">sasl2-bin</emphasis> パッケージをインストールする事と、SASL データベースに SMTP サーバの認証に必要なパスワードをユーザごとに登録する事、が必要です。これを行うには、<command>saslpasswd2</command> コマンドを使います。このコマンドは幾つかのパラメータを取ります。<literal>-u</literal> オプションは認証するドメインを定義します。これは Postfix 設定の <literal>smtpd_sasl_local_domain</literal> パラメータと一致しなければいけません。<literal>-c</literal> オプションはユーザを作成します。<literal>-f</literal> は SASL データベースをデフォルト(<filename>/etc/sasldb2</filename>)とは異なる場所に保存する事が必要な場合、データベースファイルの位置を指定します。"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>saslpasswd2 -u `postconf -h myhostname` -f /var/spool/postfix/etc/sasldb2 -c jean</userinput>\n"
"<computeroutput>[... type jean's password twice ...]</computeroutput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>saslpasswd2 -u `postconf -h myhostname` -f /var/spool/postfix/etc/sasldb2 -c jean</userinput>\n"
"<computeroutput>[... type jean's password twice ...]</computeroutput>"

#. Tag: para
#, no-c-format
msgid "Note that the SASL database was created in Postfix's directory. In order to ensure consistency, we also turn <filename>/etc/sasldb2</filename> into a symbolic link pointing at the database used by Postfix, with the <command>ln -sf /var/spool/postfix/etc/sasldb2 /etc/sasldb2</command> command."
msgstr "SASL データベースは Postfix ディレクトリの中に作成されなければいけない点に注意してください。整合性を確保するために、<command>ln -sf /var/spool/postfix/etc/sasldb2 /etc/sasldb2</command> コマンドを使って <filename>/etc/sasldb2</filename> を Postfix の使うデータベースを指すシンボリックリンクにします。"

#. Tag: para
#, no-c-format
msgid "Now we need to configure Postfix to use SASL. First the <literal>postfix</literal> user needs to be added to the <literal>sasl</literal> group, so that it can access the SASL account database. A few new parameters are also needed to enable SASL, and the <literal>smtpd_recipient_restrictions</literal> parameter needs to be configured to allow SASL-authenticated clients to send emails freely."
msgstr "この後に Postfix が SASL を使うように設定します。<literal>postfix</literal> ユーザを <literal>sasl</literal> グループに追加して、SASL アカウントデータベースにアクセスできるようにします。Postfix で SASL を有効化するには、いくつかの新しいパラメータが必要です。また、SASL 認証されたクライアントが自由に電子メールを送信する事を許可するには、<literal>smtpd_recipient_restrictions</literal> パラメータを設定します。"

#. Tag: title
#, no-c-format
msgid "Enabling SASL in <filename>/etc/postfix/main.cf</filename>"
msgstr "<filename>/etc/postfix/main.cf</filename> の中で SASL を有効化"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Enable SASL authentication\n"
"smtpd_sasl_auth_enable = yes\n"
"# Define the SASL authentication domain to use\n"
"smtpd_sasl_local_domain = $myhostname\n"
"[...]\n"
"# Adding permit_sasl_authenticated before reject_unauth_destination\n"
"# allows relaying mail sent by SASL-authenticated users\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    permit_sasl_authenticated,\n"
"    reject_unauth_destination,\n"
"[...]"
msgstr ""
"\n"
"# Enable SASL authentication\n"
"smtpd_sasl_auth_enable = yes\n"
"# Define the SASL authentication domain to use\n"
"smtpd_sasl_local_domain = $myhostname\n"
"[...]\n"
"# Adding permit_sasl_authenticated before reject_unauth_destination\n"
"# allows relaying mail sent by SASL-authenticated users\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    permit_sasl_authenticated,\n"
"    reject_unauth_destination,\n"
"[...]"

#. Tag: title
#, no-c-format
msgid "<emphasis>EXTRA</emphasis> Authenticated SMTP client"
msgstr "<emphasis>EXTRA</emphasis> 認証済み SMTP クライアント"

#. Tag: para
#, no-c-format
msgid "Most email clients are able to authenticate to an SMTP server before sending outgoing messages, and using that feature is a simple matter of configuring the appropriate parameters. If the client in use does not provide that feature, the workaround is to use a local Postfix server and configure it to relay email via the remote SMTP server. In this case, the local Postfix itself will be the client that authenticates with SASL. Here are the required parameters:"
msgstr "ほとんどの電子メールクライアントは、メッセージを送信する前に SMTP サーバに対して認証依頼する機能を持っており、適切なパラメータを設定するだけで簡単に SASL 認証機能を使う事が可能です。クライアントが SASL 認証機能を持たない場合、ローカル Postfix サーバを使い、リモート Postfix サーバに電子メールを中継するようにローカルサーバを設定する事が次善策です。この場合、ローカル Postfix が SASL を使って認証するクライアントになります。以下は必要なパラメータです:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtp_sasl_auth_enable = yes\n"
"smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd\n"
"relay_host = [mail.falcot.com]"
msgstr ""
"\n"
"smtp_sasl_auth_enable = yes\n"
"smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd\n"
"relay_host = [mail.falcot.com]"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/sasl_passwd</filename> file needs to contain the username and password to use for authenticating on the <literal>mail.falcot.com</literal> server. Here's an example:"
msgstr "<filename>/etc/postfix/sasl_passwd</filename> ファイルには、<literal>mail.falcot.com</literal> サーバに認証を依頼する際に使うユーザ名とパスワードを含めます。以下は例です:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"[mail.falcot.com]   joe:LyinIsji"
msgstr ""
"\n"
"[mail.falcot.com]   joe:LyinIsji"

#. Tag: para
#, no-c-format
msgid "As for all Postfix maps, this file must be turned into <filename>/etc/postfix/sasl_passwd.db</filename> with the <command>postmap</command> command."
msgstr "すべての Postfix のマッピングファイルについて言える事ですが、<command>postmap</command> コマンドを使ってこのファイルを <filename>/etc/postfix/sasl_passwd.db</filename> に変換しなければいけません。"

#. Tag: title
#, no-c-format
msgid "Web Server (HTTP)"
msgstr "ウェブサーバ (HTTP)"

#. Tag: para
#, no-c-format
msgid "The Falcot Corp administrators decided to use the Apache HTTP server, included in Debian <emphasis role=\"distribution\">Wheezy</emphasis> at version 2.2.22."
msgstr "Falcot Corp 管理者は Debian <emphasis role=\"distribution\">Wheezy</emphasis> に含まれるバージョン 2.2.22 の Apache HTTP サーバを使うことに決めました。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>apache</command></primary>"
msgstr "<primary><command>apache</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>web</secondary>"
msgstr "<primary>サーバ</primary><secondary>ウェブ</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web server</primary>"
msgstr "<primary>ウェブサーバ</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>HTTP</secondary>"
msgstr "<primary>サーバ</primary><secondary>HTTP</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTP</primary><secondary>server</secondary>"
msgstr "<primary>HTTP</primary><secondary>サーバ</secondary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>ALTERNATIVE</emphasis> Other web servers"
msgstr "<emphasis>ALTERNATIVE</emphasis> 他のウェブサーバ"

#. Tag: para
#, no-c-format
msgid "Apache is merely the most widely-known (and widely-used) web server, but there are others; they can offer better performance under certain workloads, but this has its counterpart in the smaller number of available features and modules. However, when the prospective web server is built to serve static files or to act as a proxy, the alternatives, such as <emphasis role=\"pkg\">nginx</emphasis> and <emphasis role=\"pkg\">lighttpd</emphasis>, are worth investigating."
msgstr "Apache は最も広く知られている (最も広く使われている) ウェブサーバですが、他にもウェブサーバは存在します; これらのサーバは僅かな負荷で高い性能を発揮しますが、利用可能な機能やモジュールが少ないという欠点も持っています。しかしながら、ウェブサーバを静的ファイルを提供する用途やプロキシ用途で使う場合、<emphasis role=\"pkg\">nginx</emphasis> や <emphasis role=\"pkg\">lighttpd</emphasis> などの代替品は調査する価値があります。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">nginx</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">nginx</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">lighttpd</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">lighttpd</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "Installing Apache"
msgstr "Apache のインストール"

#. Tag: para
#, no-c-format
msgid "By default, installing the <emphasis role=\"pkg\">apache2</emphasis> package causes the <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> version of Apache to be installed too. The <emphasis role=\"pkg\">apache2</emphasis> package is an empty shell, and it only serves to ensure that one of the Apache versions is actually installed."
msgstr "デフォルトで、<emphasis role=\"pkg\">apache2</emphasis> パッケージをインストールすると Apache の <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> バージョンがインストールされます。<emphasis role=\"pkg\">apache2</emphasis> パッケージははメタパッケージであり、Apache バージョンの 1 つがが実際にインストールされている事を確保するためだけに提供されています。"

#. Tag: para
#, no-c-format
msgid "The differences between the variants of Apache 2 are concentrated in the policy used to handle parallel processing of many requests; this policy is implemented by an MPM (short for <emphasis>Multi-Processing Module</emphasis>). Among the available MPMs, <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> uses <emphasis>threads</emphasis> (lightweight processes), whereas <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis> uses a pool of processes created in advance (the traditional way, and the only one available in Apache 1.3). <emphasis role=\"pkg\">apache2-mpm-event</emphasis> also uses threads, but they are terminated earlier, when the incoming connection is only kept open by the HTTP <emphasis>keep-alive</emphasis> feature."
msgstr "Apache 2 の亜種同士の主な違いは、多くのリクエストを並列処理する際の取り扱い方法に関するポリシーです; このポリシーは MPM (<emphasis>Multi-Processing Module</emphasis> の略) によって実装されています。利用可能な MPM の中でも特に、<emphasis role=\"pkg\">apache2-mpm-worker</emphasis> は <emphasis>スレッド</emphasis> (軽量プロセス) を使います。これに対して <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis> は予め生成したプロセスプール (古典的方法、Apache 1.3 ではこれしか使えません) を使います。<emphasis role=\"pkg\">apache2-mpm-event</emphasis> はスレッドを使いますが、入って来る接続が HTTP の <emphasis>keep-alive</emphasis> 機能を使ってオープン状態を保存するためだけのものの場合、スレッドを早く終わらせます。"

#. Tag: para
#, no-c-format
msgid "The Falcot administrators also install <emphasis role=\"pkg\">libapache2-mod-php5</emphasis> so as to include the PHP support in Apache. This causes <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> to be removed, and <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis> to be installed instead, since PHP only works under that particular MPM."
msgstr "Falcot の管理者はさらに Apache で PHP サポートを有効化するために <emphasis role=\"pkg\">libapache2-mod-php5</emphasis> をインストールします。こうすることで、<emphasis role=\"pkg\">apache2-mpm-worker</emphasis> が削除され、代わりに <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis> がインストールされます。なぜなら、 PHP はこの MPM の下でしか動かないからです。"

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> Execution under the <literal>www-data</literal> user"
msgstr "<emphasis>SECURITY</emphasis> <literal>www-data</literal> ユーザ下の実行"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>www-data</literal></primary>"
msgstr "<primary><literal>www-data</literal></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>suexec</primary>"
msgstr "<primary>suexec</primary>"

#. Tag: para
#, no-c-format
msgid "By default, Apache handles incoming requests under the identity of the <literal>www-data</literal> user. This means that a security vulnerability in a CGI script executed by Apache (for a dynamic page) won't compromise the whole system, but only the files owned by this particular user."
msgstr "デフォルトで、Apache は入って来るリクエストを <literal>www-data</literal> ユーザからのリクエストとして取り扱います。これは、Apache が実行する CGI スクリプト (動的ページ) の持つセキュリティ脆弱性によって、システム全体が危険に晒されるのではなく、特定のユーザが所有するファイルだけに被害を留める事が可能である事を意味しています。"

#. Tag: para
#, no-c-format
msgid "Using the <emphasis>suexec</emphasis> modules allows bypassing this rule so that some CGI scripts are executed under the identity of another user. This is configured with a <literal>SuexecUserGroup <replaceable>user</replaceable><replaceable>group</replaceable></literal> directive in the Apache configuration."
msgstr "<emphasis>suexec</emphasis> モジュールを使うことで、このルールを迂回する事が可能です。こうすることで、一部の CGI スクリプトを別のユーザの権限で実行する事が可能です。設定を行うには、Apache 設定ファイルの <literal>SuexecUserGroup <replaceable>user</replaceable><replaceable>group</replaceable></literal> 指示文を使います。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">apache2-mpm-itk</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">apache2-mpm-itk</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Another possibility is to use a dedicated MPM, such as the one provided by <emphasis role=\"pkg\">apache2-mpm-itk</emphasis>. This particular one has a slightly different behavior: it allows “isolating” virtual hosts so that they each run as a different user. A vulnerability in one website therefore cannot compromise files belonging to the owner of another website."
msgstr "もう一つの可能性は、例えば <emphasis role=\"pkg\">apache2-mpm-itk</emphasis> の提供する MPM などの、専用 MPM を使う事です。この専用 MPM の挙動は少し異なります: これは仮想ホストを「隔離」し、各仮想ホストを異なるユーザの権限で実行します。このため、あるウェブサイトの持つ脆弱性によって、他のウェブサイトの所有者の持つファイルが危険に晒される事が無くなります。"

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> List of modules"
msgstr "<emphasis>QUICK LOOK</emphasis> モジュールのリスト"

#. Tag: para
#, no-c-format
msgid "The full list of Apache standard modules can be found online. <ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/index.html\" />"
msgstr "Apache の標準的なモジュールをオンラインで見る事が可能です。<ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/index.html\" />"

#. Tag: para
#, no-c-format
msgid "Apache is a modular server, and many features are implemented by external modules that the main program loads during its initialization. The default configuration only enables the most common modules, but enabling new modules is a simple matter of running <command>a2enmod <replaceable>module</replaceable></command>; to disable a module, the command is <command>a2dismod <replaceable>module</replaceable></command>. These programs actually only create (or delete) symbolic links in <filename>/etc/apache2/mods-enabled/</filename>, pointing at the actual files (stored in <filename>/etc/apache2/mods-available/</filename>)."
msgstr "Apache はモジュール式サーバで、多くの機能が外部モジュールによって実装されており、主プログラムは初期化の際に外部モジュールを読み込みます。デフォルト設定では、最も一般的なモジュールだけが有効化されていますが、新しいモジュールの有効化は <command>a2enmod <replaceable>module</replaceable></command> を実行するだけで簡単に行う事が可能です; モジュールを無効化するコマンドは <command>a2dismod <replaceable>module</replaceable></command> です。実際のところ、これらのプログラムは <filename>/etc/apache2/mods-enabled/</filename> 内に実際のファイル (<filename>/etc/apache2/mods-available/</filename> 内に保存されている) を指すシンボリックリンクを作成 (削除) しているだけです。"

#. Tag: para
#, no-c-format
msgid "With its default configuration, the web server listens on port 80 (as configured in <filename>/etc/apache2/ports.conf</filename>), and serves pages from the <filename>/var/www/</filename> directory (as configured in <filename>/etc/apache2/sites-enabled/000-default</filename>)."
msgstr "Apache のデフォルト設定では、ウェブサーバはポート 80 番をリッスンし (<filename>/etc/apache2/ports.conf</filename> の中で設定されています)、<filename>/var/www/</filename> ディレクトリに含まれるページを提供します (<filename>/etc/apache2/sites-enabled/000-default</filename> の中で設定されています)。"

#. Tag: title
#, no-c-format
msgid "<emphasis>GOING FURTHER</emphasis> Adding support for SSL"
msgstr "<emphasis>GOING FURTHER</emphasis> SSL サポートの追加"

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTPS</primary>"
msgstr "<primary>HTTPS</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTP</primary><secondary>secure</secondary>"
msgstr "<primary>HTTP</primary><secondary>secure</secondary>"

#. Tag: para
#, no-c-format
msgid "Apache 2.2 includes the SSL module required for secure HTTP (HTTPS) out of the box. It just needs to be enabled with <command>a2enmod ssl</command>, then the required directives have to be added to the configuration files. A configuration example is provided in <filename>/usr/share/doc/apache2.2-common/examples/apache2/extra/httpd-ssl.conf.gz</filename>. <ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/mod_ssl.html\" />"
msgstr "Apache 2.2 には、すぐに使える安全な HTTP (HTTPS) に必要な SSL モジュールが含まれます。これを有効化するには、<command>a2enmod ssl</command> を使い、必要な指示文を設定ファイルに追加しなければいけません。設定例は <filename>/usr/share/doc/apache2.2-common/examples/apache2/extra/httpd-ssl.conf.gz</filename> で提供されています。<ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/mod_ssl.html\" />"

#. Tag: para
#, no-c-format
msgid "Some extra care must be taken if you want to favor SSL connections with <emphasis>Perfect Forward Secrecy</emphasis> (those connections use ephemeral session keys ensuring that a compromission of the server's secret key does not result in the compromission of old encrypted traffic that could have been stored while sniffing on the network). Have a look at Mozilla's recommandations in particular: <ulink type=\"block\" url=\"https://wiki.mozilla.org/Security/Server_Side_TLS#Apache\" />"
msgstr "<emphasis>Perfect Forward Secrecy</emphasis> を使った SSL 接続を優先したい場合、一部の特別な注意が必要です (これらの接続は一時的なセッション鍵を使い、サーバの秘密鍵が漏洩した場合でもネットワークをスニッフィングすることで保存される可能性がある古い暗号化されたトラフィックの内容が漏洩しない事を保証します)。特に Mozilla の推奨する設定例をご覧ください: <ulink type=\"block\" url=\"https://wiki.mozilla.org/Security/Server_Side_TLS#Apache\" />"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>Perfect Forward Secrecy</emphasis></primary>"
msgstr "<primary><emphasis>Perfect Forward Secrecy</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "Configuring Virtual Hosts"
msgstr "仮想ホストの設定"

#. Tag: para
#, no-c-format
msgid "A virtual host is an extra identity for the web server."
msgstr "仮想ホスト機能を使うことで、ウェブサーバに復数の身元を運用させる事が可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual host</primary>"
msgstr "<primary>仮想ホスト</primary>"

#. Tag: para
#, no-c-format
msgid "Apache considers two different kinds of virtual hosts: those that are based on the IP address (or the port), and those that rely on the domain name of the web server. The first method requires allocating a different IP address (or port) for each site, whereas the second one can work on a single IP address (and port), and the sites are differentiated by the hostname sent by the HTTP client (which only works in version 1.1 of the HTTP protocol — fortunately that version is old enough that all clients use it already)."
msgstr "Apache は異なる 2 種類の仮想ホストを取り扱う事が可能です: IP アドレス (またはポート番号) またはウェブサーバのドメイン名に基づいて仮想ホスト機能が実装されています。1 番目の方法を使う場合、各サイトに異なる IP アドレス (またはポート番号) を割り当てる事が必要です。これに対して、2 番目の方法を使う場合、単一の IP アドレス (またはポート番号) で復数のサイトを運用する事が可能で、HTTP クライアントの送信するホスト名によってサイトを識別します (こちらの方法は HTTP プロトコルのバージョン 1.1 で動作します - 幸いなことに、バージョン 1.1 はすべてのクライアントが対応していると考えて良い程度に古いプロトコルです)。"

#. Tag: para
#, no-c-format
msgid "The (increasing) scarcity of IPv4 addresses usually favors the second method; however, it is made more complex if the virtual hosts need to provide HTTPS too, since the SSL protocol hasn't always provided for name-based virtual hosting; the SNI extension (<emphasis>Server Name Indication</emphasis>) that allows such a combination is not handled by all browsers. When several HTTPS sites need to run on the same server, they will usually be differentiated either by running on a different port or on a different IP address (IPv6 can help there)."
msgstr "IPv4 アドレスは (ますます) 不足し続けているため、通常 2 番目の方法が好まれます; しかしながらこの方法では、仮想ホストが HTTPS を提供する必要がある場合、より複雑です。なぜなら、SSL プロトコルは常にホスト名に基づく仮想ホスト機能を規定しているとは限らないからです; そのような組み合わせを可能にする SNI 拡張 (<emphasis>Server Name Indication</emphasis>) はすべてのブラウザで正しく使えるとは限りません。1 つのサーバで復数の HTTPS サイトを運用する必要がある場合、HTTPS サイトは通常異なるポートを使うか、異なる IP アドレスを使う (IPv6 が役立ちます) ことで識別されます。"

#. Tag: para
#, no-c-format
msgid "The default configuration for Apache 2 enables name-based virtual hosts (with the <literal>NameVirtualHost *:80</literal> directive in the <filename>/etc/apache2/ports.conf</filename> file). In addition, a default virtual host is defined in the <literal>/etc/apache2/sites-enabled/000-default</literal> file; this virtual host will be used if no host matching the request sent by the client is found."
msgstr "Apache 2 のデフォルト設定では、ホスト名に基づく仮想ホスト機能が有効にされています (<filename>/etc/apache2/ports.conf</filename> ファイルの <literal>NameVirtualHost *:80</literal> 指示文がこれに対応します)。加えて、<literal>/etc/apache2/sites-enabled/000-default</literal> ファイルの中でデフォルトの仮想ホストが定義されています; クライアントによって送信された要求に一致するホストが見つからない場合、この仮想ホストが使われます。"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> First virtual host"
msgstr "<emphasis>CAUTION</emphasis> 最初の仮想ホスト"

#. Tag: para
#, no-c-format
msgid "Requests concerning unknown virtual hosts will always be served by the first defined virtual host, which is why we defined <literal>www.falcot.com</literal> first here."
msgstr "不明な仮想ホストに関する要求は最初に定義された仮想ホストへの要求として処理されます。このため 管理者は <literal>www.falcot.com</literal> を最初に定義しています。"

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> Apache supports SNI"
msgstr "<emphasis>QUICK LOOK</emphasis> Apache の SNI サポート"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Server Name Indication</primary>"
msgstr "<primary>Server Name Indication</primary>"

#. Tag: para
#, no-c-format
msgid "The Apache server supports an SSL protocol extension called <emphasis>Server Name Indication</emphasis> (SNI). This extension allows the browser to send the hostname of the web server during the establishment of the SSL connection, much earlier than the HTTP request itself, which was previously used to identify the requested virtual host among those hosted on the same server (with the same IP address and port). This allows Apache to select the most appropriate SSL certificate for the transaction to proceed."
msgstr "Apache サーバは <emphasis>Server Name Indication</emphasis> (SNI) と呼ばれる SSL プロトコル拡張をサポートします。SNI 拡張を使うことで、ブラウザは SSL 接続を確立する間の HTTP 要求よりもずっと前にウェブサーバのホスト名を送信する事が可能になり、同じサーバ (同じ IP アドレスとポート番号を使う) でホストされているホストから要求された仮想ホストを識別します。これを使うことで、Apache は以降のトランザクションで最も適切な SSL 証明書を選びます。"

#. Tag: para
#, no-c-format
msgid "Before SNI, Apache would always use the certificate defined in the default virtual host. Clients trying to access another virtual host would then display warnings, since the certificate they received didn't match the website they were trying to access. Fortunately, most browsers now work with SNI; this includes Microsoft Internet Explorer starting with version 7.0 (starting on Vista), Mozilla Firefox starting with version 2.0, Apple Safari since version 3.2.1, and all versions of Google Chrome."
msgstr "SNI の前に、Apache は常にデフォルトの仮想ホストの定義する証明書を使います。他の仮想ホストへのアクセスを試行するクライアントは警告を表示するかもしれません。なぜなら、クライアントが受け取った証明書はアクセスしようとしているウェブサイトと一致しないからです。幸いなことに、ほとんどのブラウザは SNI を取り扱う事が可能です; Microsoft Internet Explorer バージョン 7.0 以降 (かつ Vista 以降)、Mozilla Firefox バージョン 2.0 以降、Apple Safari バージョン 3.2.1 以降、Google Chrome のすべてのバージョン。"

#. Tag: para
#, no-c-format
msgid "The Apache package provided in Debian is built with support for SNI; no particular configuration is therefore needed, apart from enabling name-based virtual hosting on port 443 (SSL) as well as the usual port 80. This is a simple matter of editing <filename>/etc/apache2/ports.conf</filename> so it includes the following:"
msgstr "Debian の提供する Apache パッケージは SNI サポートを有効化した状態でビルドされています; 通常のポート 80 番と同様にポート 443 番 (SSL) でホスト名に基づく仮想ホスト機能を有効化する事を除けば、特別な設定は不要です。<filename>/etc/apache2/ports.conf</filename> を編集して、以下の内容を含めるだけで簡単に設定する事が可能です:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"&lt;IfModule mod_ssl.c&gt;\n"
"    NameVirtualHost *:443\n"
"    Listen 443\n"
"&lt;/IfModule&gt;"
msgstr ""
"\n"
"&lt;IfModule mod_ssl.c&gt;\n"
"    NameVirtualHost *:443\n"
"    Listen 443\n"
"&lt;/IfModule&gt;"

#. Tag: para
#, no-c-format
msgid "Care should also be taken to ensure that the configuration for the first virtual host (the one used by default) does enable TLSv1, since Apache uses the parameters of this first virtual host to establish secure connections, and they had better allow them!"
msgstr "最初の仮想ホスト (デフォルトで使われる) に対する設定で TLSv1 を有効化する事を忘れないで下さい。なぜなら、Apache は安全な接続を確立するためにこの最初の仮想ホストのパラメータを使うため、パラメータで安全な接続を許すべきです!"

#. Tag: para
#, no-c-format
msgid "Each extra virtual host is then described by a file stored in <filename>/etc/apache2/sites-available/</filename>. Setting up a website for the <literal>falcot.org</literal> domain is therefore a simple matter of creating the following file, then enabling the virtual host with <command>a2ensite www.falcot.org</command>."
msgstr "仮想ホストを追加するには、<filename>/etc/apache2/sites-available/</filename> にファイルを追加します。<literal>falcot.org</literal> ドメインで運用されるウェブサイトをセットアップするには、以下のファイルを作成し、<command>a2ensite www.falcot.org</command> を使って仮想ホストを有効化するだけで簡単に可能です。"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/apache2/sites-available/www.falcot.org</filename> file"
msgstr "<filename>/etc/apache2/sites-available/www.falcot.org</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"&lt;VirtualHost *:80&gt;\n"
"ServerName www.falcot.org\n"
"ServerAlias falcot.org\n"
"DocumentRoot /srv/www/www.falcot.org\n"
"&lt;/VirtualHost&gt;"
msgstr ""
"\n"
"&lt;VirtualHost *:80&gt;\n"
"ServerName www.falcot.org\n"
"ServerAlias falcot.org\n"
"DocumentRoot /srv/www/www.falcot.org\n"
"&lt;/VirtualHost&gt;"

#. Tag: para
#, no-c-format
msgid "The Apache server, as configured so far, uses the same log files for all virtual hosts (although this could be changed by adding <literal>CustomLog</literal> directives in the definitions of the virtual hosts). It therefore makes good sense to customize the format of this log file to have it include the name of the virtual host. This can be done by creating a <filename>/etc/apache2/conf.d/customlog</filename> file that defines a new format for all log files (with the <literal>LogFormat</literal> directive). The <literal>CustomLog</literal> line must also be removed (or commented out) from the <filename>/etc/apache2/sites-available/default</filename> file."
msgstr "ここまでの設定に従うと、Apache サーバはすべての仮想ホストに対して同じログファイルを使います (仮想ホストの定義に <literal>CustomLog</literal> 指示文を追加すればこの挙動を変える事が可能です)。そのため、ログファイルのフォーマットをカスタマイズして、仮想ホストの名前を含むようにする事が道理にかなっています。これを行うには、<filename>/etc/apache2/conf.d/customlog</filename> ファイルを作成してすべてのログファイルに対する新しいフォーマットを定義します (<literal>LogFormat</literal> 指示文を使います)。また、<filename>/etc/apache2/sites-available/default</filename> ファイルから <literal>CustomLog</literal> 指示文を削除 (またはコメントアウト) しなければいけません。"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/apache2/conf.d/customlog</filename> file"
msgstr "<filename>/etc/apache2/conf.d/customlog</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# New log format including (virtual) host name\n"
"LogFormat \"%v %h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" vhost\n"
"\n"
"# Now let's use this \"vhost\" format by default\n"
"CustomLog /var/log/apache2/access.log vhost"
msgstr ""
"\n"
"# New log format including (virtual) host name\n"
"LogFormat \"%v %h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" vhost\n"
"\n"
"# Now let's use this \"vhost\" format by default\n"
"CustomLog /var/log/apache2/access.log vhost"

#. Tag: title
#, no-c-format
msgid "Common Directives"
msgstr "よく使われる指示文"

#. Tag: para
#, no-c-format
msgid "This section briefly reviews some of the commonly-used Apache configuration directives."
msgstr "この節では、幾つかのよく使われる Apache 設定指示文を簡単に見直します。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Apache directives</primary>"
msgstr "<primary>Apache 指示文</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>directives, Apache</primary>"
msgstr "<primary>指示文、Apache</primary>"

#. Tag: para
#, no-c-format
msgid "The main configuration file usually includes several <literal>Directory</literal> blocks; they allow specifying different behaviors for the server depending on the location of the file being served. Such a block commonly includes <literal>Options</literal> and <literal>AllowOverride</literal> directives."
msgstr "主要設定ファイルには幾つかの <literal>Directory</literal> ブロックが含まれます; これを使うことで、提供されるファイルの位置に従って、サーバの挙動を変える事が可能です。<literal>Directory</literal> ブロックには通常 <literal>Options</literal> と <literal>AllowOverride</literal> 指示文が含まれます。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Options</literal>, Apache directive</primary>"
msgstr "<primary><literal>Options</literal>、Apache 指示文</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>AllowOverride</literal>, Apache directive</primary>"
msgstr "<primary><literal>AllowOverride</literal>、Apache 指示文</primary>"

#. Tag: title
#, no-c-format
msgid "Directory block"
msgstr "Directory ブロック"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"&lt;Directory /var/www&gt;\n"
"Options Includes FollowSymlinks\n"
"AllowOverride All\n"
"DirectoryIndex index.php index.html index.htm\n"
"&lt;/Directory&gt;"
msgstr ""
"\n"
"&lt;Directory /var/www&gt;\n"
"Options Includes FollowSymlinks\n"
"AllowOverride All\n"
"DirectoryIndex index.php index.html index.htm\n"
"&lt;/Directory&gt;"

#. Tag: para
#, no-c-format
msgid "The <literal>DirectoryIndex</literal> directive contains a list of files to try when the client request matches a directory. The first existing file in the list is used and sent as a response."
msgstr "<literal>DirectoryIndex</literal> 指示文には、クライアントからディレクトリを要求された場合に応答として送信するファイルのリストを指定します。リスト内の最初に見つかったファイルが、応答として使われます。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>DirectoryIndex</literal>, Apache directive</primary>"
msgstr "<primary><literal>DirectoryIndex</literal>、Apache 指示文</primary>"

#. Tag: para
#, no-c-format
msgid "The <literal>Options</literal> directive is followed by a list of options to enable. The <literal>None</literal> value disables all options; correspondingly, <literal>All</literal> enables them all except <literal>MultiViews</literal>. Available options include:"
msgstr "<literal>Options</literal> 指示文には、有効化するオプションを指定します。<literal>None</literal> 値はすべてのオプションを無効化します; 対して <literal>All</literal> は <literal>MultiViews</literal> を除いてすべてのオプションを有効化します。利用可能なオプションは以下です:"

#. Tag: para
#, no-c-format
msgid "<literal>ExecCGI</literal> indicates that CGI scripts can be executed. <indexterm><primary><literal>ExecCGI</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>ExecCGI</literal> は CGI スクリプトが実行可能な事を意味します。<indexterm><primary><literal>ExecCGI</literal>、Apache 指示文</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>FollowSymlinks</literal> tells the server that symbolic links can be followed, and that the response should contain the contents of the target of such links. <indexterm><primary><literal>FollowSymlinks</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>FollowSymlinks</literal> を使うことで、シンボリックリンクを辿る事が可能であること、リンク先の内容を応答として返す事をサーバに伝えます。<indexterm><primary><literal>FollowSymlinks</literal>、Apache 指示文</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>SymlinksIfOwnerMatch</literal> also tells the server to follow symbolic links, but only when the link and the its target have the same owner. <indexterm><primary><literal>SymlinksIfOwnerMatch</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>SymlinksIfOwnerMatch</literal> を使うことで、シンボリックリンクとリンク先が同じ所有者の場合に限り、シンボリックリンクを辿る事が可能である事をサーバに伝えます。<indexterm><primary><literal>SymlinksIfOwnerMatch</literal>、Apache 指示文</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>Includes</literal> enables <emphasis>Server Side Includes</emphasis> (<emphasis>SSI</emphasis> for short). These are directives embedded in HTML pages and executed on the fly for each request. <indexterm><primary><literal>Includes</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>Includes</literal> を使うことで、<emphasis>Server Side Includes</emphasis> (略して <emphasis>SSI</emphasis>) が有効化されます。SSI は HTML ページの中に埋め込まれ、各要求毎にその場で実行される指示です。<indexterm><primary><literal>Includes</literal>、Apache 指示文</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>Indexes</literal> tells the server to list the contents of a directory if the HTTP request sent by the client points at a directory without an index file (ie, when no files mentioned by the <literal>DirectoryIndex</literal> directive exists in this directory). <indexterm><primary><literal>Indexes</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>Indexes</literal> を使うことで、クライアントの送信した HTTP 要求が index ファイルの含まれないディレクトリを指している場合 (例えば <literal>DirectoryIndex</literal> 指示文でリストされているファイルがこのディレクトリ内に存在しない場合)、ディレクトリの内容をリストする事をサーバに伝えます。<indexterm><primary><literal>Indexes</literal>、Apache 指示文</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>MultiViews</literal> enables content negotiation; this can be used by the server to return a web page matching the preferred language as configured in the browser. <indexterm><primary><literal>MultiViews</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>MultiViews</literal> を使うことで、コンテンツネゴシエーションが有効化されます; サーバはこれを使って、ブラウザで設定した優先言語に一致するウェブページを返します。<indexterm><primary><literal>MultiViews</literal>、Apache 指示文</primary></indexterm>"

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> <filename>.htaccess</filename> file"
msgstr "<emphasis>BACK TO BASICS</emphasis> <filename>.htaccess</filename> ファイル"

#. Tag: para
#, no-c-format
msgid "The <filename>.htaccess</filename> file contains Apache configuration directives enforced each time a request concerns an element of the directory where it is stored. The scope of these directives also recurses to all the subdirectories within."
msgstr "<filename>.htaccess</filename> ファイルには、Apache 設定指示文が含まれます。その設定内容は、<filename>.htaccess</filename> ファイルが保存されているディレクトリに含まれる要素が要求された時に、強制されます。指示文の有効範囲は <filename>.htaccess</filename> が保存されているディレクトリ以下すべてのサブディレクトリです。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>.htaccess</filename></primary>"
msgstr "<primary><filename>.htaccess</filename></primary>"

#. Tag: para
#, no-c-format
msgid "Most of the directives that can occur in a <literal>Directory</literal> block are also legal in a <filename>.htaccess</filename> file."
msgstr "<literal>Directory</literal> ブロック内に書かれたほとんどの指示文は <filename>.htaccess</filename> ファイル内でも使う事が可能です。"

#. Tag: para
#, no-c-format
msgid "The <literal>AllowOverride</literal> directive lists all the options that can be enabled or disabled by way of a <filename>.htaccess</filename> file. A common use of this option is to restrict <literal>ExecCGI</literal>, so that the administrator chooses which users are allowed to run programs under the web server's identity (the <literal>www-data</literal> user)."
msgstr "<literal>AllowOverride</literal> 指示文は <filename>.htaccess</filename> ファイルを使って有効化または無効化されたすべてのオプションをリストします。このオプションは一般に <literal>ExecCGI</literal> を制限するために使われる事が多いです。管理者はウェブサーバ (<literal>www-data</literal> ユーザ) の権限でプログラムを実行する事を許可するユーザを選択します。"

#. Tag: title
#, no-c-format
msgid "Requiring Authentication"
msgstr "認証要求"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web authentication</primary>"
msgstr "<primary>ウェブ認証</primary>"

#. Tag: para
#, no-c-format
msgid "In some circumstances, access to part of a website needs to be restricted, so only legitimate users who provide a username and a password are granted access to the contents."
msgstr "ウェブサイトのある部分へのアクセスを制限し、ユーザ名とパスワードに基づく正当なユーザだけが内容にアクセスできるように設定する必要があるかもしれません。"

#. Tag: title
#, no-c-format
msgid "<filename>.htaccess</filename> file requiring authentication"
msgstr "認証要求を行う <filename>.htaccess</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Require valid-user\n"
"AuthName \"Private directory\"\n"
"AuthType Basic\n"
"AuthUserFile /etc/apache2/authfiles/htpasswd-private"
msgstr ""
"\n"
"Require valid-user\n"
"AuthName \"Private directory\"\n"
"AuthType Basic\n"
"AuthUserFile /etc/apache2/authfiles/htpasswd-private"

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> No security"
msgstr "<emphasis>SECURITY</emphasis> 無意味なセキュリティ"

#. Tag: para
#, no-c-format
msgid "The authentication system used in the above example (<literal>Basic</literal>) has minimal security as the password is sent in clear text (it is only encoded as <emphasis>base64</emphasis>, which is a simple encoding rather than an encryption method). It should also be noted that the documents “protected” by this mechanism also go over the network in the clear. If security is important, the whole HTTP connection should be encrypted with SSL."
msgstr "上の例で使われている (<literal>Basic</literal>) 認証システムは最低限のセキュリティを提供します。パスワードは平文で送信されます (パスワードは暗号化よりも単純な符号化である <emphasis>base64</emphasis> で符号化されるだけです)。この認証システムで「保護」されている文書はネットワークを平文で送信される点も注意するべきです。セキュリティが重要な場合、HTTP 接続全体を SSL で暗号化するべきです。"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/apache2/authfiles/htpasswd-private</filename> file contains a list of users and passwords; it is commonly manipulated with the <command>htpasswd</command> command. For example, the following command is used to add a user or change their password: <indexterm><primary><command>htpasswd</command></primary></indexterm>"
msgstr "<filename>/etc/apache2/authfiles/htpasswd-private</filename> ファイルには、ユーザとパスワードのリストが含まれます; このファイルを操作するには通常 <command>htpasswd</command> コマンドを使います。例えば、以下のコマンドを使うことで、ユーザを追加するかユーザのパスワードを変更します: <indexterm><primary><command>htpasswd</command></primary></indexterm>"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>htpasswd /etc/apache2/authfiles/htpasswd-private <replaceable>user</replaceable>\n"
"</userinput><computeroutput>New password:\n"
"Re-type new password:\n"
"Adding password for user <replaceable>user</replaceable>\n"
"</computeroutput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>htpasswd /etc/apache2/authfiles/htpasswd-private <replaceable>user</replaceable>\n"
"</userinput><computeroutput>New password:\n"
"Re-type new password:\n"
"Adding password for user <replaceable>user</replaceable>\n"
"</computeroutput>"

#. Tag: title
#, no-c-format
msgid "Restricting Access"
msgstr "アクセス制限"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web access restriction</primary>"
msgstr "<primary>ウェブアクセス制限</primary>"

#. Tag: para
#, no-c-format
msgid "The <literal>Allow from</literal> and <literal>Deny from</literal> directives control access restrictions for a directory (and its subdirectories, recursively)."
msgstr "<literal>Allow from</literal> と <literal>Deny from</literal> 指示文を使うことで、あるディレクトリへのアクセスを制御 (とサブディレクトリへのアクセスを再帰的に制御) します。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Allow from</literal>, Apache directive</primary>"
msgstr "<primary><literal>Allow from</literal>、Apache 指示文</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Deny from</literal>, Apache directive</primary>"
msgstr "<primary><literal>Deny from</literal>、Apache 指示文</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Order</literal>, Apache directive</primary>"
msgstr "<primary><literal>Order</literal>、Apache 指示文</primary>"

#. Tag: para
#, no-c-format
msgid "The <literal>Order</literal> directive tells the server of the order in which the <literal>Allow from</literal> and <literal>Deny from</literal> directives are applied; the last one that matches takes precedence. In concrete terms, <literal>Order deny,allow</literal> allows access if no <literal>Deny from</literal> applies, or if an <literal>Allow from</literal> directive does. Conversely, <literal>Order allow,deny</literal> rejects access if no <literal>Allow from</literal> directive matches (or if a <literal>Deny from</literal> directive applies)."
msgstr "<literal>Order</literal> 指示文を使うことで、<literal>Allow from</literal> と <literal>Deny from</literal> 指示文を評価する順番をサーバに伝えます; 最後に一致したものが優先されます。具体的に言えば、<literal>Order deny,allow</literal> を使うと、<literal>Deny from</literal> に一致しないホストまたは <literal>Allow from</literal> に一致するホストからのアクセスを許可します。反対に、<literal>Order allow,deny</literal> を使うと、<literal>Allow from</literal> に一致しないホスト (または <literal>Deny from</literal> に一致するホスト) からのアクセスを拒否します。"

#. Tag: para
#, no-c-format
msgid "The <literal>Allow from</literal> and <literal>Deny from</literal> directives can be followed by an IP address, a network (such as <literal>192.168.0.0/255.255.255.0</literal>, <literal>192.168.0.0/24</literal> or even <literal>192.168.0</literal>), a hostname or a domain name, or the <literal>all</literal> keyword, designating everyone."
msgstr "<literal>Allow from</literal> と <literal>Deny from</literal> 指示文には、IP アドレス、ネットワーク (例えば <literal>192.168.0.0/255.255.255.0</literal>、<literal>192.168.0.0/24</literal>、<literal>192.168.0</literal> など)、ホスト名、ドメイン名、全員を意味する <literal>all</literal> キーワードを使う事が可能です。"

#. Tag: title
#, no-c-format
msgid "Reject by default but allow from the local network"
msgstr "デフォルトで拒否して、ローカルネットワークからのアクセスを許可する例"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Order deny,allow\n"
"Allow from 192.168.0.0/16\n"
"Deny from all"
msgstr ""
"\n"
"Order deny,allow\n"
"Allow from 192.168.0.0/16\n"
"Deny from all"

#. Tag: title
#, no-c-format
msgid "Log Analyzers"
msgstr "ログ解析ソフトウェア"

#. Tag: para
#, no-c-format
msgid "A log analyzer is frequently installed on a web server; since the former provides the administrators with a precise idea of the usage patterns of the latter."
msgstr "ウェブサーバには、通常ログ解析ソフトウェアがインストールされます; なぜなら、ログ解析ソフトウェアを使うことで、管理者はウェブサーバの使用形態に関する正確な知見を得る事が可能だからです。"

#. Tag: para
#, no-c-format
msgid "The Falcot Corp administrators selected <emphasis>AWStats</emphasis> (<emphasis>Advanced Web Statistics</emphasis>) to analyze their Apache log files."
msgstr "Falcot Corp 管理者は <emphasis>AWStats</emphasis> (<emphasis>Advanced Web Statistics</emphasis>) を使って Apache ログファイルを解析することに決めました。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>AWStats</emphasis></primary>"
msgstr "<primary><emphasis>AWStats</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web logs analyzer</primary>"
msgstr "<primary>ウェブログ解析ソフトウェア</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>logs</primary><secondary>web logs analyzer</secondary>"
msgstr "<primary>ログ</primary><secondary>ウェブログ解析ソフトウェア</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>analyzer of web logs</primary>"
msgstr "<primary>ウェブログの解析ソフトウェア</primary>"

#. Tag: para
#, no-c-format
msgid "The first configuration step is the customization of the <filename>/etc/awstats/awstats.conf</filename> file. The Falcot administrators keep it unchanged apart from the following parameters:"
msgstr "最初に <filename>/etc/awstats/awstats.conf</filename> ファイルをカスタマイズして設定を行います。Falcot 管理者は以下のパラメータだけを修正し、他はそのままの状態にしています:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"LogFile=\"/var/log/apache2/access.log\"\n"
"LogFormat = \"%virtualname %host %other %logname %time1 %methodurl %code %bytesd %refererquot %uaquot\"\n"
"SiteDomain=\"www.falcot.com\"\n"
"HostAliases=\"falcot.com REGEX[^.*\\.falcot\\.com$]\"\n"
"DNSLookup=1\n"
"LoadPlugin=\"tooltips\""
msgstr ""
"\n"
"LogFile=\"/var/log/apache2/access.log\"\n"
"LogFormat = \"%virtualname %host %other %logname %time1 %methodurl %code %bytesd %refererquot %uaquot\"\n"
"SiteDomain=\"www.falcot.com\"\n"
"HostAliases=\"falcot.com REGEX[^.*\\.falcot\\.com$]\"\n"
"DNSLookup=1\n"
"LoadPlugin=\"tooltips\""

#. Tag: para
#, no-c-format
msgid "All these parameters are documented by comments in the template file. In particular, the <varname>LogFile</varname> and <varname>LogFormat</varname> parameters describe the location and format of the log file and the information it contains; <varname>SiteDomain</varname> and <varname>HostAliases</varname> list the various names under which the main web site is known."
msgstr "これらのパラメータに関する説明はテンプレートファイルにコメントとして書かれています。特に、<varname>LogFile</varname> と <varname>LogFormat</varname> パラメータを使って、ログファイルの場所とログファイルに含まれる情報の書式を指定します; <varname>SiteDomain</varname> と <varname>HostAliases</varname> は主要ウェブサイトに与えられている復数の名前をリストします。"

#. Tag: para
#, no-c-format
msgid "For high traffic sites, <varname>DNSLookup</varname> should usually not be set to <literal>1</literal>; for smaller sites, such as the Falcot one described above, this setting allows getting more readable reports that include full machine names instead of raw IP addresses."
msgstr "トラフックの多いサイトでは、通常 <varname>DNSLookup</varname> を <literal>1</literal> に設定するべきではありません; トラフィックの少ないサイトでは、Falcot の設定と同様に、<varname>DNSLookup</varname> を設定することで、解析結果に生 IP アドレスではなく完全なマシン名が含まれるようになり、読みやすくなります。"

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> Access to statistics"
msgstr "<emphasis>SECURITY</emphasis> 統計へのアクセス"

#. Tag: para
#, no-c-format
msgid "AWStats makes its statistics available on the website with no restrictions by default, but restrictions can be set up so that only a few (probably internal) IP addresses can access them; the list of allowed IP addresses needs to be defined in the <varname>AllowAccessFromWebToFollowingIPAddresses</varname> parameter"
msgstr "AWStats は統計をウェブサイト上で利用可能にしており、デフォルトでは統計へのアクセスは制限されていません。しかし、ごく少数の (おそらく内部の) IP アドレスだけがアクセスできるように制限をかける事も可能です; アクセスを許可する IP アドレスのリストは <varname>AllowAccessFromWebToFollowingIPAddresses</varname> パラメータで定義する必要があります。"

#. Tag: para
#, no-c-format
msgid "AWStats will also be enabled for other virtual hosts; each virtual host needs its own configuration file, such as <filename>/etc/awstats/awstats.www.falcot.org.conf</filename>."
msgstr "他の仮想ホストに対して AWStats を有効化する事も可能です; 各仮想ホストに対して、<filename>/etc/awstats/awstats.www.falcot.org.conf</filename> などの設定ファイルを作ってください。"

#. Tag: title
#, no-c-format
msgid "AWStats configuration file for a virtual host"
msgstr "仮想ホスト用の AWStats 設定ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Include \"/etc/awstats/awstats.conf\"\n"
"SiteDomain=\"www.falcot.org\"\n"
"HostAliases=\"falcot.org\""
msgstr ""
"\n"
"Include \"/etc/awstats/awstats.conf\"\n"
"SiteDomain=\"www.falcot.org\"\n"
"HostAliases=\"falcot.org\""

#. Tag: para
#, no-c-format
msgid "AWStats uses many icons stored in the <filename>/usr/share/awstats/icon/</filename> directory. In order for these icons to be available on the web site, the Apache configuration needs to be adapted to include the following directive:"
msgstr "AWStats は <filename>/usr/share/awstats/icon/</filename> ディレクトリに保存されている多くのアイコンを使います。ウェブサイトでこれらのアイコンを使えるようにするためには、以下の指示文を Apache の設定に追加する必要があります:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Alias /awstats-icon/ /usr/share/awstats/icon/"
msgstr ""
"\n"
"Alias /awstats-icon/ /usr/share/awstats/icon/"

#. Tag: para
#, no-c-format
msgid "After a few minutes (and once the script has been run a few times), the results are available online: <ulink type=\"block\" url=\"http://www.falcot.com/cgi-bin/awstats.pl\" /><ulink type=\"block\" url=\"http://www.falcot.org/cgi-bin/awstats.pl\" />"
msgstr "数分後 (スクリプトを複数回実行した後)、結果をオンラインで見る事が可能になります: <ulink type=\"block\" url=\"http://www.falcot.com/cgi-bin/awstats.pl\" /><ulink type=\"block\" url=\"http://www.falcot.org/cgi-bin/awstats.pl\" />"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Log file rotation"
msgstr "<emphasis>CAUTION</emphasis> ログファイルの循環"

#. Tag: para
#, no-c-format
msgid "In order for the statistics to take all the logs into account, <emphasis>AWStats</emphasis> needs to be run right before the Apache log files are rotated. Looking at the <literal>prerotate</literal> directive of <filename>/etc/logrotate.d/apache2</filename> file, this can be solved by putting a symlink to <filename>/usr/share/awstats/tools/update.sh</filename> in <filename>/etc/logrotate.d/httpd-prerotate</filename>:"
msgstr "統計はすべてのログに対して取られるため、Apache ログファイルが循環される直前に <emphasis>AWStats</emphasis> を実行する必要があります。<filename>/etc/logrotate.d/apache2</filename> ファイルの <literal>prerotate</literal> 指示文から判断すると、これを解決するには、<filename>/usr/share/awstats/tools/update.sh</filename> へのシンボリックリンクを <filename>/etc/logrotate.d/httpd-prerotate</filename> に作成します:"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"$ <userinput>cat /etc/logrotate.d/apache2</userinput>\n"
"/var/log/apache2/*.log {\n"
"  weekly\n"
"  missingok\n"
"  rotate 52\n"
"  compress\n"
"  delaycompress\n"
"  notifempty\n"
"  create 644 root adm\n"
"  sharedscripts\n"
"  postrotate\n"
"    /etc/init.d/apache2 reload &gt; /dev/null\n"
"  endscript\n"
"  prerotate\n"
"    if [ -d /etc/logrotate.d/httpd-prerotate ]; then \\\n"
"      run-parts /etc/logrotate.d/httpd-prerotate; \\\n"
"    fi; \\\n"
"  endscript\n"
"}\n"
"$ <userinput>sudo mkdir -p /etc/logrotate.d/httpd-prerotate</userinput>\n"
"$ <userinput>sudo ln -sf /usr/share/awstats/tools/update.sh \\\n"
"  /etc/logrotate.d/httpd-prerotate/awstats</userinput>"
msgstr ""
"\n"
"$ <userinput>cat /etc/logrotate.d/apache2</userinput>\n"
"/var/log/apache2/*.log {\n"
"  weekly\n"
"  missingok\n"
"  rotate 52\n"
"  compress\n"
"  delaycompress\n"
"  notifempty\n"
"  create 644 root adm\n"
"  sharedscripts\n"
"  postrotate\n"
"    /etc/init.d/apache2 reload &gt; /dev/null\n"
"  endscript\n"
"  prerotate\n"
"    if [ -d /etc/logrotate.d/httpd-prerotate ]; then \\\n"
"      run-parts /etc/logrotate.d/httpd-prerotate; \\\n"
"    fi; \\\n"
"  endscript\n"
"}\n"
"$ <userinput>sudo mkdir -p /etc/logrotate.d/httpd-prerotate</userinput>\n"
"$ <userinput>sudo ln -sf /usr/share/awstats/tools/update.sh \\\n"
"  /etc/logrotate.d/httpd-prerotate/awstats</userinput>"

#. Tag: para
#, no-c-format
msgid "Note also that the log files created by <command>logrotate</command> need to be readable by everyone, especially AWStats. In the above example, this is ensured by the <literal>create 644 root adm</literal> line (instead of the default <literal>640</literal> permissions)."
msgstr "<command>logrotate</command> によって作成されたログファイルは誰でも、特に AWStats から、読み取り可能にしておく必要があります。上の例では、(デフォルトの <literal>640</literal> パーミッションの代わりに) <literal>create 644 root adm</literal> 行を追加することでこれを実現しています。"

#. Tag: title
#, no-c-format
msgid "FTP File Server"
msgstr "FTP ファイルサーバ"

#. Tag: indexterm
#, no-c-format
msgid "<primary>FTP (<emphasis>File Transfer Protocol</emphasis>)</primary>"
msgstr "<primary>FTP (<emphasis>File Transfer Protocol</emphasis>)</primary>"

#. Tag: para
#, no-c-format
msgid "FTP (<emphasis>File Transfer Protocol</emphasis>) is one of the first protocols of the Internet (RFC 959 was issued in 1985!). It was used to distribute files before the Web was even born (the HTTP protocol was created in 1990, and formally defined in its 1.0 version by RFC 1945, issued in 1996)."
msgstr "FTP (<emphasis>File Transfer Protocol</emphasis>) はインターネットにおける最初のプロトコルの 1 つです (RFC 959 は 1985 年に発行されました!)。FTP は Web が生まれる前にファイルを配布するために使われました (HTTP プロトコルは 1990 年に作られ、1996 年の RFC 1945 でバージョン 1.0 が正式に定義されました)。"

#. Tag: para
#, no-c-format
msgid "This protocol allows both file uploads and file downloads; for this reason, it is still widely used to deploy updates to a website hosted by one's Internet service provider (or any other entity hosting websites). In these cases, secure access is enforced with a user identifier and password; on successful authentication, the FTP server grants read-write access to that user's home directory."
msgstr "FTP を使うことで、ファイルのアップロードとダウンロードが可能です; この理由から、現在でもインターネットサービスプロバイダによってホストされているウェブサイトの更新 (およびウェブサイトを構成する要素) を配置するために広く使われています。この場合、ユーザ識別子とパスワードを使って安全なアクセスが強制されます; 認証に成功したら、FTP サーバはそのユーザのホームディレクトリに対する読み書きアクセスを許可します。"

#. Tag: para
#, no-c-format
msgid "Other FTP servers are mainly used to distribute files for public downloading; Debian packages are a good example. The contents of these servers is fetched from other, geographically remote, servers; it is then made available to less distant users. This means that client authentication is not required; as a consequence, this operating mode is known as “anonymous FTP”. To be perfectly correct, the clients do authenticate with the <literal>anonymous</literal> username; the password is often, by convention, the user's email address, but the server ignores it."
msgstr "他の FTP サーバは主に、一般のユーザがダウンロードできる、ファイルを配布するために使われます; これの良い例が Debian パッケージです。サーバの内容は別の、地理的に離れている、サーバから取得されます; ユーザは距離の近いサーバを使う事が可能になります。これはクライアント認証が不要になる事を意味します; 結果的に、この挙動は「匿名 FTP」として知られています。完全に正しく言えば、クライアントは<literal>匿名の</literal>ユーザ名で認証します; パスワードは、慣例的に、ユーザの電子メールアドレスですが、サーバはこれを無視します。"

#. Tag: para
#, no-c-format
msgid "Many FTP servers are available in Debian (<emphasis role=\"pkg\">ftpd</emphasis>, <emphasis role=\"pkg\">proftpd-basic</emphasis>, <emphasis role=\"pkg\">pyftpd</emphasis> and so on). The Falcot Corp administrators picked <emphasis role=\"pkg\">vsftpd</emphasis> because they only use the FTP server to distribute a few files (including a Debian package repository); since they don't need advanced features, they chose to focus on the security aspects."
msgstr "Debian では、多くの FTP サーバ (<emphasis role=\"pkg\">ftpd</emphasis>、<emphasis role=\"pkg\">proftpd-basic</emphasis>、<emphasis role=\"pkg\">pyftpd</emphasis> など) が利用可能です。Falcot Corp 管理者は <emphasis role=\"pkg\">vsftpd</emphasis> を選びました。なぜなら、管理者だけが幾つかのファイルを配布する (Debian パッケージリポジトリ用) ために FTP サーバを使うからです; 管理者は高度な機能を必要としておらず、セキュリティの観点を重視しているからです。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">vsftpd</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">vsftpd</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Installing the package creates an <literal>ftp</literal> system user. This account is always used for anonymous FTP connections, and its home directory (<filename>/srv/ftp/</filename>) is the root of the tree made available to users connecting to this service. The default configuration (in <filename>/etc/vsftpd.conf</filename>) is very restrictive: it only allows read-only anonymous access (since the <literal>write_enable</literal> and <literal>anon_upload_enable</literal> options are disabled), and local users cannot connect with their usual username and password and access their own files (<literal>local_enable</literal> option). However, this default configuration is well-suited to the needs at Falcot Corp."
msgstr "パッケージをインストールすると、<literal>ftp</literal> システムユーザが作成されます。このアカウントは匿名 FTP 接続の際に常に使われるものです。このアカウントのホームディレクトリ (<filename>/srv/ftp/</filename>) はこのサービスに接続するユーザ向けに利用可能にされます。デフォルト設定 (<filename>/etc/vsftpd.conf</filename>) では操作に大きな制限が加えられています: デフォルト設定では、読み込み専用アクセスだけが許可されています (<literal>write_enable</literal> と <literal>anon_upload_enable</literal> オプションが無効化されているため)。ローカルユーザは自分のユーザ名とパスワードを使って接続できないし、自分のファイルにアクセスする事もできません (<literal>local_enable</literal> オプション)。しかしながら、このデフォルト設定は Falcot Corp のニーズによく適合します。"

#. Tag: title
#, no-c-format
msgid "NFS File Server"
msgstr "NFS ファイルサーバ"

#. Tag: para
#, no-c-format
msgid "NFS (<emphasis>Network File System</emphasis>) is a protocol allowing remote access to a filesystem through the network. All Unix systems can work with this protocol; when Windows systems are involved, Samba must be used instead."
msgstr "NFS (<emphasis>Network File System</emphasis>) はネットワークを介したファイルシステムへのリモートアクセスを司るプロトコルです。すべての Unix システムは NFS プロトコルを取り扱う事が可能です; Windows システムを参加させる場合、代わりに Samba を使わなければいけません。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary>"
msgstr "<primary>NFS</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>Network</emphasis></primary><secondary><emphasis>File System</emphasis></secondary>"
msgstr "<primary><emphasis>Network</emphasis></primary><secondary><emphasis>File System</emphasis></secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>filesystem</primary><secondary>network</secondary>"
msgstr "<primary>ファイルシステム</primary><secondary>ネットワーク</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>file</primary><secondary>server</secondary>"
msgstr "<primary>ファイル</primary><secondary>サーバ</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>file</secondary>"
msgstr "<primary>サーバ</primary><secondary>ファイル</secondary>"

#. Tag: para
#, no-c-format
msgid "NFS is a very useful tool, but its shortcomings must be kept in mind especially where security matters are concerned: all data goes over the network in the clear (a <emphasis>sniffer</emphasis> can intercept it); the server enforces access restrictions based on the client's IP address (which can be spoofed); and finally, when a client machine is granted access to a misconfigured NFS share, the client's root user can access all the files on the share (even those belonging to other users) since the server trusts the username it receives from the client (this is a historical limitation of the protocol)."
msgstr "NFS はとても便利なツールですが、特にセキュリティ問題を気にする場合、NFS の欠点に注意しなければいけません; ネットワークを通過するすべてのデータは平文です (<emphasis>スニファ</emphasis> を使えば内容を傍受する事が可能です); サーバはクライアントの IP アドレス (これはなりすまし可能です) に基づくアクセス制限を強制します; そして最後に、クライアントマシンが正しく設定されていない NFS 共有にアクセスを許可された場合、クライアントの root ユーザは共有されている全ファイル (他のユーザに所属するファイル) にアクセスする事が可能です。なぜなら、NFS サーバはクライアントから受け取ったユーザ名を信用する (これは NFS プロトコルの歴史的な制限) からです。"

#. Tag: title
#, no-c-format
msgid "<emphasis>DOCUMENTATION</emphasis> NFS HOWTO"
msgstr "<emphasis>DOCUMENTATION</emphasis> NFS HOWTO"

#. Tag: para
#, no-c-format
msgid "Even though it is relatively old, the NFS HOWTO is full of interesting information, including methods for optimizing performance. It also describes a way to secure NFS transfers with an SSH tunnel; however, that technique precludes the use of <command>lockd</command>. <ulink type=\"block\" url=\"http://nfs.sourceforge.net/nfs-howto/\" />"
msgstr "NFS HOWTO は比較的古い文書ですが、性能の最適化方法などの興味深い情報に満ち溢れています。さらに SSH トンネルを使って NFS を安全に使う方法を説明しています; しかしながら、SSH トンネルを使う場合 <command>lockd</command> を使えなくなります。<ulink type=\"block\" url=\"http://nfs.sourceforge.net/nfs-howto/\" />"

#. Tag: title
#, no-c-format
msgid "Securing NFS"
msgstr "安全な NFS"

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary><secondary>security</secondary>"
msgstr "<primary>NFS</primary><secondary>セキュリティ</secondary>"

#. Tag: para
#, no-c-format
msgid "Since NFS trusts the information it receives from the network, it is vital to ensure that only the machines allowed to use it can connect to the various required RPC servers. The firewall must also block <emphasis>IP spoofing</emphasis> so as to prevent an outside machine from acting as an inside one, and access to the appropriate ports must be restricted to the machines meant to access the NFS shares."
msgstr "NFS はネットワークから受け取った情報を信用するため、NFS の利用を許可されたマシンだけが種々の要求された RPC サーバに接続できるように制限する事が不可欠です。ファイヤーウォールは外部のマシンが内部のマシンの如く振る舞う事を避けるために <emphasis>IP なりすまし</emphasis>をブロックし、NFS 共有にアクセスするように意図されたマシンだけが適切なポートにアクセスするように制限しなければいけません。"

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> RPC"
msgstr "<emphasis>BACK TO BASICS</emphasis> RPC"

#. Tag: para
#, no-c-format
msgid "RPC (<emphasis>Remote Procedure Call</emphasis>) is a Unix standard for remote services. NFS is one such service."
msgstr "RPC (<emphasis>Remote Procedure Call</emphasis>) はリモートサービスに関する Unix 標準です。NFS は RPC サービスの 1 つです。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>RPC</primary>"
msgstr "<primary>RPC</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>Remote Procedure Call</emphasis></primary>"
msgstr "<primary><emphasis>Remote Procedure Call</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "RPC services register to a directory known as the <emphasis>portmapper</emphasis>. A client wishing to perform an NFS query first addresses the <emphasis>portmapper</emphasis> (on port 111, either TCP or UDP), and asks for the NFS server; the reply usually mentions port 2049 (the default for NFS). Not all RPC services necessarily use a fixed port."
msgstr "ディレクトリに登録する RPC サービスは <emphasis>portmapper</emphasis> としても知られています。NFS 問い合わせを実行する事を望むクライアントは最初に <emphasis>portmapper</emphasis> (ポート番号 111 番、TCP または UDP) を呼び出し、NFS サーバのポート番号を要求します; 通常ポート番号 2049 番 (NFS のデフォルト) が返されます。すべての RPC サービスが必ず固定されたポートで使われる必要があるわけではありません。"

#. Tag: para
#, no-c-format
msgid "Other RPC services may be required for NFS to work optimally, including <command>rpc.mountd</command>, <command>rpc.statd</command> and <command>lockd</command>. However, these services use a random port (assigned by the <emphasis>portmapper</emphasis>) by default, which makes it difficult to filter traffic targeting these services. The Falcot Corp administrators found a work-around for this problem, described below."
msgstr "最適な状態で NFS を使うには、<command>rpc.mountd</command>、<command>rpc.statd</command>、<command>lockd</command> などの別の RPC サービスを必要とする場合があります。しかしながら、これらの RPC サービスはデフォルトで (<emphasis>portmapper</emphasis> の割り当てた) ランダムなポートを使うため、対象のサービスに関するトラフィックをフィルタする事が難しくなります。Falcot Corp 管理者はこの問題に対する次善策を見つけました。以下のようなものです。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>rpc.mountd</command></primary>"
msgstr "<primary><command>rpc.mountd</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>rpc.statd</command></primary>"
msgstr "<primary><command>rpc.statd</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>lockd</command></primary>"
msgstr "<primary><command>lockd</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>portmapper</command></primary>"
msgstr "<primary><command>portmapper</command></primary>"

#. Tag: para
#, no-c-format
msgid "The first two services mentioned above are implemented by user-space programs, started respectively by <filename>/etc/init.d/nfs-kernel-server</filename> and <filename>/etc/init.d/nfs-common</filename>. They provide configuration options to force ports; the relevant files to modify to always use these options are <filename>/etc/default/nfs-kernel-server</filename> and <filename>/etc/default/nfs-common</filename>."
msgstr "上で挙げた <command>rpc.mountd</command> と <command>rpc.statd</command> はユーザ空間プログラムとして実装されており、それぞれ <filename>/etc/init.d/nfs-kernel-server</filename> と <filename>/etc/init.d/nfs-common</filename> を使って開始されます。どちらのプログラムも、ポートを強制するための設定オプションを備えています; 常に適用する設定オプションを変更するには、<filename>/etc/default/nfs-kernel-server</filename> と <filename>/etc/default/nfs-common</filename> を編集します。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>nfs-kernel-server</emphasis></primary>"
msgstr "<primary><emphasis>nfs-kernel-server</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/default/nfs-kernel-server</filename></primary>"
msgstr "<primary><filename>/etc/default/nfs-kernel-server</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>nfs-common</filename></primary>"
msgstr "<primary><filename>nfs-common</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/default/nfs-common</filename></primary>"
msgstr "<primary><filename>/etc/default/nfs-common</filename></primary>"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/default/nfs-kernel-server</filename> file"
msgstr "<filename>/etc/default/nfs-kernel-server</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Number of servers to start up\n"
"RPCNFSDCOUNT=8\n"
"\n"
"# Runtime priority of server (see nice(1))\n"
"RPCNFSDPRIORITY=0\n"
"\n"
"# Options for rpc.mountd.\n"
"# If you have a port-based firewall, you might want to set up\n"
"# a fixed port here using the --port option. For more information, \n"
"# see rpc.mountd(8) or http://wiki.debian.org/SecuringNFS\n"
"# To disable NFSv4 on the server, specify '--no-nfs-version 4' here\n"
"RPCMOUNTDOPTS=\"--manage-gids --port 2048\"\n"
"\n"
"# Do you want to start the svcgssd daemon? It is only required for Kerberos\n"
"# exports. Valid alternatives are \"yes\" and \"no\"; the default is \"no\".\n"
"NEED_SVCGSSD=\n"
"\n"
"# Options for rpc.svcgssd.\n"
"RPCSVCGSSDOPTS="
msgstr ""
"\n"
"# Number of servers to start up\n"
"RPCNFSDCOUNT=8\n"
"\n"
"# Runtime priority of server (see nice(1))\n"
"RPCNFSDPRIORITY=0\n"
"\n"
"# Options for rpc.mountd.\n"
"# If you have a port-based firewall, you might want to set up\n"
"# a fixed port here using the --port option. For more information, \n"
"# see rpc.mountd(8) or http://wiki.debian.org/SecuringNFS\n"
"# To disable NFSv4 on the server, specify '--no-nfs-version 4' here\n"
"RPCMOUNTDOPTS=\"--manage-gids --port 2048\"\n"
"\n"
"# Do you want to start the svcgssd daemon? It is only required for Kerberos\n"
"# exports. Valid alternatives are \"yes\" and \"no\"; the default is \"no\".\n"
"NEED_SVCGSSD=\n"
"\n"
"# Options for rpc.svcgssd.\n"
"RPCSVCGSSDOPTS="

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/default/nfs-common</filename> file"
msgstr "<filename>/etc/default/nfs-common</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# If you do not set values for the NEED_ options, they will be attempted\n"
"# autodetected; this should be sufficient for most people. Valid alternatives\n"
"# for the NEED_ options are \"yes\" and \"no\".\n"
"\n"
"# Do you want to start the statd daemon? It is not needed for NFSv4.\n"
"NEED_STATD=\n"
"\n"
"# Options for rpc.statd.\n"
"#   Should rpc.statd listen on a specific port? This is especially useful\n"
"#   when you have a port-based firewall. To use a fixed port, set this\n"
"#   this variable to a statd argument like: \"--port 4000 --outgoing-port 4001\".\n"
"#   For more information, see rpc.statd(8) or http://wiki.debian.org/SecuringNFS\n"
"STATDOPTS=\"--port 2046 --outgoing-port 2047\"\n"
"\n"
"# Do you want to start the idmapd daemon? It is only needed for NFSv4.\n"
"NEED_IDMAPD=\n"
"\n"
"# Do you want to start the gssd daemon? It is required for Kerberos mounts.\n"
"NEED_GSSD="
msgstr ""
"\n"
"# If you do not set values for the NEED_ options, they will be attempted\n"
"# autodetected; this should be sufficient for most people. Valid alternatives\n"
"# for the NEED_ options are \"yes\" and \"no\".\n"
"\n"
"# Do you want to start the statd daemon? It is not needed for NFSv4.\n"
"NEED_STATD=\n"
"\n"
"# Options for rpc.statd.\n"
"#   Should rpc.statd listen on a specific port? This is especially useful\n"
"#   when you have a port-based firewall. To use a fixed port, set this\n"
"#   this variable to a statd argument like: \"--port 4000 --outgoing-port 4001\".\n"
"#   For more information, see rpc.statd(8) or http://wiki.debian.org/SecuringNFS\n"
"STATDOPTS=\"--port 2046 --outgoing-port 2047\"\n"
"\n"
"# Do you want to start the idmapd daemon? It is only needed for NFSv4.\n"
"NEED_IDMAPD=\n"
"\n"
"# Do you want to start the gssd daemon? It is required for Kerberos mounts.\n"
"NEED_GSSD="

#. Tag: para
#, no-c-format
msgid "Once these changes are made and the services are restarted, <command>rpc.mountd</command> uses port 2048; <command>rpc.statd</command> listens on port 2046 and uses port 2047 for outgoing connections."
msgstr "これらの変更を行った後、サービスを再起動すれば、<command>rpc.mountd</command> はポート番号 2048 番を使うようになります; <command>rpc.statd</command> はポート番号 2046 番をリッスンし、外向きの接続にポート番号 2047 番を使うようになります。"

#. Tag: para
#, no-c-format
msgid "The <command>lockd</command> service is handled by a kernel <emphasis>thread</emphasis> (lightweight process); this feature is built as a module on Debian kernels. The module has two options allowing to always choose the same port, <literal>nlm_udpport</literal> and <literal>nlm_tcpport</literal>. In order for these options to be systematically used, there needs to be a <filename>/etc/modprobe.d/lockd</filename> file such as the following:"
msgstr "<command>lockd</command> サービスはカーネル<emphasis>スレッド</emphasis> (軽量プロセス) によって取り扱われます; この機能は Debian カーネルのモジュールとしてビルドされています。このモジュールは常に同じポートを使うための 2 種類のオプション <literal>nlm_udpport</literal> と <literal>nlm_tcpport</literal> を取ります。これらのオプションを系統的に使うには、以下のような <filename>/etc/modprobe.d/lockd</filename> ファイルが必要です:"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/modprobe.d/lockd</filename> file"
msgstr "<filename>/etc/modprobe.d/lockd</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"options lockd nlm_udpport=2045 nlm_tcpport=2045"
msgstr ""
"\n"
"options lockd nlm_udpport=2045 nlm_tcpport=2045"

#. Tag: para
#, no-c-format
msgid "Once these parameters are set, it becomes easier to control access to the NFS service from the firewall in a fine-grained way by filtering access to ports 111 and 2045 through 2049 (both UDP and TCP)."
msgstr "これらのパラメータを設定したら、ポート番号 111 番および 2045 番から 2049 番まで (UDP と TCP の両方) を使うアクセスをフィルタすることにより、きめ細かな設定をファイヤーウォールに適用し、NFS サービスへのアクセスを簡単に制御する事が可能になります。"

#. Tag: title
#, no-c-format
msgid "NFS Server"
msgstr "NFS サーバ"

#. Tag: para
#, no-c-format
msgid "The NFS server is part of the Linux kernel; in kernels provided by Debian it is built as a kernel module. If the NFS server is to be run automatically on boot, the <emphasis role=\"pkg\">nfs-kernel-server</emphasis> package should be installed; it contains the relevant start-up scripts."
msgstr "NFS サーバは Linux カーネルの一部です; Debian の提供するカーネルでは、NFS サーバをカーネルモジュールとしてビルドしています。NFS サーバを起動時に自動的に実行するには、<emphasis role=\"pkg\">nfs-kernel-server</emphasis> パッケージをインストールしてください; このパッケージには、対応する起動スクリプトが含まれます。"

#. Tag: para
#, no-c-format
msgid "The NFS server configuration file, <filename>/etc/exports</filename>, lists the directories that are made available over the network (<emphasis>exported</emphasis>). For each NFS share, only the given list of machines is granted access. More fine-grained access control can be obtained with a few options. The syntax for this file is quite simple:"
msgstr "NFS サーバ設定ファイル <filename>/etc/exports</filename> には、ネットワークを介して利用可能にする (<emphasis>エクスポートされる</emphasis>) ディレクトリをリストします。各 NFS 共有について、リストされたマシンだけがアクセスを許可されます。よりきめ細かなアクセス制御をするには、幾つかのオプションを使います。<filename>/etc/exports</filename> ファイルの構文はとても単純です:"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>exports</filename></primary>"
msgstr "<primary><filename>exports</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/exports</filename></primary>"
msgstr "<primary><filename>/etc/exports</filename></primary>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"/directory/to/share machine1(option1,option2,...) machine2(...) ..."
msgstr ""
"\n"
"/directory/to/share machine1(option1,option2,...) machine2(...) ..."

#. Tag: para
#, no-c-format
msgid "Each machine can be identified either by its DNS name or its IP address. Whole sets of machines can also be specified using either a syntax such as <literal>*.falcot.com</literal> or an IP address range such as <literal>192.168.0.0/255.255.255.0</literal> or <literal>192.168.0.0/24</literal>."
msgstr "各マシンは DNS 名か IP アドレスのどちらか一方を使って識別されます。マシン群全体を指定するには、<literal>*.falcot.com</literal> などの構文を使うか <literal>192.168.0.0/255.255.255.0</literal> や <literal>192.168.0.0/24</literal> などの IP アドレス範囲を使います。"

#. Tag: para
#, no-c-format
msgid "Directories are made available as read-only by default (or with the <literal>ro</literal> option). The <literal>rw</literal> option allows read-write access. NFS clients typically connect from a port restricted to root (in other words, below 1024); this restriction can be lifted by the <literal>insecure</literal> option (the <literal>secure</literal> option is implicit, but it can be made explicit if needed for clarity)."
msgstr "ディレクトリはデフォルトで (または <literal>ro</literal> オプションを使えば) 読み込み専用として利用可能にされます。<literal>rw</literal> オプションを使えば読み書きアクセスが許可されます。典型的に NFS クライアントは root だけが使えるポート (言い換えれば、1024 番よりも低い番号のポート) から接続します; この制限を無くすには、<literal>insecure</literal> オプションを使います (<literal>secure</literal> オプションは暗黙的に有効化されていますが、明示する必要があればオプションを明示する事も可能です)。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary><secondary>options</secondary>"
msgstr "<primary>NFS</primary><secondary>オプション</secondary>"

#. Tag: para
#, no-c-format
msgid "By default, the server only answers an NFS query when the current disk operation is complete (<literal>sync</literal> option); this can be disabled with the <literal>async</literal> option. Asynchronous writes increase performance a bit, but they decrease reliability since there's a data loss risk in case of the server crashing between the acknowledgment of the write and the actual write on disk. Since the default value changed recently (as compared to the historical value of NFS), an explicit setting is recommended."
msgstr "デフォルトの状態では、サーバが NFS 問い合わせに応答するのは、現在のディスク操作が完了した (<literal>sync</literal> オプション) 後です; これを無効化するには、<literal>async</literal> オプションを使います。非同期書き込みを使うことで、性能はほんの少し向上しますが、信頼性は低下します。なぜなら、書き込み確認とディスクへの実際の書き込みの間にサーバがクラッシュした場合に、データを損失する危険性があるからです。デフォルト値が変更されたのは最近なので (NFS バージョンによってデフォルト値が違うので) 、明確に設定する事を推奨します。"

#. Tag: para
#, no-c-format
msgid "In order to not give root access to the filesystem to any NFS client, all queries appearing to come from a root user are considered by the server as coming from the <literal>nobody</literal> user. This behavior corresponds to the <literal>root_squash</literal> option, and is enabled by default. The <literal>no_root_squash</literal> option, which disables this behavior, is risky and should only be used in controlled environments. The <literal>anonuid=<replaceable>uid</replaceable></literal> and <literal>anongid=<replaceable>gid</replaceable></literal> options allow specifying another fake user to be used instead of UID/GID 65534 (which corresponds to user <literal>nobody</literal> and group <literal>nogroup</literal>)."
msgstr "NFS クライアントがファイルシステムに root 権限でアクセスする事を許可しないために、サーバは root ユーザからのすべての問い合わせを <literal>nobody</literal> ユーザからの問い合わせとして処理します。この挙動は <literal>root_squash</literal> オプションを使った場合の挙動に対応し、このオプションはデフォルトで有効化されています。<literal>no_root_squash</literal> オプションを使うことで、この挙動は無効化されますが、このオプションは危険であり管理された環境の中でのみ使われるべきです。<literal>anonuid=<replaceable>uid</replaceable></literal> と <literal>anongid=<replaceable>gid</replaceable></literal> オプションを使うことで、UID/GID 65534 (これは <literal>nobody</literal> ユーザと <literal>nogroup</literal> グループに対応します) の代わりに使う別の偽ユーザを指定する事が可能です。"

#. Tag: para
#, no-c-format
msgid "Other options are available; they are documented in the <citerefentry><refentrytitle>exports</refentrytitle> <manvolnum>5</manvolnum></citerefentry> manual page."
msgstr "他のオプションも利用可能です; オプションは <citerefentry><refentrytitle>exports</refentrytitle> <manvolnum>5</manvolnum></citerefentry> マニュアルページで説明されています。"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> First installation"
msgstr "<emphasis>CAUTION</emphasis> 最初のインストール"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/init.d/nfs-kernel-server</filename> boot script only starts the server if the <filename>/etc/exports</filename> lists one or more valid NFS shares. On initial configuration, once this file has been edited to contain valid entries, the NFS server must therefore be started with the following command:"
msgstr "<filename>/etc/init.d/nfs-kernel-server</filename> 起動スクリプトは、<filename>/etc/exports</filename> に 1 つ以上の NFS 共有が含まれる場合に、サーバを起動するだけです。最初の設定で、<filename>/etc/exports</filename> ファイルを編集して適切なエントリを含めたら、NFS サーバを以下のコマンドで起動するべきです。"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>/etc/init.d/nfs-kernel-server start</userinput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>/etc/init.d/nfs-kernel-server start</userinput>"

#. Tag: title
#, no-c-format
msgid "NFS Client"
msgstr "NFS クライアント"

#. Tag: indexterm
#, no-c-format
msgid "<primary>client</primary><secondary>NFS</secondary>"
msgstr "<primary>クライアント</primary><secondary>NFS</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary><secondary>client</secondary>"
msgstr "<primary>NFS</primary><secondary>クライアント</secondary>"

#. Tag: para
#, no-c-format
msgid "As with other filesystems, integrating an NFS share into the system hierarchy requires mounting. Since this filesystem has its peculiarities, a few adjustments were required in the syntaxes of the <command>mount</command> command and the <filename>/etc/fstab</filename> file."
msgstr "他のファイルシステムと同様、NFS 共有をシステムの階層構造に統合するにはマウント作業が必要です。NFS 共有ファイルシステムは特殊なので、<command>mount</command> コマンドと <filename>/etc/fstab</filename> ファイルに幾つかの調整を行うパラメータを含める必要があります。"

#. Tag: title
#, no-c-format
msgid "Manually mounting with the <command>mount</command> command"
msgstr "<command>mount</command> コマンドを用いた手作業によるマウント"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>mount -t nfs -o rw,nosuid arrakis.internal.falcot.com:/srv/shared /shared</userinput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>mount -t nfs -o rw,nosuid arrakis.internal.falcot.com:/srv/shared /shared</userinput>"

#. Tag: title
#, no-c-format
msgid "NFS entry in the <filename>/etc/fstab</filename> file"
msgstr "<filename>/etc/fstab</filename> ファイルの NFS エントリ"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"arrakis.internal.falcot.com:/srv/shared /shared nfs rw,nosuid 0 0"
msgstr ""
"\n"
"arrakis.internal.falcot.com:/srv/shared /shared nfs rw,nosuid 0 0"

#. Tag: para
#, no-c-format
msgid "The entry described above mounts, at system startup, the <filename>/srv/shared/</filename> NFS directory from the <literal>arrakis</literal> server into the local <filename>/shared/</filename> directory. Read-write access is requested (hence the <literal>rw</literal> parameter). The <literal>nosuid</literal> option is a protection measure that wipes any <literal>setuid</literal> or <literal>setgid</literal> bit from programs stored on the share. If the NFS share is only meant to store documents, another recommended option is <literal>noexec</literal>, which prevents executing programs stored on the share."
msgstr "上の例で示したエントリを使うことで、システム起動時に、<literal>arrakis</literal> サーバの <filename>/srv/shared/</filename> NFS ディレクトリがローカルの <filename>/shared/</filename> ディレクトリにマウントされます。読み書きアクセスを要求しています (このため <literal>rw</literal> パラメータを追加しています)。<literal>nosuid</literal> オプションは一種の保護手段で、共有ディレクトリに保存されているプログラムに設定された <literal>setuid</literal> または <literal>setgid</literal> ビットを無効化します。文書を保存するだけの目的で NFS 共有を使っている場合、<literal>noexec</literal> オプションを追加する事を推奨します。これは共有ディレクトリに含まれるプログラムの実行を避けるものです。"

#. Tag: para
#, no-c-format
msgid "The <citerefentry><refentrytitle>nfs</refentrytitle> <manvolnum>5</manvolnum></citerefentry> manual page describes all the options in some detail."
msgstr "<citerefentry><refentrytitle>nfs</refentrytitle> <manvolnum>5</manvolnum></citerefentry> マニュアルページでは、すべてのオプションをについて詳しく説明されています。"

#. Tag: title
#, no-c-format
msgid "Setting Up Windows Shares with Samba"
msgstr "Samba を使った Windows 共有のセットアップ"

#. Tag: para
#, no-c-format
msgid "Samba is a suite of tools handling the SMB protocol (also known as “CIFS”) on Linux. This protocol is used by Windows for network shares and shared printers."
msgstr "Samba は Linux 上で SMB プロトコル (「CIFS」としても知られています) を取り扱う一連のツールを指します。Windows はネットワーク共有と共有プリンタを使うために SMB プロトコルを使います。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Windows share</primary>"
msgstr "<primary>Windows 共有</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Samba</primary>"
msgstr "<primary>Samba</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>SMB</primary>"
msgstr "<primary>SMB</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>CIFS</primary>"
msgstr "<primary>CIFS</primary>"

#. Tag: para
#, no-c-format
msgid "Samba can also act as an Windows domain controller. This is an outstanding tool for ensuring seamless integration of Linux servers and the office desktop machines still running Windows."
msgstr "さらに Samba は Windows ドメインコントローラとして振る舞う事も可能です。Samba は Linux サーバと Windows が実行されているオフィスデスクトップマシンを完璧に統合する卓越したツールです。"

#. Tag: title
#, no-c-format
msgid "Samba Server"
msgstr "Samba サーバ"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">samba</emphasis> package contains the main two servers of Samba 3, <command>smbd</command> and <command>nmbd</command>."
msgstr "<emphasis role=\"pkg\">samba</emphasis> パッケージには、Samba 3 の主要な 2 種類のサーバ <command>smbd</command> と <command>nmbd</command> が含まれます。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>smbd</command></primary>"
msgstr "<primary><command>smbd</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>nmbd</command></primary>"
msgstr "<primary><command>nmbd</command></primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> Administrating Samba with SWAT"
msgstr "<emphasis>TOOL</emphasis> SWAT を使った Samba の管理"

#. Tag: para
#, no-c-format
msgid "SWAT (<emphasis>Samba Web Administration Tool</emphasis>) is a web interface that allows configuring the Samba service. Since the <emphasis role=\"pkg\">swat</emphasis> package does not enable its configuration interface by default, it must be enabled manually with <command>update-inetd --enable swat</command>."
msgstr "SWAT (<emphasis>Samba Web Administration Tool</emphasis>) は Samba サービスを設定するウェブインターフェースです。<emphasis role=\"pkg\">swat</emphasis> パッケージはデフォルトで設定インターフェースを有効化していないため、<command>update-inetd --enable swat</command> を使って有効化しなければいけません。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>SWAT</primary>"
msgstr "<primary>SWAT</primary>"

#. Tag: para
#, no-c-format
msgid "<emphasis>SWAT</emphasis> then becomes available at the <literal>http://localhost:901</literal> URL. Accessing it means using the root account (and its usual password). Note that SWAT rewrites the <filename>smb.conf</filename> in its own idiom, so it makes sense to make a backup copy beforehand if you're only interested in testing this tool."
msgstr "<emphasis>SWAT</emphasis> は <literal>http://localhost:901</literal> URL から利用可能になります。<literal>http://localhost:901</literal> にアクセスすることは、root アカウント (と root パスワード) を使う事を意味します。SWAT は <filename>smb.conf</filename> を独自の表現で書き換える事に注意してください。SWAT をテストすることだけに興味が有る場合、事前に <filename>smb.conf</filename>  のバックアップコピーを取る事が賢明です。"

#. Tag: para
#, no-c-format
msgid "SWAT is very user-friendly; its interface includes an assistant that allows defining the server's role in three questions. All global options can still be configured, as well as those for all the existing shares, and of course new shares can be added. Each option comes with a link to the relevant documentation."
msgstr "SWAT はとてもユーザフレンドリーです; そのインターフェースには、3 つの質問を使ってサーバの役割を定義するための補助機能が含まれます。すべてのグローバルオプションおよび既存の共有に対するオプションを設定したり、もちろん新しい共有を追加する事も可能です。それぞれのオプションには、対応する文書へのリンクが併記されています。"

#. Tag: para
#, no-c-format
msgid "Unfortunately SWAT is no longer actively maintained and will be dropped from the next version of Debian, known as <emphasis role=\"distribution\">Jessie</emphasis>."
msgstr "残念なことに、SWAT はもはや活発に保守されていないため、Debian の次期バージョンである <emphasis role=\"distribution\">Jessie</emphasis> では提供されない予定です。"

#. Tag: title
#, no-c-format
msgid "<emphasis>DOCUMENTATION</emphasis> Going further"
msgstr "<emphasis>DOCUMENTATION</emphasis> さらなる情報"

#. Tag: para
#, no-c-format
msgid "The Samba server is extremely configurable and versatile, and can address a great many different use cases matching very different requirements and network architectures. This book only focuses on the use case where Samba is used as main domain controller, but it can also be a simple server on the domain and delegate authentication to the main controller (which could be a Windows server)."
msgstr "Samba サーバは非常に細かく設定可能で多目的に使えます。そして、全く異なる要求やネットワークアーキテクチャに応じて、様々な用途に使われます。この本では、Samba を主要なドメインコントローラとして使う用途に注目します。しかし、Samba をあるドメインの単純なサーバとして使ったり、主要なコントローラ (Windows サーバなど) への認証を代理するために使う事も可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>domain controller</primary>"
msgstr "<primary>ドメインコントローラ</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Windows domain</primary>"
msgstr "<primary>Windows ドメイン</primary>"

#. Tag: para
#, no-c-format
msgid "The documentation available in the <emphasis role=\"pkg\">samba-doc</emphasis> package is very well written. In particular, the <citetitle><foreignphrase>Samba 3 By Example</foreignphrase></citetitle> document (available as <filename>/usr/share/doc/samba-doc/htmldocs/Samba3-ByExample/index.html</filename>) deals with a concrete use case that evolves alongside the growing company."
msgstr "<emphasis role=\"pkg\">samba-doc</emphasis> パッケージに含まれる文書はとても良く書けています。特に、<citetitle><foreignphrase>Samba 3 By Example</foreignphrase></citetitle> 文書 (<filename>/usr/share/doc/samba-doc/htmldocs/Samba3-ByExample/index.html</filename> から読めます) では、会社の成長と共に適用するべき具体的な設定例が説明されています。"

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> Authenticating with a Windows Server"
msgstr "<emphasis>TOOL</emphasis> 認証に Windows サーバを使う"

#. Tag: para
#, no-c-format
msgid "Winbind gives system administrators the option of using a Windows server as an authentication server. Winbind also integrates cleanly with PAM and NSS. This allows setting up Linux machines where all users of a Windows domain automatically get an account."
msgstr "Winbind を使うことで、システム管理者は Windows サーバを認証サーバとして使う選択肢を与えられます。Winbind は PAM と NSS を上手く統合します。この事により、Windows ドメインの全ユーザが自動的にアカウントを取得できる Linux マシン群をセットアップする事が可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Winbind</primary>"
msgstr "<primary>Winbind</primary>"

#. Tag: para
#, no-c-format
msgid "More information can be found in the <filename>/usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/winbind.html</filename> file."
msgstr "より詳しい情報は <filename>/usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/winbind.html</filename> ファイルで説明されています。"

#. Tag: title
#, no-c-format
msgid "Configuring with <command>debconf</command>"
msgstr "<command>debconf</command> を使った設定"

#. Tag: para
#, no-c-format
msgid "The package sets up a minimal configuration based on the answers to a few Debconf questions asked during the initial installation; this configuration step can be replayed later with <command>dpkg-reconfigure samba-common samba</command>."
msgstr "このパッケージは最初のインストール時に尋ねた数個の Debconf 質問に対する回答に基づいた最低限の設定を行います。<command>dpkg-reconfigure samba-common samba</command> を使えば、後から各設定をやり直す事が可能です。"

#. Tag: para
#, no-c-format
msgid "The first piece of required information is the name of the workgroup where the Samba server will belong (the answer is <literal>FALCOTNET</literal> in our case). Another question asks whether passwords should be encrypted. The answer is that they should, because it's a requirement for the most recent Windows clients; besides, this increases security. The counterpart is that this required managing Samba passwords separately from the Unix passwords."
msgstr "最初の質問で、Samba サーバが所属するワークグループの名前を尋ねられます (我々の場合、この質問に対する回答は <literal>FALCOTNET</literal> です)。もう 1 つの質問で、パスワードを暗号化するか否かを尋ねられます。この質問には、暗号化するべきと答えます。なぜなら、最近の Windows クライアントはほとんど暗号化を要求するからです; 加えて、パスワードの暗号化は安全性を高めます。パスワードの暗号化の欠点は、Samba パスワードを Unix パスワードと別に管理する必要がある点です。"

#. Tag: para
#, no-c-format
msgid "The package also proposes identifying the WINS server from the information provided by the DHCP daemon. The Falcot Corp administrators rejected this option, since they intend to use the Samba server itself as the WINS server."
msgstr "次の質問で、DHCP デーモンによって提供される情報を使って WINS サーバを識別するか否かを尋ねられます。Falcot Corp 管理者はこのオプションを拒否しました。なぜなら、管理者は Samba サーバ自体を WINS サーバとして利用する予定だからです。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>WINS</primary>"
msgstr "<primary>WINS</primary>"

#. Tag: para
#, no-c-format
msgid "The last question is about whether servers should be started by <command>inetd</command> or as stand-alone daemons. Using <command>inetd</command> is only interesting when Samba is rarely used; the Falcot administrators therefore picked stand-alone daemons."
msgstr "最後の質問で、サーバを <command>inetd</command> を使って起動するか、独立したデーモンとして運用するかを尋ねられます。<command>inetd</command> を使う選択肢は Samba を滅多に使わない場合を除けば効果的とはいえません; このため Falcot の管理者は独立したデーモンとして運用する事を選びました。"

#. Tag: title
#, no-c-format
msgid "Configuring Manually"
msgstr "手作業による設定"

#. Tag: title
#, no-c-format
msgid "Changes to <filename>smb.conf</filename>"
msgstr "<filename>smb.conf</filename> の変更"

#. Tag: para
#, no-c-format
msgid "The requirements at Falcot require other options to be modified in the <filename>/etc/samba/smb.conf</filename> configuration file. The following excerpts summarize the changes that were effected in the <literal>[global]</literal> section."
msgstr "Falcot の用途に対応させるためには、<filename>/etc/samba/smb.conf</filename> 設定ファイルに含まれる他のオプションを変更する事が必要です。以下の抜粋は <literal>[global]</literal> セクションに対する変更点を要約したものです。"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"[global]\n"
"\n"
"## Browsing/Identification ###\n"
"\n"
"# Change this to the workgroup/NT-domain name your Samba server will part of\n"
"   workgroup = FALCOTNET\n"
"\n"
"# server string is the equivalent of the NT Description field\n"
"   server string = %h server (Samba %v)\n"
"\n"
"# Windows Internet Name Serving Support Section:\n"
"# WINS Support - Tells the NMBD component of Samba to enable its WINS Server\n"
"   wins support = yes <co id=\"smb.conf.wins\"></co>\n"
"\n"
"[...]\n"
"\n"
"####### Authentication #######\n"
"\n"
"# \"security = user\" is always a good idea. This will require a Unix account\n"
"# in this server for every user accessing the server. See\n"
"# /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html \n"
"# in the samba-doc package for details.\n"
"   security = user <co id=\"smb.conf.security\"></co>\n"
"\n"
"# You may wish to use password encryption.  See the section on\n"
"# 'encrypt passwords' in the smb.conf(5) manpage before enabling.\n"
"   encrypt passwords = true\n"
"\n"
"# If you are using encrypted passwords, Samba will need to know what\n"
"# password database type you are using.\n"
"   passdb backend = tdbsam\n"
"\n"
"[...]\n"
"\n"
"########## Printing ##########\n"
"\n"
"# If you want to automatically load your printer list rather\n"
"# than setting them up individually then you'll need this\n"
"   load printers = yes <co id=\"smb.conf.loadprinters\"></co>\n"
"\n"
"# lpr(ng) printing. You may wish to override the location of the\n"
"# printcap file\n"
";   printing = bsd\n"
";   printcap name = /etc/printcap\n"
"\n"
"# CUPS printing.  See also the cupsaddsmb(8) manpage in the\n"
"# cups-client package.\n"
"   printing = cups <co id=\"smb.conf.printing\"></co>\n"
"   printcap name = cups"
msgstr ""
"\n"
"[global]\n"
"\n"
"## Browsing/Identification ###\n"
"\n"
"# Change this to the workgroup/NT-domain name your Samba server will part of\n"
"   workgroup = FALCOTNET\n"
"\n"
"# server string is the equivalent of the NT Description field\n"
"   server string = %h server (Samba %v)\n"
"\n"
"# Windows Internet Name Serving Support Section:\n"
"# WINS Support - Tells the NMBD component of Samba to enable its WINS Server\n"
"   wins support = yes <co id=\"smb.conf.wins\"></co>\n"
"\n"
"[...]\n"
"\n"
"####### Authentication #######\n"
"\n"
"# \"security = user\" is always a good idea. This will require a Unix account\n"
"# in this server for every user accessing the server. See\n"
"# /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html \n"
"# in the samba-doc package for details.\n"
"   security = user <co id=\"smb.conf.security\"></co>\n"
"\n"
"# You may wish to use password encryption.  See the section on\n"
"# 'encrypt passwords' in the smb.conf(5) manpage before enabling.\n"
"   encrypt passwords = true\n"
"\n"
"# If you are using encrypted passwords, Samba will need to know what\n"
"# password database type you are using.\n"
"   passdb backend = tdbsam\n"
"\n"
"[...]\n"
"\n"
"########## Printing ##########\n"
"\n"
"# If you want to automatically load your printer list rather\n"
"# than setting them up individually then you'll need this\n"
"   load printers = yes <co id=\"smb.conf.loadprinters\"></co>\n"
"\n"
"# lpr(ng) printing. You may wish to override the location of the\n"
"# printcap file\n"
";   printing = bsd\n"
";   printcap name = /etc/printcap\n"
"\n"
"# CUPS printing.  See also the cupsaddsmb(8) manpage in the\n"
"# cups-client package.\n"
"   printing = cups <co id=\"smb.conf.printing\"></co>\n"
"   printcap name = cups"

#. Tag: para
#, no-c-format
msgid "Indicates that Samba should act as a Netbios name server (WINS) for the local network."
msgstr "Samba がローカルネットワークの Netbios ネームサーバ (WINS) として振る舞う事を意味します。"

#. Tag: para
#, no-c-format
msgid "This is the default value for this parameter; however, since it is central to the Samba configuration, filling it explicitly is recommended. Each user must authenticate before accessing any share."
msgstr "これは security パラメータのデフォルト値です; しかしながら、security パラメータは Samba 設定の要ですから、明示的に指定する事をお勧めします。各ユーザは、共有の種類に関わらず必ず共有にアクセスする前に認証を必要とします。"

#. Tag: para
#, no-c-format
msgid "Tells Samba to automatically share all local printers that exist in the CUPS configuration. Restricting access to these printers is still possible, by adding appropriate sections."
msgstr "Samba が CUPS 設定に存在するすべてのローカルプリンタを自動的に共有する事を意味します。適切なセクションを追加すれば、これらのプリンタへのアクセスを制限する事も可能です。"

#. Tag: para
#, no-c-format
msgid "Specifies the printing system in use; in our case, CUPS."
msgstr "使用する印刷システムを指定します; 我々の場合、CUPS です。"

#. Tag: title
#, no-c-format
msgid "Adding Users"
msgstr "ユーザの追加"

#. Tag: para
#, no-c-format
msgid "Each Samba user needs an account on the server; the Unix accounts must be created first, then the user needs to be registered in Samba's database. The Unix step is done quite normally (using <command>adduser</command> for instance)."
msgstr "各ユーザはサーバにアカウントを必要とします; 管理者は最初に Unix アカウントを作成し、そのアカウントを Samba のデータベースに登録する必要があります。Unix アカウントを作成する段階は通常通り行います (例えば <command>adduser</command> を使います)。"

#. Tag: para
#, no-c-format
msgid "Adding an existing user to the Samba database is a matter of running the <command>smbpasswd -a <replaceable>user</replaceable></command> command; this command asks for the password interactively."
msgstr "既存のユーザを Samba データベースに追加するには、<command>smbpasswd -a <replaceable>user</replaceable></command> コマンドを実行します。コマンドは対話的にパスワードを尋ねます。"

#. Tag: para
#, no-c-format
msgid "A user can be deleted with the <command>smbpasswd -x <replaceable>user</replaceable></command> command. A Samba account can also be temporarily disabled (with <command>smbpasswd -d <replaceable>user</replaceable></command>) and re-enabled later (with <command>smbpasswd -e <replaceable>user</replaceable></command>)."
msgstr "ユーザを削除するには、<command>smbpasswd -x <replaceable>user</replaceable></command> コマンドを実行します。Samba アカウントを一時的に利用不可能にしたり (<command>smbpasswd -d <replaceable>user</replaceable></command> を使います)、再度利用可能にすること (<command>smbpasswd -e <replaceable>user</replaceable></command> を使います) も可能です。"

#. Tag: title
#, no-c-format
msgid "Switching to Domain Controller"
msgstr "ドメインコントローラの切り替え"

#. Tag: para
#, no-c-format
msgid "This section documents how the Falcot administrators went even further, by turning the Samba server into a domain controller providing roaming profiles (which allow users to find their desktop no matter what machine they connect to)."
msgstr "この節では、Falcot 管理者が更に行った設定について、説明しています。ここで Falcot 管理者は Samba サーバをローミングプロファイルを提供するドメインコントローラとして調整しています (こうすることで、接続したマシンに依存せずユーザは自分のデスクトップを見つけ出す事が可能です)。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>roaming profiles</primary>"
msgstr "<primary>ローミングプロファイル</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>profiles, roaming</primary>"
msgstr "<primary>プロファイル、ローミング</primary>"

#. Tag: para
#, no-c-format
msgid "They first added a few extra directives in the <literal>[global]</literal> section of the configuration file:"
msgstr "最初に管理者は設定ファイルの <literal>[global]</literal> セクションに数個の追加的指示文を追加しました:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"domain logons = yes              <co id=\"smb.conf.domainlogons\"></co>\n"
"preferred master = yes           \n"
"logon path = \\\\%L\\profiles\\%U    <co id=\"smb.conf.logonpath\"></co>\n"
"logon script = scripts/logon.bat <co id=\"smb.conf.logonscript\"></co>"
msgstr ""
"\n"
"domain logons = yes              <co id=\"smb.conf.domainlogons\"></co>\n"
"preferred master = yes           \n"
"logon path = \\\\%L\\profiles\\%U    <co id=\"smb.conf.logonpath\"></co>\n"
"logon script = scripts/logon.bat <co id=\"smb.conf.logonscript\"></co>"

#. Tag: para
#, no-c-format
msgid "Enables the domain controller functionality."
msgstr "ドメインコントローラの機能を有効化します。"

#. Tag: para
#, no-c-format
msgid "Specifies the location of the users' home directories. These are stored on a dedicated share, which allows enabling specific options (in particular, <literal>profile acls</literal>, a requirement for compatibility with Windows 2000, XP and Vista)."
msgstr "ユーザのホームディレクトリの位置を指定します。ユーザのホームディレクトリは専用の共有に保存されており、特定のオプション (特に Windows 2000、XP、Vista と互換性を保つために必要な <literal>profile acls</literal> ) を有効化する事が可能です。"

#. Tag: para
#, no-c-format
msgid "Specifies the <emphasis>batch</emphasis> (non-interactive) script that is to be run on the client Windows machine every time a session is opened. In this case, <filename>/var/lib/samba/netlogon/scripts/logon.bat</filename>. The script needs to be in DOS format, where the lines are separated by a carriage-return character and a line-feed character; if the file was created on Linux, running <command>unix2dos</command> will convert it."
msgstr "<emphasis>batch</emphasis> (非対話的) スクリプトを指定します。このスクリプトはセッションの開始毎にクライアントの Windows マシンで実行されます。この場合、<filename>/var/lib/samba/netlogon/scripts/logon.bat</filename> です。このスクリプトは DOS フォーマットにしてください。つまり各行をキャリッジリターン文字とラインフィード文字で分割してください; このスクリプトを Linux で作成した場合、<command>unix2dos</command> を使って変換してください。"

#. Tag: para
#, no-c-format
msgid "The commands used most widely in these scripts allow the automatic creation of network drives and synchronizing the system time."
msgstr "このスクリプトの中では、ネットワークドライブを自動作成したり、システム時間を同期するためのコマンドがよく使われます。"

#. Tag: title
#, no-c-format
msgid "The <filename>logon.bat</filename> file"
msgstr "<filename>logon.bat</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"net time \\\\ARRAKIS /set /yes\n"
"net use H: /home\n"
"net use U: \\\\ARRAKIS\\utils"
msgstr ""
"\n"
"net time \\\\ARRAKIS /set /yes\n"
"net use H: /home\n"
"net use U: \\\\ARRAKIS\\utils"

#. Tag: para
#, no-c-format
msgid "Two extra shares, and their associated directories, were also created:"
msgstr "以下のとおり 2 つの追加的共有および関連するディレクトリを作成しました。"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"[netlogon]\n"
"comment = Network Logon Service\n"
"path = /var/lib/samba/netlogon\n"
"guest ok = yes\n"
"writable = no\n"
"share modes = no\n"
"\n"
"[profiles]\n"
"comment = Profile Share\n"
"path = /var/lib/samba/profiles\n"
"read only = No\n"
"profile acls = Yes"
msgstr ""
"\n"
"[netlogon]\n"
"comment = Network Logon Service\n"
"path = /var/lib/samba/netlogon\n"
"guest ok = yes\n"
"writable = no\n"
"share modes = no\n"
"\n"
"[profiles]\n"
"comment = Profile Share\n"
"path = /var/lib/samba/profiles\n"
"read only = No\n"
"profile acls = Yes"

#. Tag: para
#, no-c-format
msgid "The home directories for all users must also be created (as <filename>/var/lib/samba/profiles/<replaceable>user</replaceable></filename>), and each of them must be owned by the matching user."
msgstr "すべてのユーザのホームディレクトリが (<filename>/var/lib/samba/profiles/<replaceable>user</replaceable></filename> に) 作成され、各ホームディレクトリは必ず対応するユーザに所有されていなければいけません。"

#. Tag: title
#, no-c-format
msgid "Samba Client"
msgstr "Samba クライアント"

#. Tag: para
#, no-c-format
msgid "The client features in Samba allow a Linux machine to access Windows shares and shared printers. The required programs are available in the <emphasis role=\"pkg\">cifs-utils</emphasis> and <emphasis role=\"pkg\">smbclient</emphasis> packages."
msgstr "Samba のクライアント機能を使うことで、Linux マシンは Windows 共有と共有プリンタへアクセスする事が可能になります。必要なプログラムは <emphasis role=\"pkg\">cifs-utils</emphasis> と <emphasis role=\"pkg\">smbclient</emphasis> パッケージに含まれます。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>smbclient</emphasis></primary>"
msgstr "<primary><emphasis>smbclient</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>cifs-utils</emphasis></primary>"
msgstr "<primary><emphasis>cifs-utils</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "The <command>smbclient</command> Program"
msgstr "<command>smbclient</command> プログラム"

#. Tag: para
#, no-c-format
msgid "The <command>smbclient</command> program queries SMB servers. It accepts a <literal>-U <replaceable>user</replaceable></literal> option, for connecting to the server under a specific identity. <command>smbclient //<replaceable>server</replaceable>/<replaceable>share</replaceable></command> accesses the share in an interactive way similar to the command-line FTP client. <command>smbclient -L <replaceable>server</replaceable></command> lists all available (and visible) shares on a server."
msgstr "<command>smbclient</command> プログラムは SMB サーバに問い合わせを行います。特定のユーザ識別情報を使ってサーバに接続するには、<literal>-U <replaceable>user</replaceable></literal> オプションを使います。<command>smbclient //<replaceable>server</replaceable>/<replaceable>share</replaceable></command> はコマンドライン FTP クライアントに類似した対話的方法を使って共有にアクセスします。<command>smbclient -L <replaceable>server</replaceable></command> は対象のサーバで利用可能な (見える) 共有を全部リストします。"

#. Tag: title
#, no-c-format
msgid "Mounting Windows Shares"
msgstr "Windows 共有のマウント"

#. Tag: para
#, no-c-format
msgid "The <command>mount</command> command allows mounting a Windows share into the Linux filesystem hierarchy (with the help of <command>mount.cifs</command> provided by <emphasis role=\"pkg\">cifs-utils</emphasis>)."
msgstr "<command>mount</command> コマンドを使うことで、Windows 共有を Linux ファイルシステム階層にマウントする事が可能になります (<emphasis role=\"pkg\">cifs-utils</emphasis> の提供する <command>mount.cifs</command> の助けを借ります)。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>mount.cifs</command></primary>"
msgstr "<primary><command>mount.cifs</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Windows share, mounting</primary>"
msgstr "<primary>Windows 共有、マウント</primary>"

#. Tag: title
#, no-c-format
msgid "Mounting a Windows share"
msgstr "Windows 共有をマウントする"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"mount -t cifs //arrakis/shared /shared \\\n"
"      -o credentials=/etc/smb-credentials"
msgstr ""
"\n"
"mount -t cifs //arrakis/shared /shared \\\n"
"      -o credentials=/etc/smb-credentials"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/smb-credentials</filename> file (which must not be readable by users) has the following format:"
msgstr "<filename>/etc/smb-credentials</filename> ファイルは (ユーザはこのファイルを読み込むことはできません) 以下の書式で書かれています:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"username = <replaceable>user</replaceable>\n"
"password = <replaceable>password</replaceable>"
msgstr ""
"\n"
"username = <replaceable>user</replaceable>\n"
"password = <replaceable>password</replaceable>"

#. Tag: para
#, no-c-format
msgid "Other options can be specified on the command-line; their full list is available in the <citerefentry><refentrytitle>mount.cifs</refentrytitle> <manvolnum>1</manvolnum></citerefentry> manual page. Two options in particular can be interesting: <literal>uid</literal> and <literal>gid</literal> allow forcing the owner and group of files available on the mount, so as not to restrict access to root."
msgstr "他のオプションはコマンドラインで指定します; オプションの完全なリストは <citerefentry><refentrytitle>mount.cifs</refentrytitle> <manvolnum>1</manvolnum></citerefentry> マニュアルページに書かれています。オプションの中でも特に次の 2 種類は興味深いです; <literal>uid</literal> と <literal>gid</literal> を使うことで、マウントされたことで利用可能になったファイルの所有者とグループを指定したものに強制する事が可能になります。これを指定することで、root 以外のユーザもマウント先にアクセス可能になります。"

#. Tag: para
#, no-c-format
msgid "A mount of a Windows share can also be configured in <filename>/etc/fstab</filename>:"
msgstr "<filename>/etc/fstab</filename> の中に設定を書いて、Windows 共有をマウントする事も可能です:"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"//<replaceable>server</replaceable>/shared /shared cifs credentials=/etc/smb-credentials"
msgstr ""
"\n"
"//<replaceable>server</replaceable>/shared /shared cifs credentials=/etc/smb-credentials"

#. Tag: para
#, no-c-format
msgid "Unmounting a SMB/CIFS share is done with the standard <command>umount</command> command."
msgstr "SMB/CIFS 共有をアンマウントするには、標準的な <command>umount</command> コマンドを使います。"

#. Tag: title
#, no-c-format
msgid "Printing on a Shared Printer"
msgstr "共有プリンタを用いた印刷"

#. Tag: para
#, no-c-format
msgid "CUPS is an elegant solution for printing from a Linux workstation to a printer shared by a Windows machine. When the <emphasis role=\"pkg\">smbclient</emphasis> is installed, CUPS allows installing Windows shared printers automatically."
msgstr "CUPS は Linux ワークステーションから Windows マシンによって共有されているプリンタに印刷を行う洗練された解決策です。<emphasis role=\"pkg\">smbclient</emphasis> がインストールされている場合、CUPS を使うことで、Windows 共有プリンタを自動的にインストールする事が可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>printing</primary><secondary>network</secondary>"
msgstr "<primary>印刷</primary><secondary>ネットワーク</secondary>"

#. Tag: para
#, no-c-format
msgid "Here are the required steps:"
msgstr "以下に必要な各段階を示します:"

#. Tag: para
#, no-c-format
msgid "Enter the CUPS configuration interface: <literal>http://localhost:631/admin</literal>"
msgstr "CUPS 設定インターフェースにアクセスします: <literal>http://localhost:631/admin</literal>"

#. Tag: para
#, no-c-format
msgid "Click on “Add Printer”."
msgstr "「Add Printer」をクリックします。"

#. Tag: para
#, no-c-format
msgid "Choose the printer device, pick “Windows Printer via SAMBA”."
msgstr "プリンタデバイスを選択し、「Windows Printer via SAMBA」を選んでください。"

#. Tag: para
#, no-c-format
msgid "Enter the connection URI for the network printer. It should look like the following:"
msgstr "ネットワークプリンタの接続 URI を入力します。URI は以下の書式を使うべきです:"

#. Tag: para
#, no-c-format
msgid "<literal>smb://<replaceable>user</replaceable>:<replaceable>password</replaceable>@<replaceable>server</replaceable>/<replaceable>printer</replaceable></literal>."
msgstr "<literal>smb://<replaceable>user</replaceable>:<replaceable>password</replaceable>@<replaceable>server</replaceable>/<replaceable>printer</replaceable></literal>."

#. Tag: para
#, no-c-format
msgid "Enter the name that will uniquely identify this printer. Then enter the description and location of the printer. Those are the strings that will be shown to end users to help them identify the printers."
msgstr "プリンタを一意に識別する名前を入力してください。その後、プリンタの説明と場所を入力してください。これらは、プリンタの利用者が印刷に使うプリンタを識別できるように、利用者に表示される文字列です。"

#. Tag: para
#, no-c-format
msgid "Indicate the manufacturer/model of the printer, or directly provide a working printer description file (PPD)."
msgstr "プリンタの製造者/モデルを指示するか、使用するプリンタの説明ファイル (PPD) を直接提供します。"

#. Tag: para
#, no-c-format
msgid "Voilà, the printer is operational!"
msgstr "これで、プリンタが利用可能になりました!"

#. Tag: title
#, no-c-format
msgid "HTTP/FTP Proxy"
msgstr "HTTP/FTP プロキシ"

#. Tag: para
#, no-c-format
msgid "An HTTP/FTP proxy acts as an intermediary for HTTP and/or FTP connections. Its role is twofold:"
msgstr "HTTP/FTP プロキシは HTTP または FTP 接続の仲介者として機能します。HTTP/FTP プロキシの役割は 2 種類あります:"

#. Tag: para
#, no-c-format
msgid "Caching: recently downloaded documents are copied locally, which avoids multiple downloads."
msgstr "キャッシュ: 最近ダウンロードされた文書をローカルにコピーします。これはダウンロード重複して行う事を避ける役割を果たします。"

#. Tag: para
#, no-c-format
msgid "Filtering server: if use of the proxy is mandated (and outgoing connections are blocked unless they go through the proxy), then the proxy can determine whether or not the request is to be granted."
msgstr "サーバのフィルタリング: プロキシの利用が強制されている場合 (そしてプロキシを介さない外部への接続がブロックされる場合)、プロキシは接続要求を許可するか否かを決定する事が可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTP/FTP proxy</primary>"
msgstr "<primary>HTTP/FTP プロキシ</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>proxy cache</primary>"
msgstr "<primary>プロキシキャッシュ</primary>"

#. Tag: para
#, no-c-format
msgid "Falcot Corp selected Squid as their proxy server."
msgstr "Falcot Corp はプロキシサーバとして Squid を選びました。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Squid</primary>"
msgstr "<primary>Squid</primary>"

#. Tag: title
#, no-c-format
msgid "Installing"
msgstr "インストール"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">squid</emphasis> Debian package only contains the modular (caching) proxy. Turning it into a filtering server requires installing the additional <emphasis role=\"pkg\">squidguard</emphasis> package. In addition, <emphasis role=\"pkg\">squid-cgi</emphasis> provides a querying and administration interface for a Squid proxy."
msgstr "<emphasis role=\"pkg\">squid</emphasis> Debian パッケージには、モジュール式 (キャッシュ) プロキシだけが含まれます。Squid をフィルタリングサーバとして使うには、追加で <emphasis role=\"pkg\">squidguard</emphasis> パッケージをインストールする必要があります。加えて、<emphasis role=\"pkg\">squid-cgi</emphasis> には、Squid プロキシ用の問い合わせおよび管理インターフェースが含まれます。"

#. Tag: para
#, no-c-format
msgid "Prior to installing, care should be taken to check that the system can identify its own complete name: the <command>hostname -f</command> must return a fully-qualified name (including a domain). If it does not, then the <filename>/etc/hosts</filename> file should be edited to contain the full name of the system (for instance, <literal>arrakis.falcot.com</literal>). The official computer name should be validated with the network administrator in order to avoid potential name conflicts."
msgstr "インストールの前に、システムが自分の完全な名前を識別できるか確認する事を忘れないで下さい。<command>hostname -f</command> は完全修飾名 (ドメイン名を含むホスト名) を返します。これに失敗した場合、<filename>/etc/hosts</filename> ファイルを編集して、システムの完全な名前 (例えば <literal>arrakis.falcot.com</literal> など) を書き込むべきです。潜在的な名前の衝突を避けるには、ネットワーク管理者に公認のコンピュータの名前の妥当性を確認するべきです。"

#. Tag: title
#, no-c-format
msgid "Configuring a Cache"
msgstr "キャッシュの設定"

#. Tag: para
#, no-c-format
msgid "Enabling the caching server feature is a simple matter of editing the <filename>/etc/squid/squid.conf</filename> configuration file and allowing machines from the local network to run queries through the proxy. The following example shows the modifications made by the Falcot Corp administrators:"
msgstr "キャッシュサーバを有効化するには、<filename>/etc/squid/squid.conf</filename> 設定ファイルを編集し、ローカルネットワークからのマシンがプロキシを介して問い合わせを実行する事を許可するだけで簡単に可能です。以下の例は Falcot Corp 管理者の行った変更を表わしています:"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/squid/squid.conf</filename> file (excerpts)"
msgstr "<filename>/etc/squid/squid.conf</filename> ファイル (抜粋)"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS\n"
"\n"
"# Example rule allowing access from your local networks. Adapt\n"
"# to list your (internal) IP networks from where browsing should\n"
"# be allowed\n"
"acl our_networks src 192.168.1.0/24 192.168.2.0/24\n"
"http_access allow our_networks\n"
"http_access allow localhost\n"
"# And finally deny all other access to this proxy\n"
"http_access deny all"
msgstr ""
"\n"
"# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS\n"
"\n"
"# Example rule allowing access from your local networks. Adapt\n"
"# to list your (internal) IP networks from where browsing should\n"
"# be allowed\n"
"acl our_networks src 192.168.1.0/24 192.168.2.0/24\n"
"http_access allow our_networks\n"
"http_access allow localhost\n"
"# And finally deny all other access to this proxy\n"
"http_access deny all"

#. Tag: title
#, no-c-format
msgid "Configuring a Filter"
msgstr "フィルタの設定"

#. Tag: para
#, no-c-format
msgid "<command>squid</command> itself does not perform the filtering; this action is delegated to <command>squidGuard</command>. The former must then be configured to interact with the latter. This involves adding the following directive to the <filename>/etc/squid/squid.conf</filename> file:"
msgstr "<command>squid</command> 自身はフィルタリングを実行しません; フィルタリング作業は <command>squidGuard</command> に委任されています。<command>squid</command> を設定して <command>squidGuard</command> と協力するようにしなければいけません。これを行うには、以下の指示文を <filename>/etc/squid/squid.conf</filename>  ファイルに追加します:"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>squidGuard</command></primary>"
msgstr "<primary><command>squidGuard</command></primary>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"redirect_program /usr/bin/squidGuard -c /etc/squid/squidGuard.conf "
msgstr ""
"\n"
"redirect_program /usr/bin/squidGuard -c /etc/squid/squidGuard.conf "

#. Tag: para
#, no-c-format
msgid "The <filename>/usr/lib/cgi-bin/squidGuard.cgi</filename> CGI program also needs to be installed, using <filename>/usr/share/doc/squidguard/examples/squidGuard.cgi.gz</filename> as a starting point. Required modifications to this script are the <varname>$proxy</varname> and <varname>$proxymaster</varname> variables (the name of the proxy and the administrator's contact e-mail, respectively). The <varname>$image</varname> and <varname>$redirect</varname> variables should point to existing images representing the rejection of a query."
msgstr "<filename>/usr/share/doc/squidguard/examples/squidGuard.cgi.gz</filename> をたたき台として使い、<filename>/usr/lib/cgi-bin/squidGuard.cgi</filename> CGI プログラムをインストールする事が必要です。このスクリプトの <varname>$proxy</varname> と <varname>$proxymaster</varname> 変数 (それぞれプロキシの名前と管理者の連絡用電子メールアドレスです) を変更する必要があります。<varname>$image</varname> と <varname>$redirect</varname> 変数は問い合わせが拒否された事を表現する既存の画像を設定します。"

#. Tag: para
#, no-c-format
msgid "The filter is enabled with the <command>/etc/init.d/squid reload</command> command. However, since the <emphasis role=\"pkg\">squidguard</emphasis> package does no filtering by default, it is the administrator's task to define the policy. This can be done by creating the <filename>/etc/squid/squidGuard.conf</filename> file (using <filename>/etc/squidguard/squidGuard.conf.default</filename> as template if required)."
msgstr "このフィルタを有効化するには、<command>/etc/init.d/squid reload</command> コマンドを使います。しかしながら、<emphasis role=\"pkg\">squidguard</emphasis> パッケージはデフォルトで何もフィルタリングしません。フィルタリングポリシーを定義するのは管理者の仕事です。これを行うには、<filename>/etc/squid/squidGuard.conf</filename> ファイルを作成します (必要ならば <filename>/etc/squidguard/squidGuard.conf.default</filename> をテンプレートとして使います)。"

#. Tag: para
#, no-c-format
msgid "The working database must be regenerated with <command>update-squidguard</command> after each change of the <command>squidGuard</command> configuration file (or one of the lists of domains or URLs it mentions). The configuration file syntax is documented on the following website: <ulink type=\"block\" url=\"http://www.squidguard.org/Doc/configure.html\" />"
msgstr "<command>squidGuard</command> 設定ファイル (またはその中で言及しているドメインまたは URL のリストの 1 つ) を変更したら、毎回 <command>update-squidguard</command> を使って作業データベースを再生成しなければいけません。設定ファイルの構文は以下のウェブサイトで説明されています: <ulink type=\"block\" url=\"http://www.squidguard.org/Doc/configure.html\" />"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>update-squidguard</command></primary>"
msgstr "<primary><command>update-squidguard</command></primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>ALTERNATIVE</emphasis> DansGuardian"
msgstr "<emphasis>ALTERNATIVE</emphasis> DansGuardian"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">dansguardian</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">dansguardian</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>PICS</primary>"
msgstr "<primary>PICS</primary>"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">dansguardian</emphasis> package is an alternative to <emphasis>squidguard</emphasis>. This software does not simply handle a black-list of forbidden URLs, but it can take advantage of the PICS system (<emphasis>Platform for Internet Content Selection</emphasis>) to decide whether a page is acceptable by dynamic analysis of its contents."
msgstr "<emphasis role=\"pkg\">dansguardian</emphasis> パッケージは <emphasis>squidguard</emphasis> の代替品です。dansguardian は単純に禁止された URL のブラックリストを取り扱うだけではありません。PICS システム (<emphasis>Platform for Internet Content Selection</emphasis>) の利点を駆使して、ページ内容を動的に解析することで、ページを許可するか否かを判断する事が可能です。"

#. Tag: title
#, no-c-format
msgid "LDAP Directory"
msgstr "LDAP ディレクトリ"

#. Tag: indexterm
#, no-c-format
msgid "<primary>LDAP</primary>"
msgstr "<primary>LDAP</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>OpenLDAP</primary>"
msgstr "<primary>OpenLDAP</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>directory, LDAP</primary>"
msgstr "<primary>ディレクトリ、LDAP</primary>"

#. Tag: para
#, no-c-format
msgid "OpenLDAP is an implementation of the LDAP protocol; in other words, it's a special-purpose database designed for storing directories. In the most common use case, using an LDAP server allows centralizing management of user accounts and the related permissions. Moreover, an LDAP database is easily replicated, which allows setting up multiple synchronized LDAP servers. When the network and the user base grows quickly, the load can then be balanced across several servers."
msgstr "OpenLDAP は LDAP プロトコルの実装です; 言い換えれば、LDAP プロトコルとはディレクトリを保存するために設計された特製データベースです。これが最もよく使われる用途は、LDAP サーバを使ってユーザアカウントと関連するパーミッションの中央管理を行う場合です。更に、LDAP データベースは簡単に複製できるので、復数の同期された LDAP サーバをセットアプする事が可能になります。ネットワークとユーザの数が急速に多くなった場合でも、復数のサーバ間で負荷のバランスをとる事が可能です。"

#. Tag: para
#, no-c-format
msgid "LDAP data is structured and hierarchical. The structure is defined by “schemas” which describe the kind of objects that the database can store, with a list of all their possible attributes. The syntax used to refer to a particular object in the database is based on this structure, which explains its complexity."
msgstr "LDAP データは階層的に構造化されています。データ構造は「スキーマ」によって定義され、スキーマはデータベースに保存できるオブジェクトの種類をその属性リストと一緒に説明しています。データベース内の特定のオブジェクトを参照するために使われる構文はデータ構造に依存し、構文の複雑さはデータ構造の複雑さに対応します。"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">slapd</emphasis> package contains the OpenLDAP server. The <emphasis role=\"pkg\">ldap-utils</emphasis> package includes command-line tools for interacting with LDAP servers."
msgstr "<emphasis role=\"pkg\">slapd</emphasis> パッケージには、OpenLDAP サーバが含まれます。<emphasis role=\"pkg\">ldap-utils</emphasis> パッケージには、LDAP サーバと情報をやり取りするためのコマンドラインツールが含まれます。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>slapd</emphasis></primary>"
msgstr "<primary><emphasis>slapd</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Installing <emphasis role=\"pkg\">slapd</emphasis> is usually non-interactive unless you have configured debconf to display questions with lower priorities. Nevertheless, it is debconf-enabled, and thus a simple <command>dpkg-reconfigure slapd</command> can reconfigure the LDAP database:"
msgstr "<emphasis role=\"pkg\">slapd</emphasis> のインストールは、debconf を設定して低い優先度の質問を表示するようにしていない限り、通常非対話的です。とは言っても、<emphasis role=\"pkg\">slapd</emphasis> は debconf を使うパッケージですから、<command>dpkg-reconfigure slapd</command> を使えば簡単に LDAP データベースを再設定する事が可能です。"

#. Tag: para
#, no-c-format
msgid "Omit OpenLDAP server configuration? No, of course, we want to configure this service."
msgstr "OpenLDAP サーバ設定を中止しますか? もちろん No です。我々は LDAP サービスを設定します。"

#. Tag: para
#, no-c-format
msgid "DNS domain name: “<literal>falcot.com</literal>”."
msgstr "DNS ドメイン名: 「<literal>falcot.com</literal>」。"

#. Tag: para
#, no-c-format
msgid "Organization name: “Falcot Corp”."
msgstr "組織名: 「Falcot Corp」。"

#. Tag: para
#, no-c-format
msgid "An administrative passwords needs to be typed in."
msgstr "管理用パスワードを打ち込む必要があります。"

#. Tag: para
#, no-c-format
msgid "Database backend to use: “HDB”."
msgstr "使用するデータベースバックエンド: 「HDB」。"

#. Tag: para
#, no-c-format
msgid "Do you want the database to be removed when <emphasis role=\"pkg\">slapd</emphasis> is purged? No. No point in risking losing the database in case of a mistake."
msgstr "<emphasis role=\"pkg\">slapd</emphasis> を完全消去する場合に、データベースを削除しますか? いいえ。間違ってデータベースを失う危険性を増やすのは得策ではありません。"

#. Tag: para
#, no-c-format
msgid "Move old database? This question is only asked when the configuration is attempted while a database already exists. Only answer “yes” if you actually want to start again from a clean database, for instance if you run <command>dpkg-reconfigure slapd</command> right after the initial installation."
msgstr "古いデータベースを移動しますか? データベース既に存在するにも関わらず、設定を行おうとした場合に、この質問を尋ねられます。例えば、最初のインストールの直後に <command>dpkg-reconfigure slapd</command> を実行する場合など、空っぽのデータベースをから設定を再開したい場合、答えは「yes」です。"

#. Tag: para
#, no-c-format
msgid "Allow LDAPv2 protocol? No, there's no point in that. All the tools we're going to use understand the LDAPv3 protocol."
msgstr "LDAPv2 プロトコルを許可しますか? いいえ、許可する意味が無いからです。我々が使おうとしているツールはすべて LDAPv3 プロトコルを理解します。"

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> LDIF format"
msgstr "<emphasis>BACK TO BASICS</emphasis> LDIF フォーマット"

#. Tag: para
#, no-c-format
msgid "An LDIF file (<emphasis>LDAP Data Interchange Format</emphasis>) is a portable text file describing the contents of an LDAP database (or a portion thereof); this can then be used to inject the data into any other LDAP server."
msgstr "LDIF ファイル (<emphasis>LDAP Data Interchange Format</emphasis>) は移植可能なテキストファイルで、LDAP データベース (またはデータベースの一部) の内容を説明しています。LDIF ファイルを使って、他の LDAP サーバにデータを投入する事が可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary>LDIF</primary>"
msgstr "<primary>LDIF</primary>"

#. Tag: para
#, no-c-format
msgid "A minimal database is now configured, as demonstrated by the following query:"
msgstr "以下の問い合わせによって実例を示す通り、最低限のデータベースが設定されています:"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput>$ </computeroutput><userinput>ldapsearch -x -b dc=falcot,dc=com</userinput>\n"
"<computeroutput># extended LDIF\n"
"#\n"
"# LDAPv3\n"
"# base &lt;dc=falcot,dc=com&gt; with scope sub\n"
"# filter: (objectclass=*)\n"
"# requesting: ALL\n"
"#\n"
"\n"
"# falcot.com\n"
"dn: dc=falcot,dc=com\n"
"objectClass: top\n"
"objectClass: dcObject\n"
"objectClass: organization\n"
"o: Falcot Corp\n"
"dc: falcot\n"
"\n"
"# admin, falcot.com\n"
"dn: cn=admin,dc=falcot,dc=com\n"
"objectClass: simpleSecurityObject\n"
"objectClass: organizationalRole\n"
"cn: admin\n"
"description: LDAP administrator\n"
"\n"
"# search result\n"
"search: 2\n"
"result: 0 Success\n"
"\n"
"# numResponses: 3\n"
"# numEntries: 2\n"
"</computeroutput>"
msgstr ""
"\n"
"<computeroutput>$ </computeroutput><userinput>ldapsearch -x -b dc=falcot,dc=com</userinput>\n"
"<computeroutput># extended LDIF\n"
"#\n"
"# LDAPv3\n"
"# base &lt;dc=falcot,dc=com&gt; with scope sub\n"
"# filter: (objectclass=*)\n"
"# requesting: ALL\n"
"#\n"
"\n"
"# falcot.com\n"
"dn: dc=falcot,dc=com\n"
"objectClass: top\n"
"objectClass: dcObject\n"
"objectClass: organization\n"
"o: Falcot Corp\n"
"dc: falcot\n"
"\n"
"# admin, falcot.com\n"
"dn: cn=admin,dc=falcot,dc=com\n"
"objectClass: simpleSecurityObject\n"
"objectClass: organizationalRole\n"
"cn: admin\n"
"description: LDAP administrator\n"
"\n"
"# search result\n"
"search: 2\n"
"result: 0 Success\n"
"\n"
"# numResponses: 3\n"
"# numEntries: 2\n"
"</computeroutput>"

#. Tag: para
#, no-c-format
msgid "The query returned two objects: the organization itself, and the administrative user."
msgstr "この問い合わせの結果 2 種類のオブジェクトが返されました: 組織自身と、管理ユーザです。"

#. Tag: title
#, no-c-format
msgid "Filling in the Directory"
msgstr "ディレクトリの書き込み"

#. Tag: para
#, no-c-format
msgid "Since an empty database is not particularly useful, we're going to inject into it all the existing directories; this includes the users, groups, services and hosts databases."
msgstr "空っぽのデータベースは特に便利というわけではないので、すべての存在するディレクトリをデータベースに投入することにします; ディレクトリにはユーザ、グループ、サービス、ホスト名データベースが含まれます。"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">migrationtools</emphasis> package provides a set of scripts dedicated to extract data from the standard Unix directories (<filename>/etc/passwd</filename>, <filename>/etc/group</filename>, <filename>/etc/services</filename>, <filename>/etc/hosts</filename> and so on), convert this data, and inject it into the LDAP database."
msgstr "<emphasis role=\"pkg\">migrationtools</emphasis> パッケージには、標準的な Unix ディレクトリ (<filename>/etc/passwd</filename>、<filename>/etc/group</filename>、<filename>/etc/services</filename>、<filename>/etc/hosts</filename> など) からのデータを展開するための一連のスクリプトが含まれます。スクリプトを使ってデータを変換し、LDAP データベースに投入します。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">migrationtools</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">migrationtools</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Once the package is installed, the <filename>/etc/migrationtools/migrate_common.ph</filename> must be edited; the <varname>IGNORE_UID_BELOW</varname> and <varname>IGNORE_GID_BELOW</varname> options need to be enabled (uncommenting them is enough), and <varname>DEFAULT_MAIL_DOMAIN</varname>/<varname>DEFAULT_BASE</varname> need to be updated."
msgstr "パッケージをインストールしたら、必ず <filename>/etc/migrationtools/migrate_common.ph</filename> を編集してください; <varname>IGNORE_UID_BELOW</varname> と <varname>IGNORE_GID_BELOW</varname> オプションを編集して (コメント解除するだけで十分です)、<varname>DEFAULT_MAIL_DOMAIN</varname>/<varname>DEFAULT_BASE</varname> を更新する必要があります。"

#. Tag: para
#, no-c-format
msgid "The actual migration operation is handled by the <command>migrate_all_online.sh</command> command, as follows:"
msgstr "実際の移行操作は <command>migrate_all_online.sh</command> コマンドを使って行います、以下の通りです:"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>cd /usr/share/migrationtools</userinput>\n"
"<computeroutput># </computeroutput><userinput>LDAPADD=\"/usr/bin/ldapadd -c\" ETC_ALIASES=/dev/null ./migrate_all_online.sh</userinput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>cd /usr/share/migrationtools</userinput>\n"
"<computeroutput># </computeroutput><userinput>LDAPADD=\"/usr/bin/ldapadd -c\" ETC_ALIASES=/dev/null ./migrate_all_online.sh</userinput>"

#. Tag: para
#, no-c-format
msgid "The <command>migrate_all_online.sh</command> asks a few questions about the LDAP database into which the data is to be migrated. <xref linkend=\"tab-migrate-all\" xrefstyle=\"select: label nopage\" /> summarizes the answers given in the Falcot use-case."
msgstr "<command>migrate_all_online.sh</command> から LDAP データベースに移行するデータの種類に関する数個の質問を尋ねられます。<xref linkend=\"tab-migrate-all\" xrefstyle=\"select: label nopage\" />には Falcot の使用例で使った回答がまとめられています。"

#. Tag: title
#, no-c-format
msgid "Answers to questions asked by the <command>migrate_all_online.sh</command> script"
msgstr "<command>migrate_all_online.sh</command> スクリプトからの質問に対する回答"

#. Tag: entry
#, no-c-format
msgid "Question"
msgstr "質問"

#. Tag: entry
#, no-c-format
msgid "Answer"
msgstr "回答"

#. Tag: entry
#, no-c-format
msgid "X.500 naming context"
msgstr "X.500 命名コンテキスト"

#. Tag: entry
#, no-c-format
msgid "<literal>dc=falcot,dc=com</literal>"
msgstr "<literal>dc=falcot,dc=com</literal>"

#. Tag: entry
#, no-c-format
msgid "LDAP server hostname"
msgstr "LDAP サーバホスト名"

#. Tag: entry
#, no-c-format
msgid "<literal>localhost</literal>"
msgstr "<literal>localhost</literal>"

#. Tag: entry
#, no-c-format
msgid "Manager DN"
msgstr "管理者識別名"

#. Tag: entry
#, no-c-format
msgid "<literal>cn=admin,dc=falcot,dc=com</literal>"
msgstr "<literal>cn=admin,dc=falcot,dc=com</literal>"

#. Tag: entry
#, no-c-format
msgid "Bind credentials"
msgstr "認証情報の紐付け"

#. Tag: entry
#, no-c-format
msgid "the administrative password"
msgstr "管理用パスワード"

#. Tag: entry
#, no-c-format
msgid "Create DUAConfigProfile"
msgstr "DUAConfigProfile を作成"

#. Tag: entry
#, no-c-format
msgid "no"
msgstr "no"

#. Tag: para
#, no-c-format
msgid "We deliberately ignore migration of the <filename>/etc/aliases</filename> file, since the standard schema as provided by Debian does not include the structures that this script uses to describe email aliases. Should we want to integrate this data into the directory, the <filename>/etc/ldap/schema/misc.schema</filename> file should be added to the standard schema."
msgstr "我々は意図的に <filename>/etc/aliases</filename> ファイルの移行を行いませんでした。なぜなら、Debian の提供する標準的なスキーマには、このスクリプトが電子メールアドレスを表現するために使う構造が含まれないからです。このデータをディレクトリに統合したい場合、標準的なスキーマに <filename>/etc/ldap/schema/misc.schema</filename> ファイルを追加するべきです。"

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> Browsing an LDAP directory"
msgstr "<emphasis>TOOL</emphasis> LDAP ディレクトリの閲覧"

#. Tag: para
#, no-c-format
msgid "The <command>jxplorer</command> command (in the package of the same name) is a graphical tool allowing to browse and edit an LDAP database. It's an interesting tool that provides an administrator with a good overview of the hierarchical structure of the LDAP data."
msgstr "<command>jxplorer</command> コマンド (同名のパッケージに含まれます) は LDAP データベースを閲覧および編集する事が可能なグラフィカルツールです。<command>jxplorer</command> コマンドは興味深いツールで、このツールを使うことで管理者は LDAP データの階層構造を判りやすく概観する事が可能です。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>jxplorer</command></primary>"
msgstr "<primary><command>jxplorer</command></primary>"

#. Tag: para
#, no-c-format
msgid "Also note the use of the <literal>-c</literal> option to the <command>ldapadd</command> command; this option requests that processing doesn't stop in case of error. Using this option is required because converting the <filename>/etc/services</filename> often generates a few errors that can safely be ignored."
msgstr "<command>ldapadd</command> コマンドの <literal>-c</literal> オプションの利用について触れておきます; このオプションはエラーが起きた場合に処理を停止しないように要求するものです。このオプションを使う事が必要です。なぜなら、<filename>/etc/services</filename> を変換する際に、無視しても問題無い数個のエラーが起きる事が多いからです。"

#. Tag: title
#, no-c-format
msgid "Managing Accounts with LDAP"
msgstr "LDAP を用いたアカウントの管理"

#. Tag: para
#, no-c-format
msgid "Now the LDAP database contains some useful information, the time has come to make use of this data. This section focuses on how to configure a Linux system so that the various system directories use the LDAP database."
msgstr "これで LDAP データベースに幾つかの実用的な情報が含まれるようになりましたので、このデータを使うように設定します。この節では、様々なシステムディレクトリが LDAP データベースを使うように Linux システムを設定する方法に注目します。"

#. Tag: title
#, no-c-format
msgid "Configuring NSS"
msgstr "NSS の設定"

#. Tag: para
#, no-c-format
msgid "The NSS system (Name Service Switch, see sidebar <xref linkend=\"sidebar.intro-nss\" />) is a modular system designed to define or fetch information for system directories. Using LDAP as a source of data for NSS requires installing the <emphasis role=\"pkg\">libnss-ldap</emphasis> package. Its installation asks a few questions; the answers are summarized in <xref linkend=\"tab-libnss-ldap\" xrefstyle=\"select: label nopage\" />."
msgstr "NSS システム (Name Service Switch、傍注<xref linkend=\"sidebar.intro-nss\" />参照) はシステムディレクトリの情報を定義または取得するために設計されたモジュール式システムです。NSS 用のデータ源として LDAP を使うには、<emphasis role=\"pkg\">libnss-ldap</emphasis> パッケージをインストールする必要があります。インストール中に数個の質問が行われます; その回答が<xref linkend=\"tab-libnss-ldap\" xrefstyle=\"select: label nopage\" />にまとめられています。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>libnss-ldap</emphasis></primary>"
msgstr "<primary><emphasis>libnss-ldap</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "Configuring the <emphasis role=\"pkg\">libnss-ldap</emphasis> package"
msgstr "<emphasis role=\"pkg\">libnss-ldap</emphasis> パッケージの設定"

#. Tag: entry
#, no-c-format
msgid "LDAP server Uniform Resource Identifier"
msgstr "LDAP サーバの Uniform Resource Identifier"

#. Tag: entry
#, no-c-format
msgid "<literal>ldap://ldap.falcot.com</literal>"
msgstr "<literal>ldap://ldap.falcot.com</literal>"

#. Tag: entry
#, no-c-format
msgid "Distinguished name of the search base"
msgstr "検索起点の識別名"

#. Tag: entry
#, no-c-format
msgid "LDAP version to use"
msgstr "使用する LDAP バージョン"

#. Tag: entry
#, no-c-format
msgid "<literal>3</literal>"
msgstr "<literal>3</literal>"

#. Tag: entry
#, no-c-format
msgid "Does the LDAP database require login?"
msgstr "LDAP データベースはログインを必要としますか?"

#. Tag: entry
#, no-c-format
msgid "Special LDAP privileges for root"
msgstr "root 用の特別な LDAP 権限"

#. Tag: entry
#, no-c-format
msgid "yes"
msgstr "yes"

#. Tag: entry
#, no-c-format
msgid "Make the configuration file readable/writeable by its owner only"
msgstr "所有者だけが設定ファイルを読み取り可能/書き込み可能な状態にする"

#. Tag: entry
#, no-c-format
msgid "LDAP account for root"
msgstr "root 用 LDAP アカウント"

#. Tag: entry
#, no-c-format
msgid "LDAP root account password"
msgstr "LDAP root アカウントパスワード"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/nsswitch.conf</filename> file then needs to be modified, so as to configure NSS to use the freshly-installed <command>ldap</command> module."
msgstr "そして、<filename>/etc/nsswitch.conf</filename> ファイルを変更し、最近インストールした <command>ldap</command> モジュールを使うように NSS を設定する必要があります。"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/nsswitch.conf</filename> file"
msgstr "<filename>/etc/nsswitch.conf</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# /etc/nsswitch.conf\n"
"#\n"
"# Example configuration of GNU Name Service Switch functionality.\n"
"# If you have the `glibc-doc' and `info' packages installed, try:\n"
"# `info libc \"Name Service Switch\"' for information about this file.\n"
"\n"
"passwd: ldap compat\n"
"group: ldap compat\n"
"shadow: ldap compat\n"
"\n"
"hosts: files dns ldap\n"
"networks: ldap files\n"
"\n"
"protocols: ldap db files\n"
"services: ldap db files\n"
"ethers: ldap db files\n"
"rpc: ldap db files\n"
"\n"
"netgroup: ldap files"
msgstr ""
"\n"
"# /etc/nsswitch.conf\n"
"#\n"
"# Example configuration of GNU Name Service Switch functionality.\n"
"# If you have the `glibc-doc' and `info' packages installed, try:\n"
"# `info libc \"Name Service Switch\"' for information about this file.\n"
"\n"
"passwd: ldap compat\n"
"group: ldap compat\n"
"shadow: ldap compat\n"
"\n"
"hosts: files dns ldap\n"
"networks: ldap files\n"
"\n"
"protocols: ldap db files\n"
"services: ldap db files\n"
"ethers: ldap db files\n"
"rpc: ldap db files\n"
"\n"
"netgroup: ldap files"

#. Tag: para
#, no-c-format
msgid "The <command>ldap</command> module is usually inserted before others, and it will therefore be queried first. The notable exception is the <literal>hosts</literal> service since contacting the LDAP server requires consulting DNS first (to resolve <literal>ldap.falcot.com</literal>). Without this exception, a hostname query would try to ask the LDAP server; this would trigger a name resolution for the LDAP server, and so on in an infinite loop."
msgstr "通常 <command>ldap</command> モジュールは他のモジュールよりも前に書き込みます。こうすることで、先に使われるようになります。注目すべき除外例が <literal>hosts</literal> サービスです。なぜなら、LDAP サーバに接続するには (<literal>ldap.falcot.com</literal> の名前解決を行うためには) 先に DNS を調べる必要があるからです<literal>hosts</literal> サービスで最初 <command>ldap</command> モジュールを使うようにすると、LDAP サーバにホスト名を問い合わせる事になります; 名前解決を担当する LDAP サーバに接続するには LDAP サーバの名前解決が必要なので、無限ループすることになります。"

#. Tag: para
#, no-c-format
msgid "If the LDAP server should be considered authoritative (and the local files used by the <command>files</command> module disregarded), services can be configured with the following syntax:"
msgstr "主に LDAP サーバを信頼する場合 (そして <command>files</command> モジュールの使うローカルファイルを軽視する場合)、以下の構文を使ってサービスを設定します:"

#. Tag: para
#, no-c-format
msgid "<literal><replaceable>service</replaceable>: ldap [NOTFOUND=return] files</literal>."
msgstr "<literal><replaceable>service</replaceable>: ldap [NOTFOUND=return] files</literal>."

#. Tag: para
#, no-c-format
msgid "If the requested entry does not exist in the LDAP database, the query will return a “not existing” reply even if the resource does exist in one of the local files; these local files will only be used when the LDAP service is down."
msgstr "要求されたエントリが LDAP データベースに存在しない場合、問い合わせに対する応答は「not existing」になるでしょう。これはリソースがローカルファイルに存在するか否かに依存しません; LDAP サービスが利用可能でない場合のみ、ローカルファイルが使われます。"

#. Tag: title
#, no-c-format
msgid "Configuring PAM"
msgstr "PAM の設定"

#. Tag: para
#, no-c-format
msgid "This section describes a PAM configuration (see sidebar <xref linkend=\"sidebar.intro-pam\" />) that will allow applications to perform the required authentications against the LDAP database."
msgstr "この節では、PAM 設定 (傍注<xref linkend=\"sidebar.intro-pam\" />参照) を説明します。ここで説明した PAM 設定で、アプリケーションが LDAP データベースに向けて要求された認証を実行する事を可能にします。"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Broken authentication"
msgstr "<emphasis>CAUTION</emphasis> 破壊された認証"

#. Tag: para
#, no-c-format
msgid "Changing the standard PAM configuration used by various programs is a sensitive operation. A mistake can lead to broken authentication, which could prevent logging in. Keeping a root shell open is therefore a good precaution. If configuration errors occur, they can be then fixed and the services restarted with minimal effort."
msgstr "様々なプログラムが使う標準的な PAM 設定を変更することは慎重に行うべきです。1 つの間違いが認証を破壊し、これによりログイン不可能になる場合があります。このため root シェルを開けた状態に保ちながら作業を行う事が良い予防策です。そうすれば、設定エラーが起きた場合、設定を修正し、最小限の努力でサービスを再起動する事が可能です。"

#. Tag: para
#, no-c-format
msgid "The LDAP module for PAM is provided by the <emphasis role=\"pkg\">libpam-ldap</emphasis> package. Installing this package asks a few questions very similar to those in <emphasis role=\"pkg\">libnss-ldap</emphasis>; some configuration parameters (such as the URI for the LDAP server) are even actually shared with the <emphasis role=\"pkg\">libnss-ldap</emphasis> package. Answers are summarized in <xref linkend=\"tab-libpam-ldap\" xrefstyle=\"select: label nopage\" />."
msgstr "PAM 用の LDAP モジュールは <emphasis role=\"pkg\">libpam-ldap</emphasis> パッケージによって提供されます。<emphasis role=\"pkg\">libpam-ldap</emphasis> パッケージをインストールする際に、<emphasis role=\"pkg\">libnss-ldap</emphasis> をインストールしたにされた質問と良く似た数個の質問を尋ねられます。幾つかの設定パラメータ (LDAP サーバの URI など) は <emphasis role=\"pkg\">libnss-ldap</emphasis> パッケージと共有されます。この回答は<xref linkend=\"tab-libpam-ldap\" xrefstyle=\"select: label nopage\" />にまとめられています。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>libpam-ldap</emphasis></primary>"
msgstr "<primary><emphasis>libpam-ldap</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "Configuration of <emphasis>libpam-ldap</emphasis>"
msgstr "<emphasis>libpam-ldap</emphasis> の設定"

#. Tag: entry
#, no-c-format
msgid "Allow LDAP admin account to behave like local root?"
msgstr "LDAP 管理者がローカルの root の如く振る舞う事を許可しますか?"

#. Tag: entry
#, no-c-format
msgid "Yes. This allows using the usual <command>passwd</command> command for changing passwords stored in the LDAP database."
msgstr "はい。こうすることで、通常の <command>passwd</command> コマンドから LDAP データベースに保存されているパスワードを変更する事が可能になります。"

#. Tag: entry
#, no-c-format
msgid "Does the LDAP database require logging in?"
msgstr "LDAP データベースはログインを要求しますか?"

#. Tag: entry
#, no-c-format
msgid "the LDAP database administrative password"
msgstr "LDAP データベース管理用パスワード"

#. Tag: entry
#, no-c-format
msgid "Local encryption algorithm to use for passwords"
msgstr "パスワードに対して用いるローカル暗号化アルゴリズム"

#. Tag: entry
#, no-c-format
msgid "crypt"
msgstr "crypt"

#. Tag: para
#, no-c-format
msgid "Installing <emphasis role=\"pkg\">libpam-ldap</emphasis> automatically adapts the default PAM configuration defined in the <filename>/etc/pam.d/common-auth</filename>, <filename>/etc/pam.d/common-password</filename> and <filename>/etc/pam.d/common-account</filename> files. This mechanism uses the dedicated <command>pam-auth-update</command> tool (provided by the <emphasis role=\"pkg\">libpam-runtime</emphasis> package). This tool can also be run by the administrator should they wish to enable or disable PAM modules."
msgstr "<emphasis role=\"pkg\">libpam-ldap</emphasis> をインストールと自動的に <filename>/etc/pam.d/common-auth</filename>、<filename>/etc/pam.d/common-password</filename>、<filename>/etc/pam.d/common-account</filename> ファイルで定義されたデフォルトの PAM 設定が適用されます。このメカニズムは専用の <command>pam-auth-update</command> ツール (<emphasis role=\"pkg\">libpam-runtime</emphasis> パッケージから提供される) を使います。<command>pam-auth-update</command> ツールは PAM モジュールを有効化または無効化したい管理者によって実行される場合もあります。"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>common-auth</filename></primary>"
msgstr "<primary><filename>common-auth</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/pam.d/common-auth</filename></primary>"
msgstr "<primary><filename>/etc/pam.d/common-auth</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>common-password</filename></primary>"
msgstr "<primary><filename>common-password</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/pam.d/common-password</filename></primary>"
msgstr "<primary><filename>/etc/pam.d/common-password</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>common-account</filename></primary>"
msgstr "<primary><filename>common-account</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/pam.d/common-account</filename></primary>"
msgstr "<primary><filename>/etc/pam.d/common-account</filename></primary>"

#. Tag: title
#, no-c-format
msgid "Securing LDAP Data Exchanges"
msgstr "安全な LDAP データ交換"

#. Tag: indexterm
#, no-c-format
msgid "<primary>LDAP</primary><secondary>secure</secondary>"
msgstr "<primary>LDAP</primary><secondary>安全な</secondary>"

#. Tag: para
#, no-c-format
msgid "By default, the LDAP protocol transits on the network as cleartext; this includes the (encrypted) passwords. Since the encrypted passwords can be extracted from the network, they can be vulnerable to dictionary-type attacks. This can be avoided by using an extra encryption layer; enabling this layer is the topic of this section."
msgstr "デフォルトで、LDAP プロトコルはネットワークを平文で通信します; (暗号化された) パスワードがネットワーク上をそのまま流れます。暗号化されたパスワードをネットワークから抽出する事が可能です。パスワードは辞書型攻撃に弱いです。暗号化層を設けることで、このような危険性避ける事が可能です; この節の主題は、暗号化層を有効化する事です。"

#. Tag: title
#, no-c-format
msgid "Configuring the Server"
msgstr "サーバの設定"

#. Tag: indexterm
#, no-c-format
msgid "<primary><foreignphrase>OpenSSL</foreignphrase></primary><secondary>creating keys</secondary>"
msgstr "<primary><foreignphrase>OpenSSL</foreignphrase></primary><secondary>鍵作成</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>key pair</primary>"
msgstr "<primary>鍵ペア</primary>"

#. Tag: para
#, no-c-format
msgid "The first step is to create a key pair (comprising a public key and a private key) for the LDAP server. The Falcot administrators reuse <emphasis>easy-rsa</emphasis> to generate it (see <xref linkend=\"sect.easy-rsa\" />). Running <command>./build-server-key ldap.falcot.com</command> asks a few mundane questions (location, organization name and so on). The answer to the “common name” question <emphasis>must</emphasis> be the fully-qualified hostname for the LDAP server; in our case, <literal>ldap.falcot.com</literal>."
msgstr "最初に LDAP サーバ用の (公開鍵と秘密鍵から成る) 鍵ペアを作成します。Falcot 管理者は鍵ペアを生成するために <emphasis>easy-rsa</emphasis> を再利用します (<xref linkend=\"sect.easy-rsa\" />参照)。<command>./build-server-key ldap.falcot.com</command> を実行すると、数個の一般的な (場所、組織名、などに関する) 質問を尋ねられます。「common name」に対する回答は<emphasis>必ず</emphasis> LDAP サーバの完全修飾ホスト名にしてください; 我々の場合 <literal>ldap.falcot.com</literal> です。"

#. Tag: para
#, no-c-format
msgid "This command creates a certificate in the <filename>keys/ldap.falcot.com.crt</filename> file; the corresponding private key is stored in <filename>keys/ldap.falcot.com.key</filename>."
msgstr "上のコマンドは証明書を作成し、<filename>keys/ldap.falcot.com.crt</filename> ファイルに保存します; 対応する秘密鍵は <filename>keys/ldap.falcot.com.key</filename> に保存されます。"

#. Tag: para
#, no-c-format
msgid "Now these keys have to be installed in their standard location, and we must make sure that the private file is readable by the LDAP server which runs under the <literal>openldap</literal> user identity:"
msgstr "これらの鍵を標準的な場所にインストールし、<literal>openldap</literal> ユーザ権限で実行されている LDAP サーバが秘密鍵を読み込み可能である事を保証しなければいけません:"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>adduser openldap ssl-cert</userinput>\n"
"Adding user `openldap' to group `ssl-cert' ...\n"
"Adding user openldap to group ssl-cert\n"
"Done.\n"
"# <userinput>mv keys/ldap.falcot.com.key /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chown root:ssl-cert /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chmod 0640 /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>mv newcert.pem /etc/ssl/certs/ldap.falcot.com.pem</userinput>"
msgstr ""
"\n"
"# <userinput>adduser openldap ssl-cert</userinput>\n"
"ユーザ `openldap' をグループ `ssl-cert' に追加しています...\n"
"ユーザ openldap をグループ ssl-cert に追加\n"
"完了。\n"
"# <userinput>mv keys/ldap.falcot.com.key /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chown root:ssl-cert /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chmod 0640 /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>mv newcert.pem /etc/ssl/certs/ldap.falcot.com.pem</userinput>"

#. Tag: para
#, no-c-format
msgid "The <command>slapd</command> daemon also needs to be told to use these keys for encryption. The LDAP server configuration is managed dynamically: the configuration can be updated with normal LDAP operations on the <literal>cn=config</literal> object hierarchy, and the server updates <filename>/etc/ldap/slapd.d</filename> in real time to make the configuration persistent. <command>ldapmodify</command> is thus the right tool to update the configuration:"
msgstr "<command>slapd</command> デーモンにこれらの鍵を暗号化に使うように伝える事も必要です。LDAP サーバ設定は動的に管理されます: 設定は <literal>cn=config</literal> オブジェクト階層に対する通常の LDAP 操作によって更新され、サーバは設定を永続的なものにするために <filename>/etc/ldap/slapd.d</filename> をリアルタイムで更新します。このため、<command>ldapmodify</command> が設定を更新する適切なツールです:"

#. Tag: title
#, no-c-format
msgid "Configuring <command>slapd</command> for encryption"
msgstr "暗号化用の <command>slapd</command> の設定"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>cat &gt;ssl.ldif &lt;&lt;END\n"
"dn: cn=config\n"
"changetype: modify\n"
"add: olcTLSCertificateFile\n"
"olcTLSCertificateFile: /etc/ssl/certs/ldap.falcot.com.pem\n"
"-\n"
"add: olcTLSCertificateKeyFile\n"
"olcTLSCertificateKeyFile: /etc/ssl/private/ldap.falcot.com.key\n"
"-\n"
"END</userinput>\n"
"# <userinput>ldapmodify -Y EXTERNAL -H ldapi:/// -f ssl.ldif</userinput>\n"
"SASL/EXTERNAL authentication started\n"
"SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth\n"
"SASL SSF: 0\n"
"modifying entry \"cn=config\""
msgstr ""
"\n"
"# <userinput>cat &gt;ssl.ldif &lt;&lt;END\n"
"dn: cn=config\n"
"changetype: modify\n"
"add: olcTLSCertificateFile\n"
"olcTLSCertificateFile: /etc/ssl/certs/ldap.falcot.com.pem\n"
"-\n"
"add: olcTLSCertificateKeyFile\n"
"olcTLSCertificateKeyFile: /etc/ssl/private/ldap.falcot.com.key\n"
"-\n"
"END</userinput>\n"
"# <userinput>ldapmodify -Y EXTERNAL -H ldapi:/// -f ssl.ldif</userinput>\n"
"SASL/EXTERNAL authentication started\n"
"SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth\n"
"SASL SSF: 0\n"
"modifying entry \"cn=config\""

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> <command>ldapvi</command> to edit an LDAP directory"
msgstr "<emphasis>TOOL</emphasis> <command>ldapvi</command> で LDAP ディレクトリを編集する"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>ldapvi</command></primary>"
msgstr "<primary><command>ldapvi</command></primary>"

#. Tag: para
#, no-c-format
msgid "With <command>ldapvi</command>, you can display an LDIF output of any part of the LDAP directory, make some changes in the text editor, and let the tool do the corresponding LDAP operations for you."
msgstr "<command>ldapvi</command> を使うことで、LDAP ディレクトリの任意の部分に対する LDIF 出力を表示したり、テキストエディタでそれを変更したり、対応する LDAP 操作を実行したりする事が可能です。"

#. Tag: para
#, no-c-format
msgid "It is thus a convenient way to update the configuration of the LDAP server, simply by editing the <literal>cn=config</literal> hierarchy."
msgstr "このため、 LDAP サーバの設定を更新するには、<command>ldapvi</command> を使って <literal>cn=config</literal> 階層を編集する方法が便利です。"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>ldapvi -Y EXTERNAL -h ldapi:/// -b cn=config</userinput>"
msgstr ""
"\n"
"# <userinput>ldapvi -Y EXTERNAL -h ldapi:/// -b cn=config</userinput>"

#. Tag: para
#, no-c-format
msgid "The last step for enabling encryption involves changing the <varname>SLAPD_SERVICES</varname> variable in the <filename>/etc/default/slapd</filename> file. We'll play it safe and disable unsecured LDAP altogether."
msgstr "暗号化を有効化するための最後の作業が <filename>/etc/default/slapd</filename> ファイル内の <varname>SLAPD_SERVICES</varname> 変数を変更する事です。我々は大事を取って、安全対策されていない LDAP を無効化します。"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/default/slapd</filename> file"
msgstr "<filename>/etc/default/slapd</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Default location of the slapd.conf file or slapd.d cn=config directory. If\n"
"# empty, use the compiled-in default (/etc/ldap/slapd.d with a fallback to\n"
"# /etc/ldap/slapd.conf).\n"
"SLAPD_CONF=\n"
"\n"
"# System account to run the slapd server under. If empty the server\n"
"# will run as root.\n"
"SLAPD_USER=\"openldap\"\n"
"\n"
"# System group to run the slapd server under. If empty the server will\n"
"# run in the primary group of its user.\n"
"SLAPD_GROUP=\"openldap\"\n"
"\n"
"# Path to the pid file of the slapd server. If not set the init.d script\n"
"# will try to figure it out from $SLAPD_CONF (/etc/ldap/slapd.conf by\n"
"# default)\n"
"SLAPD_PIDFILE=\n"
"\n"
"# slapd normally serves ldap only on all TCP-ports 389. slapd can also\n"
"# service requests on TCP-port 636 (ldaps) and requests via unix\n"
"# sockets.\n"
"# Example usage:\n"
"# SLAPD_SERVICES=\"ldap://127.0.0.1:389/ ldaps:/// ldapi:///\"\n"
"SLAPD_SERVICES=\"ldaps:/// ldapi:///\"\n"
"\n"
"# If SLAPD_NO_START is set, the init script will not start or restart\n"
"# slapd (but stop will still work).  Uncomment this if you are\n"
"# starting slapd via some other means or if you don't want slapd normally\n"
"# started at boot.\n"
"#SLAPD_NO_START=1\n"
"\n"
"# If SLAPD_SENTINEL_FILE is set to path to a file and that file exists,\n"
"# the init script will not start or restart slapd (but stop will still\n"
"# work).  Use this for temporarily disabling startup of slapd (when doing\n"
"# maintenance, for example, or through a configuration management system)\n"
"# when you don't want to edit a configuration file.\n"
"SLAPD_SENTINEL_FILE=/etc/ldap/noslapd\n"
"\n"
"# For Kerberos authentication (via SASL), slapd by default uses the system\n"
"# keytab file (/etc/krb5.keytab).  To use a different keytab file,\n"
"# uncomment this line and change the path.\n"
"#export KRB5_KTNAME=/etc/krb5.keytab\n"
"\n"
"# Additional options to pass to slapd\n"
"SLAPD_OPTIONS=\"\""
msgstr ""
"\n"
"# Default location of the slapd.conf file or slapd.d cn=config directory. If\n"
"# empty, use the compiled-in default (/etc/ldap/slapd.d with a fallback to\n"
"# /etc/ldap/slapd.conf).\n"
"SLAPD_CONF=\n"
"\n"
"# System account to run the slapd server under. If empty the server\n"
"# will run as root.\n"
"SLAPD_USER=\"openldap\"\n"
"\n"
"# System group to run the slapd server under. If empty the server will\n"
"# run in the primary group of its user.\n"
"SLAPD_GROUP=\"openldap\"\n"
"\n"
"# Path to the pid file of the slapd server. If not set the init.d script\n"
"# will try to figure it out from $SLAPD_CONF (/etc/ldap/slapd.conf by\n"
"# default)\n"
"SLAPD_PIDFILE=\n"
"\n"
"# slapd normally serves ldap only on all TCP-ports 389. slapd can also\n"
"# service requests on TCP-port 636 (ldaps) and requests via unix\n"
"# sockets.\n"
"# Example usage:\n"
"# SLAPD_SERVICES=\"ldap://127.0.0.1:389/ ldaps:/// ldapi:///\"\n"
"SLAPD_SERVICES=\"ldaps:/// ldapi:///\"\n"
"\n"
"# If SLAPD_NO_START is set, the init script will not start or restart\n"
"# slapd (but stop will still work).  Uncomment this if you are\n"
"# starting slapd via some other means or if you don't want slapd normally\n"
"# started at boot.\n"
"#SLAPD_NO_START=1\n"
"\n"
"# If SLAPD_SENTINEL_FILE is set to path to a file and that file exists,\n"
"# the init script will not start or restart slapd (but stop will still\n"
"# work).  Use this for temporarily disabling startup of slapd (when doing\n"
"# maintenance, for example, or through a configuration management system)\n"
"# when you don't want to edit a configuration file.\n"
"SLAPD_SENTINEL_FILE=/etc/ldap/noslapd\n"
"\n"
"# For Kerberos authentication (via SASL), slapd by default uses the system\n"
"# keytab file (/etc/krb5.keytab).  To use a different keytab file,\n"
"# uncomment this line and change the path.\n"
"#export KRB5_KTNAME=/etc/krb5.keytab\n"
"\n"
"# Additional options to pass to slapd\n"
"SLAPD_OPTIONS=\"\""

#. Tag: title
#, no-c-format
msgid "Configuring the Client"
msgstr "クライアントの設定"

#. Tag: para
#, no-c-format
msgid "On the client side, the configuration for the <emphasis>libpam-ldap</emphasis> and <emphasis>libnss-ldap</emphasis> modules needs to be modified to use an <literal>ldaps://</literal> URI."
msgstr "クライアント側で、<emphasis>libpam-ldap</emphasis> と <emphasis>libnss-ldap</emphasis> モジュールの設定を修正し、<literal>ldaps://</literal> URI を使うようにする作業が必要です。"

#. Tag: para
#, no-c-format
msgid "LDAP clients also need to be able to authenticate the server. In a X.509 public key infrastructure, public certificates are signed by the key of a certificate authority (CA). With <emphasis>easy-rsa</emphasis>, the Falcot administrators have created their own CA and they now need to configure the system to trust the signatures of Falcot's CA. This can be done by putting the CA certificate in <filename>/usr/local/share/ca-certificates</filename> and running <command>update-ca-certificates</command>."
msgstr "LDAP クライアントにサーバを認証させる必要があります。X.509 公開鍵基盤において、公開証明書は認証局 (CA) の鍵で署名されます。<emphasis>easy-rsa</emphasis> を使うことで、Falcot 管理者は自分自身の CA を作成しました。さらに管理者は Falcot の CA の署名を信頼するようにシステムを設定する必要があります。これを行うには、CA 証明書を <filename>/usr/local/share/ca-certificates</filename> に配置して、<command>update-ca-certificates</command> を実行します。"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>cp keys/ca.crt /usr/local/share/ca-certificates/falcot.crt</userinput>\n"
"# <userinput>update-ca-certificates</userinput>\n"
"Updating certificates in /etc/ssl/certs... 1 added, 0 removed; done.\n"
"Running hooks in /etc/ca-certificates/update.d....\n"
"Adding debian:falcot.pem\n"
"done.\n"
"done."
msgstr ""
"\n"
"# <userinput>cp keys/ca.crt /usr/local/share/ca-certificates/falcot.crt</userinput>\n"
"# <userinput>update-ca-certificates</userinput>\n"
"Updating certificates in /etc/ssl/certs... 1 added, 0 removed; done.\n"
"Running hooks in /etc/ca-certificates/update.d....\n"
"Adding debian:falcot.pem\n"
"done.\n"
"done."

#. Tag: para
#, no-c-format
msgid "Last but not least, the default LDAP URI and default base DN used by the various command line tools can be modified in <filename>/etc/ldap/ldap.conf</filename>. This will save quite some typing."
msgstr "最後に大事な事ですが、様々なコマンドラインツールで使われるデフォルトの LDAP URI とデフォルトの DN は <filename>/etc/ldap/ldap.conf</filename> を編集すれば変更する事が可能です。こうすることで、タイプする量を激減させる事が可能です。"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/ldap/ldap.conf</filename> file"
msgstr "<filename>/etc/ldap/ldap.conf</filename> ファイル"

#. Tag: programlisting
#, no-c-format
msgid ""
"#\n"
"# LDAP Defaults\n"
"#\n"
"\n"
"# See ldap.conf(5) for details\n"
"# This file should be world readable but not world writable.\n"
"\n"
"BASE   dc=falcot,dc=com\n"
"URI    ldaps://ldap.falcot.com\n"
"\n"
"#SIZELIMIT      12\n"
"#TIMELIMIT      15\n"
"#DEREF          never\n"
"\n"
"# TLS certificates (needed for GnuTLS)\n"
"TLS_CACERT      /etc/ssl/certs/ca-certificates.crt"
msgstr ""
"#\n"
"# LDAP Defaults\n"
"#\n"
"\n"
"# See ldap.conf(5) for details\n"
"# This file should be world readable but not world writable.\n"
"\n"
"BASE   dc=falcot,dc=com\n"
"URI    ldaps://ldap.falcot.com\n"
"\n"
"#SIZELIMIT      12\n"
"#TIMELIMIT      15\n"
"#DEREF          never\n"
"\n"
"# TLS certificates (needed for GnuTLS)\n"
"TLS_CACERT      /etc/ssl/certs/ca-certificates.crt"

#. Tag: para
#, no-c-format
msgid "This chapter sampled only a fraction of the available server software; however, most of the common network services were described. Now it is time for an even more technical chapter: we'll go into deeper detail for some concepts, describe massive deployments and virtualization."
msgstr "この章では、利用可能なサーバソフトウェアの内のほんの僅かなソフトウェアだけに注目しました; しかしながら、ほとんどの一般的なネットワークサービスについて言及しました。今や、より技術的な章に入る準備が整ったと言えます: 一部の概念に関してより詳細を解説し、大規模な配備と仮想化について説明します。"
